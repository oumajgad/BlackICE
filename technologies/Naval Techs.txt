##############################################################################
############ DESTROYERS ######################################################
##############################################################################

### class for ships every 2 years - 6%
### class for ships every 3 years - 9%
destroyer_technology = {

	allow = {
		OR = {
			AND = {
				NOT = { destroyer_technology = 1 }	#1918
				light_naval_guns = 1
				light_warship_engine = 1
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { destroyer_technology = 2 }	# 1932
				light_naval_guns = 2
				light_warship_engine = 2
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { destroyer_technology = 3 }	# 1934
				light_naval_guns = 3
				light_warship_engine = 3
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { destroyer_technology = 4 }	# 1936
				light_naval_guns = 4
				light_warship_engine = 4
				light_warship_screws_rudder_optimalisation = 0
			}
		}
	}

	activate_unit = destroyer
	activate_unit = destroyer_actual


	destroyer_actual = {	### ADJUST STATS FOR 4 LVL'S
		sea_attack = 0.798
		sea_defence = 3
		air_defence = 0.441
		hull = 0.02
		range = 200
		maximum_speed = 0.5
		positioning = 0.003
		max_strength = 3.15

		north_sea = {
			attack = 0.01
			movement = 0.01
		}
		arctic_sea = {
			attack = 0.04
			movement = 0.03
		}
		fiords_sea = {
			defence = 0.012
		}
		north_atlantic = {
			attack = 0.02
			movement = 0.012
		}
		central_atlantic = {
			attack = 0.02
			movement = 0.01
		}
		south_atlantic = {
			attack = 0.02
			movement = 0.01
		}
		equator_sea = {
			attack = 0.02
			movement = 0.01
		}
		south_pacific = {
			attack = 0.02
			movement = 0.01
		}
		north_pacific = {
			attack = 0.015
			movement = 0.01
		}
		indian_ocean = {
			attack = 0.02
			movement = 0.01
		}
	}

	research_bonus_from = {
		naval_engineering = 1.0
	}

	on_completion = naval_engineering

	difficulty = 1

	start_year = 1918
	first_offset = 1930
	additional_offset = 2
	max_level = 4
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}
destroyer_class = {

	allow = {
		destroyer_technology = 4
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				NOT = { destroyer_class = 1 }	# 1938
				light_naval_guns = 5
				light_warship_engine = 5
				light_warship_screws_rudder_optimalisation = 1
			}
			AND = {
				NOT = { destroyer_class = 2 }	# 1940
				light_naval_guns = 6
				light_warship_engine = 6
				light_warship_screws_rudder_optimalisation = 2
			}
			AND = {
				NOT = { destroyer_class = 3 }	# 1942
				light_naval_guns = 7
				light_warship_engine = 7
				light_warship_screws_rudder_optimalisation = 3
			}
			AND = {
				NOT = { destroyer_class = 4 }	# 1944
				light_naval_guns = 8
				light_warship_engine = 8
				light_warship_screws_rudder_optimalisation = 4
			}
			AND = {
				NOT = { destroyer_class = 5 }	# 1946
				light_naval_guns = 9
				light_warship_engine = 9
				light_warship_screws_rudder_optimalisation = 5
			}
			AND = {
				NOT = { destroyer_class = 6 }	# 1948
				light_naval_guns = 10
				light_warship_engine = 10
				light_warship_screws_rudder_optimalisation = 6
			}
			AND = {
				NOT = { destroyer_class = 7 }	# 1950
				light_naval_guns = 11
				light_warship_engine = 11
				light_warship_screws_rudder_optimalisation = 7
			}
			AND = {
				NOT = { destroyer_class = 8 }	# 1952
				light_naval_guns = 12
				light_warship_engine = 12
				light_warship_screws_rudder_optimalisation = 8
			}
		}
	}
	#6% all stats
	destroyer_actual = {
		sea_attack = 2.28
		sea_defence = 8
		air_defence = 1.26
		hull = 0.02
		range = 200
		maximum_speed = 0.5
		positioning = 0.009
		max_strength = 9

		north_sea = {
			attack = 0.01
			movement = 0.01
		}
		arctic_sea = {
			attack = 0.04
			movement = 0.03
		}
		fiords_sea = {
			defence = 0.012
		}
		north_atlantic = {
			attack = 0.02
			movement = 0.012
		}
		central_atlantic = {
			attack = 0.02
			movement = 0.01
		}
		south_atlantic = {
			attack = 0.02
			movement = 0.01
		}
		equator_sea = {
			attack = 0.02
			movement = 0.01
		}
		south_pacific = {
			attack = 0.02
			movement = 0.01
		}
		north_pacific = {
			attack = 0.015
			movement = 0.01
		}
		indian_ocean = {
			attack = 0.02
			movement = 0.01
		}
	}

	research_bonus_from = {
		naval_engineering = 0.25
		destroyer_practical = 0.15
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1936
	first_offset = 1938
	additional_offset = 2
	max_level = 8
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}

frigate_class = {

	activate_unit = frigate

	allow = {
		destroyer_technology = 4
		destroyer_escort_role = 2
		smallwarship_asw = 2
		OR = {
			AND = {
				NOT = { frigate_class = 1 }	#1918
				or = {
					depth_charge = 2
					light_naval_guns = 1
				}
				light_warship_engine = 1
				light_warship_screws_rudder_optimalisation = 3
			}
			AND = {
				NOT = { frigate_class = 2 }	# 1932
				or = {
					depth_charge = 2
					light_naval_guns = 2
				}
				light_warship_engine = 2
				light_warship_screws_rudder_optimalisation = 3
			}
			AND = {
				NOT = { frigate_class = 3 }	# 1934
				or = {
					depth_charge = 3
					light_naval_guns = 3
				}
				light_warship_engine = 3
				light_warship_screws_rudder_optimalisation = 4
			}
			AND = {
				NOT = { frigate_class = 4 }	# 1936
				or = {
					depth_charge = 4
					light_naval_guns = 4
				}
				light_warship_engine = 4
				light_warship_screws_rudder_optimalisation = 5
			}
			AND = {
				NOT = { frigate_class = 5 }	# 1938
				or = {
					depth_charge = 4
					light_naval_guns = 5
				}
				light_warship_engine = 5
				light_warship_screws_rudder_optimalisation = 6
			}
			AND = {
				NOT = { frigate_class = 6 }	# 1940
				or = {
					depth_charge = 5
					light_naval_guns = 6
				}
				light_warship_engine = 6
				light_warship_screws_rudder_optimalisation = 7
			}
			AND = {
				NOT = { frigate_class = 7 }	# 1942
				or = {
					depth_charge = 6
					light_naval_guns = 7
				}
				light_warship_engine = 7
				light_warship_screws_rudder_optimalisation = 8
			}
			AND = {
				NOT = { frigate_class = 8 }	# 1944
				or = {
					depth_charge = 7
					light_naval_guns = 8
				}
				light_warship_engine = 8
				light_warship_screws_rudder_optimalisation = 8
			}
			AND = {
				NOT = { frigate_class = 9 }	# 1946
				or = {
					depth_charge = 7
					light_naval_guns = 9
				}
				light_warship_engine = 9
				light_warship_screws_rudder_optimalisation = 8
			}
			AND = {
				NOT = { frigate_class = 10 }	# 1948
				or = {
					depth_charge = 8
					light_naval_guns = 10
				}
				light_warship_engine = 10
				light_warship_screws_rudder_optimalisation = 8
			}
		}
	}

	frigate = {
		sea_attack = 0.3
		sea_defence = 15
		air_defence = 1.5
		hull = 0.12
		range = 80
		maximum_speed = 0.25
		positioning = 0.021
		max_strength = 7.2

		north_sea = {
			attack = 0.025
		}
		arctic_sea = {
			attack = 0.025
			movement = 0.012
		}

	}

	research_bonus_from = {
		naval_engineering = 0.25
		destroyer_practical = 0.15
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1939
	first_offset = 1940
	additional_offset = 2
	max_level = 7
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}

torpedo_boat_class = {   ### TODO: CHANGE light_naval_guns TO TORPEDO LATER

	allow = {
		destroyer_technology = 1
		OR = {
			AND = {
				NOT = { torpedo_boat_class = 1 }	# 1936
				torpedo_upgrade = 1
				light_warship_engine = 1
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { torpedo_boat_class = 2 }	# 1936
				torpedo_upgrade = 1
				light_warship_engine = 2
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { torpedo_boat_class = 3 }	# 1936
				torpedo_upgrade = 2
				light_warship_engine = 3
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { torpedo_boat_class = 4 }	# 1936
				torpedo_upgrade = 2
				light_warship_engine = 4
				light_warship_screws_rudder_optimalisation = 1
			}
			AND = {
				NOT = { torpedo_boat_class = 5 }	# 1938
				torpedo_upgrade = 3
				light_warship_engine = 5
				light_warship_screws_rudder_optimalisation = 2
			}
			AND = {
				NOT = { torpedo_boat_class = 6 }	# 1940
				torpedo_upgrade = 3
				light_warship_engine = 6
				light_warship_screws_rudder_optimalisation = 3
			}
			AND = {
				NOT = { torpedo_boat_class = 7 }	# 1942
				torpedo_upgrade = 4
				light_warship_engine = 7
				light_warship_screws_rudder_optimalisation = 4
			}
			AND = {
				NOT = { torpedo_boat_class = 8 }	# 1944
				torpedo_upgrade = 4
				light_warship_engine = 8
				light_warship_screws_rudder_optimalisation = 5
			}
			AND = {
				NOT = { torpedo_boat_class = 9 }	# 1946
				torpedo_upgrade = 5
				light_warship_engine = 9
				light_warship_screws_rudder_optimalisation = 6
			}
			AND = {
				NOT = { torpedo_boat_class = 10 }	# 1948
				torpedo_upgrade = 6
				light_warship_engine = 10
				light_warship_screws_rudder_optimalisation = 7
			}
		}
	}

	torpedo_boat = {
		sea_attack = 3
		sea_defence = 6
		air_defence = 1.26
		hull = 0.05
		range = 200
		maximum_speed = 0.5
		positioning = 0.021
		max_strength = 12
	}

	research_bonus_from = {
		naval_engineering = 0.25
		destroyer_practical = 0.15
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1918
	first_offset = 1932
	additional_offset = 2
	max_level = 11
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}

motor_torpedo_boat_class = {   ### TODO: CHANGE light_naval_guns TO TORPEDO LATER

	allow = {
		destroyer_technology = 1
		OR = {
			AND = {
				NOT = { motor_torpedo_boat_class = 1 }	# 1936
				torpedo_upgrade = 1
				light_warship_engine = 1
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 2 }	# 1936
				torpedo_upgrade = 1
				light_warship_engine = 2
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 3 }	# 1936
				torpedo_upgrade = 2
				light_warship_engine = 3
				light_warship_screws_rudder_optimalisation = 0
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 4 }	# 1936
				torpedo_upgrade = 2
				light_warship_engine = 4
				light_warship_screws_rudder_optimalisation = 1
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 5 }	# 1938
				torpedo_upgrade = 3
				light_warship_engine = 5
				light_warship_screws_rudder_optimalisation = 2
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 6 }	# 1940
				torpedo_upgrade = 3
				light_warship_engine = 6
				light_warship_screws_rudder_optimalisation = 3
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 7 }	# 1942
				torpedo_upgrade = 4
				light_warship_engine = 7
				light_warship_screws_rudder_optimalisation = 4
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 8 }	# 1944
				torpedo_upgrade = 4
				light_warship_engine = 8
				light_warship_screws_rudder_optimalisation = 5
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 9 }	# 1946
				torpedo_upgrade = 5
				light_warship_engine = 9
				light_warship_screws_rudder_optimalisation = 6
			}
			AND = {
				NOT = { motor_torpedo_boat_class = 10 }	# 1948
				torpedo_upgrade = 6
				light_warship_engine = 10
				light_warship_screws_rudder_optimalisation = 7
			}
		}
	}

	motor_torpedo_boat  = {
		sea_attack = 1.8
		sea_defence = 9.6
		air_defence = 0.9
		range = 10
		maximum_speed = 0.75
		positioning = 0.024
		max_strength = 9
		hull = 0.045
	}

	research_bonus_from = {
		naval_engineering = 0.25
		destroyer_practical = 0.15
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1918
	first_offset = 1932
	additional_offset = 2
	max_level = 11
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}

light_naval_guns = {

	allow = {
		#destroyer_technology = 1
		OR = {
			AND = {
				destroyer_technology = 0
				NOT = { light_naval_guns = 1 }	#1918
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_technology = 1
				NOT = { light_naval_guns = 2 }	#1932
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_technology = 2
				NOT = { light_naval_guns = 3 }	#1934
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_technology = 3
				NOT = { light_naval_guns = 4 }	#1936
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_technology = 4
				NOT = { light_naval_guns = 5 }	#1938
				or = {
					steel_casting_capability = 2
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 1
				NOT = { light_naval_guns = 6 }	#1940
				or = {
					steel_casting_capability = 2
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 2
				NOT = { light_naval_guns = 7 }	#1942
				or = {
					steel_casting_capability = 2
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 3
				NOT = { light_naval_guns = 8 }	#1944
				or = {
					steel_casting_capability = 2
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 4
				NOT = { light_naval_guns = 9 }	#1946
				or = {
					steel_casting_capability = 3
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 5
				NOT = { light_naval_guns = 10 }	#1948
				or = {
					steel_casting_capability = 3
					not = { has_country_flag = BlackICE }
				}
			}
			AND = {
				destroyer_class = 6
				NOT = { light_naval_guns = 11 }	#1950
				or = {
					steel_casting_capability = 3
					not = { has_country_flag = BlackICE }
				}
			}
		}
	}

	#destroyer_actual = {
	#	max_strength = 3.75
	#	convoy_attack = 0.225
	#	distance = 0.002
	#}
	#frigate = {
	#	max_strength = 3
	#	convoy_attack = 0.075
	#	distance = 0.002
	#}
	#torpedo_boat = {
	#	max_strength = 3
	#	convoy_attack = 0.075
	#	distance = 0.002
	#}

	escort_efficiency = 0.02

	research_bonus_from = {
		naval_engineering = 0.3
		destroyer_practical = 0.1
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 3

	start_year = 1918
	first_offset = 1929
	additional_offset = 2
	max_level = 12
	folder = smallship_folder
	can_upgrade = no
}
light_warship_engine = {

	allow = {
		OR = {
			AND = {
				NOT = { light_warship_engine = 1 }	#1918
				or = {
					destroyer_technology = 0
					frigate_class = 0
					torpedo_boat_class = 0
				}
			}
			AND = {
				NOT = { light_warship_engine = 2 }	#1933
				or = {
					destroyer_technology = 1
					frigate_class = 1
					torpedo_boat_class = 1
				}
			}
			AND = {
				NOT = { light_warship_engine = 3 }	#1935
				or = {
					destroyer_technology = 2
					frigate_class = 2
					torpedo_boat_class = 2
				}
			}
			AND = {
				NOT = { light_warship_engine = 4 }	#1937
				or = {
					destroyer_technology = 3
					frigate_class = 3
					torpedo_boat_class = 3
				}
			}
			AND = {
				NOT = { light_warship_engine = 5 }	#1939
				or = {
					destroyer_technology = 4
					frigate_class = 4
					torpedo_boat_class = 4
				}
			}
			AND = {
				NOT = { light_warship_engine = 6 }	#1941
				or = {
					destroyer_class = 1
					frigate_class = 5
					torpedo_boat_class = 5
				}
			}
			AND = {
				NOT = { light_warship_engine = 7 }	#1943
				or = {
					destroyer_class = 2
					frigate_class = 6
					torpedo_boat_class = 6
				}
			}
			AND = {
				NOT = { light_warship_engine = 8 }	#1945
				or = {
					destroyer_class = 3
					frigate_class = 7
					torpedo_boat_class = 7
				}
			}
			AND = {
				NOT = { light_warship_engine = 9 }	#1947
				or = {
					destroyer_class = 4
					frigate_class = 8
					torpedo_boat_class = 8
				}
			}
			AND = {
				NOT = { light_warship_engine = 10 }	#1949
				or = {
					destroyer_class = 5
					frigate_class = 9
					torpedo_boat_class = 9
				}
			}
			AND = {
				NOT = { light_warship_engine = 11 }	#1951
				or = {
					destroyer_class = 6
					frigate_class = 10
					torpedo_boat_class = 10
				}
			}
			AND = {
				NOT = { light_warship_engine = 12 }	#1951
				or = {
					destroyer_class = 7
					frigate_class = 11
					torpedo_boat_class = 11
				}
			}
		}
	}

	#destroyer_actual = {
	#	range = 60
	#	maximum_speed = 0.35
	#	sea_defence = 5
	#}
	#frigate = {
	#	range = 50
	#	maximum_speed = 0.10
	#	sea_defence = 6.25
	#}
	#torpedo_boat = {
	#	range = 10
	#	maximum_speed = 0.10
	#	sea_defence = 5
	#}
	#motor_torpedo_boat  = {
	#	range = 5
	#	maximum_speed = 0.5
	#	sea_defence = 4
	#}

	research_bonus_from = {
		naval_engineering = 0.3
		destroyer_practical = 0.1
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 3
	start_year = 1918
	first_offset = 1929	# 2nd model is from 1936
	additional_offset = 2	# one new every 2 year
	max_level = 12
	folder = smallship_folder
	can_upgrade = no
	stealable = no
}
light_warship_screws_rudder_optimalisation = {

	allow = {
		OR = {
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 1 }	#1918
				or = {
					destroyer_technology = 1
					frigate_class = 1
					torpedo_boat_class = 1
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 2 }	#1933
				or = {
					destroyer_technology = 2
					frigate_class = 2
					torpedo_boat_class = 2
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 3 }	#1935
				or = {
					destroyer_technology = 3
					frigate_class = 3
					torpedo_boat_class = 3
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 4 }	#1937
				or = {
					destroyer_technology = 4
					frigate_class = 4
					torpedo_boat_class = 4
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 5 }	#1939
				or = {
					destroyer_class = 1
					frigate_class = 5
					torpedo_boat_class = 5
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 6 }	#1941
				or = {
					destroyer_class = 2
					frigate_class = 6
					torpedo_boat_class = 6
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 7 }	#1943
				or = {
					destroyer_class = 3
					frigate_class = 7
					torpedo_boat_class = 7
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 8 }	#1945
				or = {
					destroyer_class = 4
					frigate_class = 8
					torpedo_boat_class = 8
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 9 }	#1947
				or = {
					destroyer_class = 5
					frigate_class = 9
					torpedo_boat_class = 9
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 10 }	#1949
				or = {
					destroyer_class = 6
					frigate_class = 10
					torpedo_boat_class = 10
				}
			}
			AND = {
				NOT = { light_warship_screws_rudder_optimalisation = 11 }	#1951
				or = {
					destroyer_class = 7
					frigate_class = 11
					torpedo_boat_class = 11
				}
			}
		}
	}

	#destroyer_actual = {
	#	range = 40
	#	maximum_speed = 0.35
	#	sea_defence = 3
	#}
	#frigate = {
	#	range = 40
	#	maximum_speed = 0.35
	#	sea_defence = 3.75
	#}
	#torpedo_boat = {
	#	range = 10
	#	maximum_speed = 0.35
	#	sea_defence = 3
	#}
	#motor_torpedo_boat  = {
	#	range = 5
	#	maximum_speed = 0.5
	#	sea_defence = 2.4
	#}

	research_bonus_from = {
		naval_engineering = 0.3
		destroyer_practical = 0.1
		naval_doctrine_practical = 0.6
	}

	on_completion = naval_engineering

	difficulty = 4
	start_year = 1935
	first_offset = 1937	# 2nd model is from 1936
	additional_offset = 2	# one new every 2 year
	max_level = 8
	folder = smallship_folder
	can_upgrade = no
}


hydrophone_dev = {

	allow = {
		lightcruiser_technology = 1
		destroyer_technology = 1
	}
	### 10%
	escort_carrier = {
		sub_detection = 1
	}
	torpedo_boat = {
		sub_detection = 2
		sub_attack = 1.75
	}
	#motor_torpedo_boat = {
	#	sub_detection = 2
	#	sub_attack = 1.75
	#}
	destroyer_actual = {
		sub_detection = 2
		sub_attack = 1.75
	}
	#light_cruiser = {
	#	sub_detection = 3
	#	sub_attack = 4.5
	#}
	frigate = {
		sub_detection = 2
		sub_attack = 1.75
	}
	convoy_escort = {
		efficiency = 0.02
	}

	escort_efficiency = 0.02

	research_bonus_from = {
		electronic_engineering_theory = 0.2
		naval_engineering = 0.2
		naval_doctrine_practical = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 4

	start_year = 1918
	first_offset = 1932		# 2nd model is from 1936
	additional_offset = 2
	max_level = 11
	folder = smallship_folder
	change = yes
}
small_warship_surface_radar = {

	allow = {
		or = {
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			destroyer_technology = 1
		}
		OR = {
			AND = {
				NOT = { small_warship_surface_radar = 1 }
				small_ship_radar = 1
			}
			AND = {
				NOT = { small_warship_surface_radar = 2 }
				small_ship_radar = 2
			}
			AND = {
				small_ship_radar = 3
			}
		}
	}

	escort_carrier = {
		sub_detection = 1
		surface_detection = 0.75
	}

	destroyer_actual = {
		sub_detection = 1.5
		surface_detection = 0.5
		positioning = 0.007
		night = {
			attack = 0.05
			defence = 0.05
		}

	}
	frigate = {
		sub_detection = 1.5
		surface_detection = 0.5
		positioning = 0.017
		night = {
			attack = 0.05
			defence = 0.05
		}

	}

	research_bonus_from = {
		electronic_engineering_theory = 0.4
		naval_engineering = 0.1
		naval_doctrine_practical = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 10

	start_year = 1940
	first_offset = 1941
	additional_offset = 2
	max_level = 7
	folder = smallship_folder
}

small_warship_airsearch_radar = {

	allow = {
		or = {
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			destroyer_technology = 1
		}
		OR = {
			AND = {
				NOT = { small_warship_airsearch_radar = 1 }
				small_ship_radar = 1
			}
			AND = {
				NOT = { small_warship_airsearch_radar = 2 }
				small_ship_radar = 2
			}
			AND = {
				small_ship_radar = 3
			}
		}
	}

	escort_carrier = {
		air_detection = 1.00
	}
	destroyer = {
		air_detection = 1.00
	}
	destroyer_actual = {
		air_detection = 1.00
	}
	frigate = {
		air_detection = 1.00
	}

	research_bonus_from = {
		electronic_engineering_theory = 0.4
		naval_engineering = 0.1
		naval_doctrine_practical = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 10

	start_year = 1940
	first_offset = 1941
	additional_offset = 2
	max_level = 6
	folder = smallship_folder
}


smallwarship_asw = {

	allow = {
		OR = {
			destroyer_technology = 1
			submarine_technology = 1
		}
		OR = {
			hydrophone_dev = 1
		}
	}

	### 1%
	escort_carrier = {
		sub_detection = 1
	}
	torpedo_boat = {
		sub_detection = 1
		sub_attack = 4
	}
	motor_torpedo_boat = {
		sub_detection = 1
		sub_attack = 4
	}
	destroyer_actual = {
		sub_detection = 1
		sub_attack = 4
	}
	frigate = {
		sub_detection = 1
		sub_attack = 4
	}
	#light_cruiser = {
	#	sub_detection = 1
	#	sub_attack = 4
	#}
	convoy_escort = {
		efficiency = 0.05
	}

	escort_efficiency = 0.05

	research_bonus_from = {
		electronic_engineering_theory = 0.15
		naval_engineering = 0.15
		naval_doctrine_practical = 0.35
	}

	on_completion = electronic_engineering_theory

	difficulty = 5

	start_year = 1935
	first_offset = 1939
	additional_offset = 3
	max_level = 6
	folder = smallship_folder
}
smallwarship_damage_control = {

	allow = {
		destroyer_technology = 1
		OR = {
			AND = {
				NOT = { smallwarship_damage_control = 3 }
			}
			AND = {
				NOT = { smallwarship_damage_control = 4 }
				destroyer_crew_training = 1
			}
			AND = {
				NOT = { smallwarship_damage_control = 5 }
				destroyer_crew_training = 2
			}
			AND = {
				destroyer_crew_training = 3
			}
		}
	}

	### 1%
	destroyer_actual = {
		sea_defence = 6
		air_defence = 0.63
	}
	frigate = {
		sea_defence = 7.5
		air_defence = 0.75
	}
	torpedo_boat = {
		sea_defence = 6
		air_defence = 0.63
	}
	motor_torpedo_boat = {
		sea_defence = 4.8
		air_defence = 0.45
	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_doctrine_practical = 0.65
	}

	difficulty = 5

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = smallship_folder
	stealable = no
}
smallwarship_fire_control_computer = {

	allow = {
		destroyer_technology = 1
		OR = {
			AND = {
				NOT = { smallwarship_fire_control_computer = 3 }
			}
			AND = {
				NOT = { smallwarship_fire_control_computer = 4 }
				small_warship_surface_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 2
			}
			AND = {
				NOT = { smallwarship_fire_control_computer = 5 }
				small_warship_surface_radar = 2
				fire_control_system_training = 2
				electronic_computing_machine = 1
			}
			AND = {
				small_warship_surface_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
		}
	}

	### 3%
	destroyer_actual = {
		sea_attack = 1.5
		convoy_attack = 0.27
		distance = 0.005
		positioning = 0.004

		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	frigate = {
		sea_attack = 0.15
		#convoy_attack = 0.135
		distance = 0.003
		positioning = 0.010

		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	research_bonus_from = {
		electronic_engineering_theory = 0.1
		naval_engineering = 0.1
		naval_doctrine_practical = 0.15
		mechanicalengineering_theory = 0.15
	}

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = smallship_folder
}
smallwarship_AAA_control_computer = {

	allow = {
		destroyer_technology = 1
		OR = {
			AND = {
				NOT = { smallwarship_AAA_control_computer = 1 }
				small_warship_airsearch_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 1
			}
			AND = {
				NOT = { smallwarship_AAA_control_computer = 2 }
				small_warship_airsearch_radar = 2
				fire_control_system_training = 2
				mechnical_computing_machine = 2
			}
			AND = {
				small_warship_airsearch_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
		}
	}

	destroyer_actual = {
		air_attack = 0.25
		air_defence = 0.945
	}
	frigate = {
		air_attack = 0.25
		air_defence = 1.125
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	research_bonus_from = {
		electronic_engineering_theory = 0.1
		naval_engineering = 0.1
		naval_doctrine_practical = 0.15
		mechanicalengineering_theory = 0.15
	}

	start_year = 1940
	first_offset = 1942
	additional_offset = 3
	max_level = 4
	folder = smallship_folder
}
hdfd_radio_dev = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			lightcruiser_technology = 1
			destroyer_technology = 1
			submarine_technology = 1
			radio = 1
		}
		OR = {
			AND = {
				not = { hdfd_radio_dev = 1 }
				radio = 1
			}
			AND = {
				not = { hdfd_radio_dev = 2 }
				radio = 2
			}
			AND = {
				radio = 3
			}
		}
	}

	torpedo_boat = {
		sub_detection = 1.5
		surface_detection = 1
		air_detection = 0.25
	}
	motor_torpedo_boat = {
		sub_detection = 1.5
		surface_detection = 1
		air_detection = 0.25
	}
	destroyer = {
		sub_detection = 1.75
		surface_detection = 1
		air_detection = 0.25
	}
	destroyer_actual = {
		sub_detection = 1.75
		surface_detection = 1
		air_detection = 0.25
	}
	frigate = {
		sub_detection = 1.75
		surface_detection = 1
		air_detection = 0.25
	}
	light_cruiser = {
		sub_detection = 1.75
		surface_detection = 1
		air_detection = 0.25
	}
	Convoy_raider_ship = {
		surface_detection = 0.25
		air_detection = 0.25
	}
	convoy_escort = {
		efficiency = 0.02
	}

	escort_efficiency = 0.02

	research_bonus_from = {
		electronic_engineering_theory = 0.1
		naval_doctrine_practical = 0.2
		mechanicalengineering_theory = 0.15
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	start_year = 1937
	first_offset = 1940
	additional_offset = 3
	max_level = 5
	folder = smallship_folder
	change = no
}
depth_charge = {

	allow = {
		lightcruiser_technology = 1
		destroyer_technology = 1
	}

	### 4%
	torpedo_boat = {
		sub_attack = 2.6
	}
	motor_torpedo_boat = {
		sub_attack = 2.6
	}
	destroyer_actual = {
		sub_attack = 5.2
	}
	frigate = {
		sub_attack = 8
	}
	#light_cruiser = {
	#	sub_attack = 4.5
	#}
	escort_carrier = {
		sub_attack = 10
	}
	naval_bomber = {
		sub_attack = 4
	}
	Flying_boat = {
		#sub_attack = 4
	}
	convoy_escort = {
		efficiency = 0.05
	}

	escort_efficiency = 0.05

	research_bonus_from = {
		naval_engineering = 0.2
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1937
	additional_offset = 4
	max_level = 5
	folder = smallship_folder
}
hedgehog_dev = { ###exclude from tech decay?

	allow = {
		has_country_flag = hedgehog_dev_active
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = destroyer_specialist_flag
		}
		depth_charge = 3
	}

	### 6%
	torpedo_boat = {
		sub_attack = 2.4
	}
	#motor_torpedo_boat = {
	#	sub_attack = 0.9
	#}
	destroyer_actual = {
		sub_attack = 7.8
	}
	frigate = {
		sub_attack = 12
	}
	#light_cruiser = {
	#	sub_attack = 3.375
	#}
	convoy_escort = {
		efficiency = 0.2
	}

	escort_efficiency = 0.15

	research_bonus_from = {
		naval_engineering = 0.3
		destroyer_practical = 0.1
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1943
	first_offset = 1944
	additional_offset = 3
	max_level = 6
	folder = unit_training_folder
}
asw_counter_measures = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = destroyer_specialist_flag
		}
		destroyer_escort_role = 4
		commerce_defence = 1
	}

	convoy_escort = {
		efficiency = 0.15
	}

	escort_efficiency = 0.15

	research_bonus_from = {
		naval_engineering = 0.1
		naval_doctrine_practical = 0.2
	}

	on_completion = naval_engineering

	difficulty = 8

	start_year = 1943
	folder = smallship_folder
}

heavy_antiaircraft_light_ships = { # Heavy AAA armament

	allow = {
		or = {
			and = {
				dual_purpose_guns = 1
				heavy_antiaircraft_light_ships = 0
				not = { heavy_antiaircraft_light_ships = 1 }
			}
			and = {
				dual_purpose_guns = 2
				heavy_antiaircraft_light_ships = 1
				not = { heavy_antiaircraft_light_ships = 2 }
			}
			and = {
				dual_purpose_guns = 3
				heavy_antiaircraft_light_ships = 2
				not = { heavy_antiaircraft_light_ships = 3 }
			}
			and = {
				dual_purpose_guns = 4
				heavy_antiaircraft_light_ships = 3
				not = { heavy_antiaircraft_light_ships = 4 }
			}
			and = {
				dual_purpose_guns = 5
				heavy_antiaircraft_light_ships = 4
				not = { heavy_antiaircraft_light_ships = 5 }
			}
		}
	}

	destroyer_actual = {
		air_attack = 0.5
	}
	frigate = {
		air_attack = 0.3
	}

	research_bonus_from = {
		naval_engineering = 0.2
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1935
	first_offset = 1938
	additional_offset = 3
	max_level = 6
	folder = smallship_folder
	can_upgrade = no
}

light_antiaircraft_light_ships = { # Heavy AAA armament

	allow = {
		destroyer_technology	= 1
	}

	destroyer_actual = {
		air_attack = 0.3
	}
	frigate = {
		air_attack = 0.2
	}

	research_bonus_from = {
		naval_engineering = 0.2
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1935
	first_offset = 1938
	additional_offset = 3
	max_level = 6
	folder = smallship_folder
	can_upgrade = yes
}

####################################################################
############ CRUISERS ##############################################
####################################################################

# Cruiser technologies
lightcruiser_technology = {

	activate_unit = light_cruiser

	allow = {
		destroyer_technology = 1
		num_of_ports = 1
		OR = {
			AND = {
				NOT = { lightcruiser_technology = 1 }	#1918
				light_cruiser_naval_guns = 1
				cruiser_engine_and_boilers = 1
				lightcruiser_armour_thickness = 1
				cruiser_screws_and_rudder_optimalisation = 1
				cruiser_hull_shape_optimalisation = 1
				cruiser_bulkheads_layout = 1
				cruiser_horizontal_protection_layout = 1
				cruiser_vertical_protection_layout = 1
			}
			AND = {
				NOT = { lightcruiser_technology = 2 }	# 1932
				light_cruiser_naval_guns = 2
				cruiser_engine_and_boilers = 2
				lightcruiser_armour_thickness = 2
				cruiser_screws_and_rudder_optimalisation = 2
				cruiser_hull_shape_optimalisation = 2
				cruiser_bulkheads_layout = 2
				cruiser_horizontal_protection_layout = 2
				cruiser_vertical_protection_layout = 2
			}
			AND = {
				NOT = { lightcruiser_technology = 3 }	# 1934
				light_cruiser_naval_guns = 3
				cruiser_engine_and_boilers = 3
				lightcruiser_armour_thickness = 3
				cruiser_screws_and_rudder_optimalisation = 3
				cruiser_hull_shape_optimalisation = 3
				cruiser_bulkheads_layout = 3
				cruiser_horizontal_protection_layout = 3
				cruiser_vertical_protection_layout = 3
			}
		}
	}

	light_cruiser = {
		sea_attack = 1.71
		air_defence = 1.4
		sea_defence = 6.3
		hull = 0.108
		range = 200
		maximum_speed = 0.8
		positioning = 0.009
		max_strength = 9
	}
 	anti_air_cruiser = {
		sea_attack = 1.35
		air_defence = 2.025
		sea_defence = 6.3
		hull = 0.108
		range = 200
		maximum_speed = 0.8
		positioning = 0.004
		max_strength = 9
	}

	research_bonus_from = {
		naval_engineering = 0.3
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 3

	start_year = 1918
	first_offset = 1929		# 2nd model is from 1929
	additional_offset = 3	# one new every 3 years
	max_level = 3
	folder = cruiser_folder
	can_upgrade = no
	stealable = no
}

lightcruiser_class = {

	allow = {
		lightcruiser_technology = 3
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				NOT = { lightcruiser_class = 1 }	# 1936
				light_cruiser_naval_guns = 4
				cruiser_engine_and_boilers = 4
				lightcruiser_armour_thickness = 4
				cruiser_screws_and_rudder_optimalisation = 4
				cruiser_hull_shape_optimalisation = 4
				cruiser_bulkheads_layout = 4
				cruiser_horizontal_protection_layout = 4
				cruiser_vertical_protection_layout = 4
			}
			AND = {
				NOT = { lightcruiser_class = 2 }	# 1938
				light_cruiser_naval_guns = 5
				cruiser_engine_and_boilers = 5
				lightcruiser_armour_thickness = 5
				cruiser_screws_and_rudder_optimalisation = 5
				cruiser_hull_shape_optimalisation = 5
				cruiser_bulkheads_layout = 5
				cruiser_horizontal_protection_layout = 5
				cruiser_vertical_protection_layout = 5
			}
			AND = {
				NOT = { lightcruiser_class = 3 }	# 1940
				light_cruiser_naval_guns = 6
				cruiser_engine_and_boilers = 6
				lightcruiser_armour_thickness = 6
				cruiser_screws_and_rudder_optimalisation = 6
				cruiser_hull_shape_optimalisation = 6
				cruiser_bulkheads_layout = 6
				cruiser_horizontal_protection_layout = 6
				cruiser_vertical_protection_layout = 6
			}
			AND = {
				NOT = { lightcruiser_class = 4 }	# 1942
				light_cruiser_naval_guns = 7
				cruiser_engine_and_boilers = 7
				lightcruiser_armour_thickness = 7
				cruiser_screws_and_rudder_optimalisation = 7
				cruiser_hull_shape_optimalisation = 7
				cruiser_bulkheads_layout = 7
				cruiser_horizontal_protection_layout = 7
				cruiser_vertical_protection_layout = 7
			}
			AND = {
				NOT = { lightcruiser_class = 5 }	# 1944
				light_cruiser_naval_guns = 8
				cruiser_engine_and_boilers = 8
				lightcruiser_armour_thickness = 8
				cruiser_screws_and_rudder_optimalisation = 8
				cruiser_hull_shape_optimalisation = 8
				cruiser_bulkheads_layout = 8
				cruiser_horizontal_protection_layout = 8
				cruiser_vertical_protection_layout = 8
			}
			AND = {
				NOT = { lightcruiser_class = 6 }	# 1946
				light_cruiser_naval_guns = 9
				cruiser_engine_and_boilers = 9
				lightcruiser_armour_thickness = 9
				cruiser_screws_and_rudder_optimalisation = 9
				cruiser_hull_shape_optimalisation = 9
				cruiser_bulkheads_layout = 9
				cruiser_horizontal_protection_layout = 9
				cruiser_vertical_protection_layout = 9
			}
			AND = {
				NOT = { lightcruiser_class = 7 }	# 1948
				light_cruiser_naval_guns = 10
				cruiser_engine_and_boilers = 10
				lightcruiser_armour_thickness = 10
				cruiser_screws_and_rudder_optimalisation = 10
				cruiser_hull_shape_optimalisation = 10
				cruiser_bulkheads_layout = 10
				cruiser_horizontal_protection_layout = 10
				cruiser_vertical_protection_layout = 10
			}
			AND = {
				NOT = { lightcruiser_class = 8 }	# 1948
				light_cruiser_naval_guns = 11
				cruiser_engine_and_boilers = 11
				lightcruiser_armour_thickness = 11
				cruiser_screws_and_rudder_optimalisation = 11
				cruiser_hull_shape_optimalisation = 11
				cruiser_bulkheads_layout = 11
				cruiser_horizontal_protection_layout = 11
				cruiser_vertical_protection_layout = 11
			}
			AND = {
				NOT = { lightcruiser_class = 9 }	# 1948
				light_cruiser_naval_guns = 12
				cruiser_engine_and_boilers = 12
				lightcruiser_armour_thickness = 12
				cruiser_screws_and_rudder_optimalisation = 12
				cruiser_hull_shape_optimalisation = 12
				cruiser_bulkheads_layout = 12
				cruiser_horizontal_protection_layout = 12
				cruiser_vertical_protection_layout = 12
			}
		}
	}

	### 9%
	light_cruiser = {
		sea_attack = 3.42
		air_defence = 2.88
		sea_defence = 12.6
		hull = 0.216
		range = 200
		maximum_speed = 0.8
		positioning = 0.018
		max_strength = 18
	}
	anti_air_cruiser = {
		sea_attack = 2.7
		air_defence = 4.05
		sea_defence = 12.6
		hull = 0.216
		range = 200
		maximum_speed = 0.8
		positioning = 0.009
		max_strength = 18
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 3

	start_year = 1936
	first_offset = 1939		# 2nd model is from 1929
	additional_offset = 3	# one new every 3 years
	max_level = 6
	folder = cruiser_folder
	can_upgrade = no
	stealable = no
}

anti_air_cruiser_activation = {

	activate_unit = anti_air_cruiser

	allow = {
		and = {
			light_cruiser_escort_role = 2
			lightcruiser_class = 2
			dual_purpose_guns = 3
		}
	}


	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1939
	folder = cruiser_folder
	stealable = no
}

heavycruiser_technology = {

	activate_unit = heavy_cruiser

	allow = {
		lightcruiser_technology = 1
		num_of_ports  = 1
		OR = {
			AND = {
				NOT = { heavycruiser_technology = 1 }	#1918
				heavy_cruiser_naval_guns = 1
				cruiser_engine_and_boilers = 1
				heavy_cruiser_armour_thickness = 1
				cruiser_screws_and_rudder_optimalisation = 1
				cruiser_hull_shape_optimalisation = 1
				cruiser_bulkheads_layout = 1
				cruiser_horizontal_protection_layout = 1
				cruiser_vertical_protection_layout = 1
			}
			AND = {
				NOT = { heavycruiser_technology = 2 }	# 1932
				heavy_cruiser_naval_guns = 2
				cruiser_engine_and_boilers = 2
				heavy_cruiser_armour_thickness = 2
				cruiser_screws_and_rudder_optimalisation = 2
				cruiser_hull_shape_optimalisation = 2
				cruiser_bulkheads_layout = 2
				cruiser_horizontal_protection_layout = 2
				cruiser_vertical_protection_layout = 2
			}
			AND = {
				NOT = { heavycruiser_technology = 3 }	# 1934
				heavy_cruiser_naval_guns = 3
				cruiser_engine_and_boilers = 3
				heavy_cruiser_armour_thickness = 3
				cruiser_screws_and_rudder_optimalisation = 3
				cruiser_hull_shape_optimalisation = 3
				cruiser_bulkheads_layout = 3
				cruiser_horizontal_protection_layout = 3
				cruiser_vertical_protection_layout = 3
			}
		}
	}

	heavy_cruiser = {
		sea_attack = 2.475
		sea_defence = 4.5
		air_defence = 1.35
		hull = 0.123
		range = 350
		maximum_speed = 0.65
		positioning = 0.011
		max_strength = 11.25
	}

	research_bonus_from = {
		naval_engineering = 0.3
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1930		# 2nd model is from 1936
	additional_offset = 3	# one new every 3 years
	max_level = 3
	folder = cruiser_folder
	can_upgrade = no
	stealable = no
}
heavycruiser_class = {

	allow = {
		heavycruiser_technology = 3
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				NOT = { heavycruiser_class = 1 }	# 1936
				heavy_cruiser_naval_guns = 4
				cruiser_engine_and_boilers = 4
				heavy_cruiser_armour_thickness = 4
				cruiser_screws_and_rudder_optimalisation = 4
				cruiser_hull_shape_optimalisation = 4
				cruiser_bulkheads_layout = 4
				cruiser_horizontal_protection_layout = 4
				cruiser_vertical_protection_layout = 4
			}
			AND = {
				NOT = { heavycruiser_class = 2 }	# 1938
				heavy_cruiser_naval_guns = 5
				cruiser_engine_and_boilers = 5
				heavy_cruiser_armour_thickness = 5
				cruiser_screws_and_rudder_optimalisation = 5
				cruiser_hull_shape_optimalisation = 5
				cruiser_bulkheads_layout = 5
				cruiser_horizontal_protection_layout = 5
				cruiser_vertical_protection_layout = 5
			}
			AND = {
				NOT = { heavycruiser_class = 3 }	# 1940
				heavy_cruiser_naval_guns = 6
				cruiser_engine_and_boilers = 6
				heavy_cruiser_armour_thickness = 6
				cruiser_screws_and_rudder_optimalisation = 6
				cruiser_hull_shape_optimalisation = 6
				cruiser_bulkheads_layout = 6
				cruiser_horizontal_protection_layout = 6
				cruiser_vertical_protection_layout = 6
			}
			AND = {
				NOT = { heavycruiser_class = 4 }	# 1942
				heavy_cruiser_naval_guns = 7
				cruiser_engine_and_boilers = 7
				heavy_cruiser_armour_thickness = 7
				cruiser_screws_and_rudder_optimalisation = 7
				cruiser_hull_shape_optimalisation = 7
				cruiser_bulkheads_layout = 7
				cruiser_horizontal_protection_layout = 7
				cruiser_vertical_protection_layout = 7
			}
			AND = {
				NOT = { heavycruiser_class = 5 }	# 1944
				heavy_cruiser_naval_guns = 8
				cruiser_engine_and_boilers = 8
				heavy_cruiser_armour_thickness = 8
				cruiser_screws_and_rudder_optimalisation = 8
				cruiser_hull_shape_optimalisation = 8
				cruiser_bulkheads_layout = 8
				cruiser_horizontal_protection_layout = 8
				cruiser_vertical_protection_layout = 8
			}
			AND = {
				NOT = { heavycruiser_class = 6 }	# 1946
				heavy_cruiser_naval_guns = 9
				cruiser_engine_and_boilers = 9
				heavy_cruiser_armour_thickness = 9
				cruiser_screws_and_rudder_optimalisation = 9
				cruiser_hull_shape_optimalisation = 9
				cruiser_bulkheads_layout = 9
				cruiser_horizontal_protection_layout = 9
				cruiser_vertical_protection_layout = 9
			}
			AND = {
				NOT = { heavycruiser_class = 7 }	# 1948
				heavy_cruiser_naval_guns = 10
				cruiser_engine_and_boilers = 10
				heavy_cruiser_armour_thickness = 10
				cruiser_screws_and_rudder_optimalisation = 10
				cruiser_hull_shape_optimalisation = 10
				cruiser_bulkheads_layout = 10
				cruiser_horizontal_protection_layout = 10
				cruiser_vertical_protection_layout = 10
			}
			AND = {
				NOT = { heavycruiser_class = 8 }	# 1948
				heavy_cruiser_naval_guns = 11
				cruiser_engine_and_boilers = 11
				heavy_cruiser_armour_thickness = 11
				cruiser_screws_and_rudder_optimalisation = 11
				cruiser_hull_shape_optimalisation = 11
				cruiser_bulkheads_layout = 11
				cruiser_horizontal_protection_layout = 11
				cruiser_vertical_protection_layout = 11
			}
			AND = {
				NOT = { heavycruiser_class = 9 }	# 1948
				heavy_cruiser_naval_guns = 12
				cruiser_engine_and_boilers = 12
				heavy_cruiser_armour_thickness = 12
				cruiser_screws_and_rudder_optimalisation = 12
				cruiser_hull_shape_optimalisation = 12
				cruiser_bulkheads_layout = 12
				cruiser_horizontal_protection_layout = 12
				cruiser_vertical_protection_layout = 12
			}
		}
	}

	heavy_cruiser = {
		sea_attack = 4.95
		sea_defence = 9
		air_defence = 2.7
		hull = 0.247
		range = 350
		maximum_speed = 0.65
		positioning = 0.022
		max_strength = 22.5
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 4

	start_year = 1936
	first_offset = 1939		# 2nd model is from 1936
	additional_offset = 3	# one new every 3 years
	max_level = 6
	folder = cruiser_folder
	can_upgrade = no
	stealable = no
}

##### Medium Naval Guns Techs #####
heavy_cruiser_naval_guns = {

	allow = {
		#heavycruiser_technology = 1

		or = {
			and = {
				not = {
					heavy_cruiser_naval_guns = 1
				}
				heavycruiser_technology = 0
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 2
				}
				heavycruiser_technology = 1
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 3
				}
				heavycruiser_technology = 2
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 4
				}
				heavycruiser_technology = 3
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 5
				}
				heavycruiser_class = 1
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 6
				}
				heavycruiser_class = 2
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 7
				}
				heavycruiser_class = 3
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 8
				}
				heavycruiser_class = 4
			}
			and = {
				not = {
					heavy_cruiser_naval_guns = 9
				}
				heavycruiser_class = 5
			}
		}
	}

	#heavy_cruiser = {
	#	max_strength = 7.5
	#	distance = 0.005
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = cruiser_folder
	can_upgrade = no
}

light_cruiser_naval_guns = {

	allow = {
		#lightcruiser_technology = 1

		or = {
			and = {
				not = {
					light_cruiser_naval_guns = 1
				}
				lightcruiser_technology = 0
			}
			and = {
				not = {
					light_cruiser_naval_guns = 2
				}
				lightcruiser_technology = 1
			}
			and = {
				not = {
					light_cruiser_naval_guns = 3
				}
				lightcruiser_technology = 2
			}
			and = {
				not = {
					light_cruiser_naval_guns = 4
				}
				lightcruiser_technology = 3
			}
			and = {
				not = {
					light_cruiser_naval_guns = 5
				}
				lightcruiser_class = 1
			}
			and = {
				not = {
					light_cruiser_naval_guns = 6
				}
				lightcruiser_class = 2
			}
			and = {
				not = {
					light_cruiser_naval_guns = 7
				}
				lightcruiser_class = 3
			}
			and = {
				not = {
					light_cruiser_naval_guns = 8
				}
				lightcruiser_class = 4
			}
			and = {
				not = {
					light_cruiser_naval_guns = 9
				}
				lightcruiser_class = 5
			}
		}
	}

	#light_cruiser = {
	#	max_strength = 6
	#	distance = 0.005
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 9
	folder = cruiser_folder
	can_upgrade = no
}
cruiser_naval_guns_AP_ammo = {

	allow = {
		or = {
			heavy_cruiser_naval_guns = 1
			light_cruiser_naval_guns = 1
		}
	}

	### 1%
	heavy_cruiser = {
		max_strength = 2.5
	}
	light_cruiser = {
		max_strength = 2
	}


	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1932
	additional_offset = 3
	max_level = 8
	folder = cruiser_folder
	can_upgrade = yes
}

cruiser_naval_guns_HE_ammo = {

	allow = {
		or = {
			heavy_cruiser_naval_guns = 1
			light_cruiser_naval_guns = 1
		}
	}

	#### 2%
	heavy_cruiser = {
		sea_attack = 1.1
		convoy_attack = 0.25
		shore_bombardment = 0.25
	}
	light_cruiser = {
		sea_attack = 1
		convoy_attack = 0.25
		shore_bombardment = 0.15
	}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1932
	additional_offset = 3
	max_level = 8
	folder = cruiser_folder
	can_upgrade = yes
}

cruiser_naval_guns_autoloader = {

	allow = {
		heavy_cruiser_naval_guns = 1
	}

	heavy_cruiser = {
		sea_attack = 15
		shore_bombardment = 1
	}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 12

	start_year = 1945
	first_offset = 1948
	additional_offset = 3
	max_level = 3
	folder = cruiser_folder
	can_upgrade = no
}

##### Cruiser Propulsion #####
cruiser_engine_and_boilers = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_engine_and_boilers = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_engine_and_boilers = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_engine_and_boilers = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_engine_and_boilers = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_engine_and_boilers = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_engine_and_boilers = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_engine_and_boilers = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_engine_and_boilers = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_engine_and_boilers = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_engine_and_boilers = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_engine_and_boilers = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}

	#heavy_cruiser = {
	#	fuel_consumption = 0.01
	#	range = 100
	#	maximum_speed = 0.35
	#}
	#pocket_battleship = {
	#	fuel_consumption = 0.01
	#	range = 100
	#	maximum_speed = 0.45
	#}
	#light_cruiser = {
	#	fuel_consumption = 0.007
	#	range = 100
	#	maximum_speed = 0.55
	#}
	#anti_air_cruiser = {
	#	fuel_consumption = 0.007
	#	range = 100
	#	maximum_speed = 0.55
	#}
	#light_carrier = {
	#	fuel_consumption = 0.007
	#	range = 100
	#	maximum_speed = 0.4
	#}
	#escort_carrier = {
	#	fuel_consumption = 0.007
	#	range = 100
	#	maximum_speed = 0.2
	#}
	#seaplane_tender = {
	#	fuel_consumption = 0.007
	#	range = 100
	#	maximum_speed = 0.15
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = cruiser_folder
	can_upgrade = no
}

cruiser_screws_and_rudder_optimalisation = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_screws_and_rudder_optimalisation = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}

	### 5%/3%
	#heavy_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.4
	#	sea_defence = 2.5
	#	air_defence = 0.75
	#}
	#pocket_battleship = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.4
	#	sea_defence = 1.125
	#	air_defence = 0.8
	#}
	#light_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.45
	#	sea_defence = 3.5
	#	air_defence = 0.8
	#}
	#anti_air_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.45
	#	sea_defence = 3.5
	#	air_defence = 1.125
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 9
	folder = cruiser_folder
	can_upgrade = no
}

cruiser_hull_shape_optimalisation = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_hull_shape_optimalisation = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_hull_shape_optimalisation = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_hull_shape_optimalisation = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_hull_shape_optimalisation = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_hull_shape_optimalisation = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_hull_shape_optimalisation = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_hull_shape_optimalisation = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_hull_shape_optimalisation = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_hull_shape_optimalisation = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_hull_shape_optimalisation = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_hull_shape_optimalisation = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}

	#heavy_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.35
	#	build_cost_ic = 0.125
	#
	#	cold_coast = {
	#		movement = 0.01
	#	}
	#	hot_coast = {
	#		movement = 0.01
	#	}
	#	normal_coast = {
	#		movement = 0.01
	#	}
	#}
	#pocket_battleship = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.35
	#	build_cost_ic = 0.125
	#
	#	cold_coast = {
	#		movement = 0.01
	#	}
	#	hot_coast = {
	#		movement = 0.01
	#	}
	#	normal_coast = {
	#		movement = 0.01
	#	}
	#}
	#light_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.45
	#	build_cost_ic = 0.1
	#
	#}
	#anti_air_cruiser = {
	#	fuel_consumption = -0.002
	#	range = 50
	#	maximum_speed = 0.45
	#	build_cost_ic = 0.1
	#
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = cruiser_folder
	can_upgrade = no
}

##### Cruiser Protection #####
lightcruiser_armour_thickness = {

	allow = {
		#lightcruiser_technology = 1
		or = {
			and = {
				heavy_armor_forging = 0
				lightcruiser_technology = 0
				not = { lightcruiser_armour_thickness = 2 }
			}
			and = {
				heavy_armor_forging = 1
				lightcruiser_technology = 1
				not = { lightcruiser_armour_thickness = 3 }
			}
			and = {
				heavy_armor_forging = 1
				lightcruiser_technology = 2
				not = { lightcruiser_armour_thickness = 4 }
			}
			and = {
				heavy_armor_forging = 2
				lightcruiser_technology = 3
				not = { lightcruiser_armour_thickness = 5 }
			}
			and = {
				heavy_armor_forging = 2
				lightcruiser_class = 1
				not = { lightcruiser_armour_thickness = 6 }
			}
			and = {
				heavy_armor_forging = 3
				lightcruiser_class = 2
				not = { lightcruiser_armour_thickness = 7 }
			}
			and = {
				heavy_armor_forging = 3
				lightcruiser_class = 3
				not = { lightcruiser_armour_thickness = 8 }
			}
			and = {
				heavy_armor_forging = 4
				lightcruiser_class = 4
				not = { lightcruiser_armour_thickness = 9 }
			}
			and = {
				heavy_armor_forging = 5
				lightcruiser_class = 5
				not = { lightcruiser_armour_thickness = 10 }
			}
			and = {
				heavy_armor_forging = 6
				lightcruiser_class = 6
				not = { lightcruiser_armour_thickness = 11 }
			}
			and = {
				heavy_armor_forging = 7
				lightcruiser_class = 7
				not = { lightcruiser_armour_thickness = 12 }
			}
			and = {
				heavy_armor_forging = 8
				lightcruiser_class = 8
				not = { lightcruiser_class = 9 }
			}
		}
	}
	#6%
	#light_cruiser = {
	#	hull = 0.072
	#	maximum_speed = -0.8
	#}
	#anti_air_cruiser = {
	#	hull = 0.072
	#	maximum_speed = -0.8
	#}
	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 3

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 12
	folder = cruiser_folder
	can_upgrade = no
}

heavy_cruiser_armour_thickness = {

	allow = {
		#heavycruiser_technology = 1
		or = {
			and = {
				heavy_armor_forging = 0
				heavycruiser_technology = 0
				not = { heavy_cruiser_armour_thickness = 2 }
			}
			and = {
				heavy_armor_forging = 1
				heavycruiser_technology = 1
				not = { heavy_cruiser_armour_thickness = 3 }
			}
			and = {
				heavy_armor_forging = 1
				heavycruiser_technology = 2
				not = { heavy_cruiser_armour_thickness = 4 }
			}
			and = {
				heavy_armor_forging = 2
				heavycruiser_technology = 3
				not = { heavy_cruiser_armour_thickness = 5 }
			}
			and = {
				heavy_armor_forging = 2
				heavycruiser_class = 1
				not = { heavy_cruiser_armour_thickness = 6 }
			}
			and = {
				heavy_armor_forging = 3
				heavycruiser_class = 2
				not = { heavy_cruiser_armour_thickness = 7 }
			}
			and = {
				heavy_armor_forging = 3
				heavycruiser_class = 3
				not = { heavy_cruiser_armour_thickness = 8 }
			}
			and = {
				heavy_armor_forging = 4
				heavycruiser_class = 4
				not = { heavy_cruiser_armour_thickness = 9 }
			}
			and = {
				heavy_armor_forging = 5
				heavycruiser_class = 5
				not = { heavy_cruiser_armour_thickness = 10 }
			}
			and = {
				heavy_armor_forging = 6
				heavycruiser_class = 6
				not = { heavy_cruiser_armour_thickness = 11 }
			}
			and = {
				heavy_armor_forging = 7
				heavycruiser_class = 7
				not = { heavy_cruiser_armour_thickness = 12 }
			}
			and = {
				heavy_armor_forging = 8
				heavycruiser_class = 8
				not = { heavycruiser_class = 9 }
			}
		}
	}
	#6%
	#heavy_cruiser = {
	#	hull = 0.082
	#	maximum_speed = -0.75
	#}
	#pocket_battleship = {
	#	hull = 0.097
	#	maximum_speed = -0.5
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 12
	folder = cruiser_folder
	can_upgrade = no
}

cruiser_bulkheads_layout = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_bulkheads_layout = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_bulkheads_layout = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_bulkheads_layout = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_bulkheads_layout = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_bulkheads_layout = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_bulkheads_layout = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_bulkheads_layout = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_bulkheads_layout = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_bulkheads_layout = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_bulkheads_layout = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_bulkheads_layout = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}
	#4%
	#heavy_cruiser = {
	#	sea_defence = 2
	#}
	#pocket_battleship = {
	#	sea_defence = 0.9
	#}
	#light_cruiser = {
	#	sea_defence = 2.8
	#}
	#anti_air_cruiser = {
	#	sea_defence = 2.8
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 12
	folder = cruiser_folder
	can_upgrade = no
}

cruiser_horizontal_protection_layout = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_horizontal_protection_layout = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_horizontal_protection_layout = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_horizontal_protection_layout = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_horizontal_protection_layout = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_horizontal_protection_layout = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_horizontal_protection_layout = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_horizontal_protection_layout = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_horizontal_protection_layout = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_horizontal_protection_layout = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_horizontal_protection_layout = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_horizontal_protection_layout = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}
	#6%
	#heavy_cruiser = {
	#	sea_defence = 3
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
    #
	#}
	#pocket_battleship = {
	#	sea_defence = 1.35
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#light_cruiser = {
	#	sea_defence = 4.2
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#anti_air_cruiser = {
	#	sea_defence = 4.2
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 12
	folder = cruiser_folder
	can_upgrade = no
}

cruiser_vertical_protection_layout = {

	allow = {
		#or = {
		#	heavycruiser_technology = 1
		#	lightcruiser_technology = 1
		#}
		or = {
			and = {
				or = {
					heavycruiser_technology = 0
					lightcruiser_technology = 0
				}
				not = {
					cruiser_vertical_protection_layout = 2
				}
			}
			and = {
				or = {
					heavycruiser_technology = 1
					lightcruiser_technology = 1
				}
				not = {
					cruiser_vertical_protection_layout = 3
				}
			}
			and = {
				or = {
					heavycruiser_technology = 2
					lightcruiser_technology = 2
				}
				not = {
					cruiser_vertical_protection_layout = 4
				}
			}
			and = {
				or = {
					heavycruiser_technology = 3
					lightcruiser_technology = 3
				}
				not = {
					cruiser_vertical_protection_layout = 5
				}
			}
			and = {
				or = {
					heavycruiser_class = 1
					lightcruiser_class = 1
				}
				not = {
					cruiser_vertical_protection_layout = 6
				}
			}
			and = {
				or = {
					heavycruiser_class = 2
					lightcruiser_class = 2
				}
				not = {
					cruiser_vertical_protection_layout = 7
				}
			}
			and = {
				or = {
					heavycruiser_class = 3
					lightcruiser_class = 3
				}
				not = {
					cruiser_vertical_protection_layout = 8
				}
			}
			and = {
				or = {
					heavycruiser_class = 4
					lightcruiser_class = 4
				}
				not = {
					cruiser_vertical_protection_layout = 9
				}
			}
			and = {
				or = {
					heavycruiser_class = 5
					lightcruiser_class = 5
				}
				not = {
					cruiser_vertical_protection_layout = 10
				}
			}
			and = {
				or = {
					heavycruiser_class = 6
					lightcruiser_class = 6
				}
				not = {
					cruiser_vertical_protection_layout = 11
				}
			}
			and = {
				or = {
					heavycruiser_class = 7
					lightcruiser_class = 7
				}
				not = {
					cruiser_vertical_protection_layout = 12
				}
			}
			and = {
				or = {
					heavycruiser_class = 8
					lightcruiser_class = 8
				}
				not = {
					or = {
						heavycruiser_class = 9
						lightcruiser_class = 9
					}
				}
			}
		}
	}
	#4%
	#heavy_cruiser = {
	#	max_strength = 5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#
	#pocket_battleship = {
	#	max_strength = 5.51
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#
	#light_cruiser = {
	#	max_strength = 4
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#
	#anti_air_cruiser = {
	#	max_strength = 4
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 12
	folder = cruiser_folder
	can_upgrade = no
}

##### Cruiser equipment #####
mediumwarship_surface_radar = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			lightcruiser_technology = 1
			heavycruiser_technology = 1
		}
		OR = {
			AND = {
				NOT = { mediumwarship_surface_radar = 1 }
				medium_ship_radar = 1
			}
			AND = {
				NOT = { mediumwarship_surface_radar = 2 }
				medium_ship_radar = 2
			}
			AND = {
				medium_ship_radar = 3
			}
		}
	}

	anti_air_cruiser = {
		surface_detection = 1.00
		distance = 0.01
	}
	light_cruiser = {
		surface_detection = 1.00
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}

		north_sea = {
			attack = 0.0
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	heavy_cruiser = {
		surface_detection = 1.00
		distance = 0.015
		night = {
			attack = 0.05
			defence = 0.05
		}

		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}
	}
	escort_carrier = {
		surface_detection = 0.50
		night = {
			attack = 0.05
			defence = 0.05
		}
	}

	research_bonus_from = {
		electronic_engineering_theory = 0.4
		naval_engineering = 0.1
		naval_doctrine_practical = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 9

	start_year = 1939
	first_offset = 1940
	additional_offset = 3
	max_level = 3
	folder = cruiser_folder
}

mediumwarship_airsearch_radar = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			lightcruiser_technology = 1
			heavycruiser_technology = 1
		}
		OR = {
			AND = {
				NOT = { mediumwarship_airsearch_radar = 1 }
				medium_ship_radar = 1
			}
			AND = {
				NOT = { mediumwarship_airsearch_radar = 2 }
				medium_ship_radar = 2
			}
			AND = {
				medium_ship_radar = 3
			}
		}
	}

	anti_air_cruiser = {
		air_detection = 1.00
		air_defence = 0.15
		night = {
			attack = 0.1
			defence = 0.1
		}
	}
	light_cruiser = {
		air_detection = 1.00
		air_defence = 0.15
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	seaplane_tender = {
		air_detection = 1.00
		air_defence = 0.15
	}
	heavy_cruiser = {
		air_detection = 1.00
		air_defence = 0.15
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	escort_carrier = {
		air_detection = 1.00
		air_defence = 0.15
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	research_bonus_from = {
		electronic_engineering_theory = 0.4
		naval_engineering = 0.1
		naval_doctrine_practical = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 9

	start_year = 1939
	first_offset = 1940
	additional_offset = 3
	max_level = 3
	folder = cruiser_folder
}

cruiser_damage_control = {

	allow = {
		lightcruiser_technology = 1
		heavycruiser_technology = 1
		OR = {
			AND = {
				NOT = { cruiser_damage_control = 3 }
			}
			AND = {
				NOT = { cruiser_damage_control = 4 }
				cruiser_crew_training = 1
			}
			AND = {
				NOT = { cruiser_damage_control = 5 }
				cruiser_crew_training = 2
			}
			AND = {
				cruiser_crew_training = 3
			}
		}
	}
	#1% - all damage control are 1%
	light_cruiser = {
		hull = 0.024
		default_morale = 0.1
	}
	heavy_cruiser = {
		hull = 0.027
		default_morale = 0.1
	}
	anti_air_cruiser = {
		hull = 0.024
		default_morale = 0.1
	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_doctrine_practical = 0.45
	}

	difficulty = 5

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = cruiser_folder
	stealable = no
}

cruiser_fire_control_computer = {

	allow = {
		lightcruiser_technology = 1
		heavycruiser_technology = 1
		OR = {
			AND = {
				NOT = { cruiser_fire_control_computer = 3 }
			}
			AND = {
				NOT = { cruiser_fire_control_computer = 4 }
				mediumwarship_surface_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 2
			}
			AND = {
				NOT = { cruiser_fire_control_computer = 5 }
				mediumwarship_surface_radar = 2
				fire_control_system_training = 2
				electronic_computing_machine = 1
			}
			AND = {
				mediumwarship_surface_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
		}
	}
	#3%
	light_cruiser = {
		sea_attack = 1.5
		convoy_attack = 0.3
		positioning = 0.009
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	heavy_cruiser = {
		sea_attack = 1.65
		convoy_attack = 0.36
		positioning = 0.015
		night = {
			attack = 0.01
			defence = 0.01
		}
	}
	anti_air_cruiser = {
		sea_attack = 0.9
		#convoy_attack = 0.25
		positioning = 0.003
	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 8

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = cruiser_folder
}

cruiser_AAA_control_computer = {

	allow = {
		lightcruiser_technology = 1
		heavycruiser_technology = 1
		OR = {
			AND = {
				NOT = { cruiser_AAA_control_computer = 1 }
				mediumwarship_airsearch_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 1
			}
			AND = {
				NOT = { cruiser_AAA_control_computer = 2 }
				mediumwarship_airsearch_radar = 2
				fire_control_system_training = 2
				mechnical_computing_machine = 2
			}
			AND = {
				mediumwarship_airsearch_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
		}
	}
	# 20%
	light_cruiser = {
		air_attack = 0.25
	}
	heavy_cruiser = {
		air_attack = 0.4
	}
	anti_air_cruiser = {
		air_attack = 0.7
	}


	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 8

	start_year = 1937
	first_offset = 1940
	additional_offset = 3
	max_level = 5
	folder = cruiser_folder
}

cruiser_light_anti_air_artilery = {

	allow = {
		or = {
			lightcruiser_technology = 1
			heavycruiser_technology = 1
		}
	}
	### 6%
	light_cruiser = {
		air_attack = 0.1
	}
	heavy_cruiser = {
		air_attack = 0.15
	}
	anti_air_cruiser = {
		air_attack = 0.25
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 3

	start_year = 1932
	first_offset = 1935
	additional_offset = 3
	max_level = 7
	folder = cruiser_folder
}

cruiser_medium_anti_air_artilery = {

	allow = {
		or = {
			lightcruiser_technology = 1
			heavycruiser_technology = 1
		}
	}
	### 8%
	light_cruiser = {
		air_attack = 0.15
	}
	heavy_cruiser = {
		air_attack = 0.2
	}
	anti_air_cruiser = {
		air_attack = 0.3
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 4

	start_year = 1933
	first_offset = 1936
	additional_offset = 3
	max_level = 6
	folder = cruiser_folder
}
cruiser_anti_air_artilery_focus = {

	allow = {
		year = 1943
	}
	light_cruiser = {
		air_attack = 2
		sea_attack = -5
	}
	heavy_cruiser = {
		air_attack = 3
		sea_attack = -5.5
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 6

	start_year = 1943
	first_offset = 1944
	additional_offset = 1
	max_level = 3
	folder = cruiser_folder
	stealable = no
}

cruiser_heavy_anti_air_artilery = {

	allow = {
		or = {
			and = {
				or = {
					lightcruiser_technology = 3
					heavycruiser_technology = 3
				}
				cruiser_heavy_anti_air_artilery = 0
			}
			and = {
				cruiser_heavy_anti_air_artilery = 1
				not = { cruiser_heavy_anti_air_artilery = 2 }
				dual_purpose_guns = 1
			}
			and = {
				cruiser_heavy_anti_air_artilery = 2
				not = { cruiser_heavy_anti_air_artilery = 3 }
				dual_purpose_guns = 2
			}
			and = {
				cruiser_heavy_anti_air_artilery = 3
				not = { cruiser_heavy_anti_air_artilery = 4 }
				dual_purpose_guns = 3
			}
			and = {
				cruiser_heavy_anti_air_artilery = 4
				not = { cruiser_heavy_anti_air_artilery = 5 }
				dual_purpose_guns = 4
			}
		}
	}
	# 10%
	light_cruiser = {
		air_attack = 0.4
	}
	heavy_cruiser = {
		air_attack = 0.45
	}
	anti_air_cruiser = {
		air_attack = 1
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.15
		cruiser_practical = 0.15
		naval_doctrine_practical = 0.45
	}

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 5
	folder = cruiser_folder
	can_upgrade = no
}

##################################################################
############ CAPITAL #############################################
##################################################################

# Capital ship technologies
battleship_technology = {

	activate_unit = battleship
	activate_unit = command_battleship

	allow = {
		heavycruiser_technology = 1
		num_of_ports  = 1
		OR = {
			AND = {
				NOT = { battleship_technology = 1 }	#1918
				capitalship_armament = 1
				capitalship_secondary = 1
				capital_ship_engine = 1
				capital_ship_boilers = 1
				capital_ship_turbines = 1
				capital_ship_screws_optimalisation = 1
				capital_ship_rudder_optimalisation = 1
				capital_ship_hull_shape_optimalisation = 1
				battleship_armour_thickness = 1
				capital_ship_vertical_protection = 1
				capital_ship_horizontal_protection = 1
				capital_ship_torpedo_protection = 1
				capital_ship_bulkheads_layout = 1
			}
			AND = {
				NOT = { battleship_technology = 2 }	# 1932
				capitalship_armament = 2
				capitalship_secondary = 2
				capital_ship_engine = 2
				capital_ship_boilers = 2
				capital_ship_turbines = 2
				capital_ship_screws_optimalisation = 2
				capital_ship_rudder_optimalisation = 2
				capital_ship_hull_shape_optimalisation = 2
				battleship_armour_thickness = 2
				capital_ship_vertical_protection = 2
				capital_ship_horizontal_protection = 2
				capital_ship_torpedo_protection = 2
				capital_ship_bulkheads_layout = 2
			}
			AND = {
				NOT = { battleship_technology = 3 }	# 1934
				capitalship_armament = 3
				capitalship_secondary = 3
				capital_ship_engine = 3
				capital_ship_boilers = 3
				capital_ship_turbines = 3
				capital_ship_screws_optimalisation = 3
				capital_ship_rudder_optimalisation = 3
				capital_ship_hull_shape_optimalisation = 3
				battleship_armour_thickness = 3
				capital_ship_vertical_protection = 3
				capital_ship_horizontal_protection = 3
				capital_ship_torpedo_protection = 3
				capital_ship_bulkheads_layout = 3
			}
		}
	}


	coastal_battleship = {
		max_strength = 12.6
		sea_attack = 2.475
		convoy_attack = 0.45
		maximum_speed = 0.075
		range = 50
		sea_defence = 2.025
		air_defence = 1.17
		hull = 0.135
		build_cost_ic = -0.25
		positioning = 0.009
	}
	battleship = {
		max_strength = 15.75
		sea_attack = 4.05
		convoy_attack = 1.58
		maximum_speed = 1
		range = 300
		sea_defence = 1.8
		air_defence = 1.89
		hull = 0.247
		build_cost_ic = -0.35
		positioning = 0.015
	}
	command_battleship = {
		max_strength = 15.75
		sea_attack = 4.05
		convoy_attack = 1.58
		maximum_speed = 1
		range = 300
		sea_defence = 1.8
		air_defence = 1.89
		hull = 0.247
		build_cost_ic = -0.35
		positioning = 0.015
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion =naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 3
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

battleship_class = {

	allow = {
		battleship_technology = 3
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				NOT = { battleship_class = 1 }	# 1936
				capitalship_armament = 4
				capitalship_secondary = 4
				capital_ship_engine = 4
				capital_ship_boilers = 4
				capital_ship_turbines = 4
				capital_ship_screws_optimalisation = 4
				capital_ship_rudder_optimalisation = 4
				capital_ship_hull_shape_optimalisation = 4
				battleship_armour_thickness = 4
				capital_ship_vertical_protection = 4
				capital_ship_horizontal_protection = 4
				capital_ship_torpedo_protection = 4
				capital_ship_bulkheads_layout = 4
			}
			AND = {
				NOT = { battleship_class = 2 }	# 1938
				capitalship_armament = 5
				capitalship_secondary = 5
				capital_ship_engine = 5
				capital_ship_boilers = 5
				capital_ship_turbines = 5
				capital_ship_screws_optimalisation = 5
				capital_ship_rudder_optimalisation = 5
				capital_ship_hull_shape_optimalisation = 5
				battleship_armour_thickness = 5
				capital_ship_vertical_protection = 5
				capital_ship_horizontal_protection = 5
				capital_ship_torpedo_protection = 5
				capital_ship_bulkheads_layout = 5
			}
			AND = {
				NOT = { battleship_class = 3 }	# 1940
				capitalship_armament = 6
				capitalship_secondary = 6
				capital_ship_engine = 6
				capital_ship_boilers = 6
				capital_ship_turbines = 6
				capital_ship_screws_optimalisation = 6
				capital_ship_rudder_optimalisation = 6
				capital_ship_hull_shape_optimalisation = 6
				battleship_armour_thickness = 6
				capital_ship_vertical_protection = 6
				capital_ship_horizontal_protection = 6
				capital_ship_torpedo_protection = 6
				capital_ship_bulkheads_layout = 6
			}
			AND = {
				NOT = { battleship_class = 4 }	# 1942
				capitalship_armament = 7
				capitalship_secondary = 7
				capital_ship_engine = 7
				capital_ship_boilers = 7
				capital_ship_turbines = 7
				capital_ship_screws_optimalisation = 7
				capital_ship_rudder_optimalisation = 7
				capital_ship_hull_shape_optimalisation = 7
				battleship_armour_thickness = 7
				capital_ship_vertical_protection = 7
				capital_ship_horizontal_protection = 7
				capital_ship_torpedo_protection = 7
				capital_ship_bulkheads_layout = 7
			}
			AND = {
				NOT = { battleship_class = 5 }	# 1944
				capitalship_armament = 8
				capitalship_secondary = 8
				capital_ship_engine = 8
				capital_ship_boilers = 8
				capital_ship_turbines = 8
				capital_ship_screws_optimalisation = 8
				capital_ship_rudder_optimalisation = 8
				capital_ship_hull_shape_optimalisation = 8
				battleship_armour_thickness = 8
				capital_ship_vertical_protection = 8
				capital_ship_horizontal_protection = 8
				capital_ship_torpedo_protection = 8
				capital_ship_bulkheads_layout = 8
			}
			AND = {
				NOT = { battleship_class = 6 }	# 1946
				capitalship_armament = 9
				capitalship_secondary = 9
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				capital_ship_screws_optimalisation = 9
				capital_ship_rudder_optimalisation = 9
				capital_ship_hull_shape_optimalisation = 9
				battleship_armour_thickness = 9
				capital_ship_vertical_protection = 9
				capital_ship_horizontal_protection = 9
				capital_ship_torpedo_protection = 9
				capital_ship_bulkheads_layout = 9
			}
			AND = {
				NOT = { battleship_class = 7 }	# 1948
				capitalship_armament = 10
				capitalship_secondary = 10
				capital_ship_engine = 10
				capital_ship_boilers = 10
				capital_ship_turbines = 10
				capital_ship_screws_optimalisation = 10
				capital_ship_rudder_optimalisation = 10
				capital_ship_hull_shape_optimalisation = 10
				battleship_armour_thickness = 10
				capital_ship_vertical_protection = 10
				capital_ship_horizontal_protection = 10
				capital_ship_torpedo_protection = 10
				capital_ship_bulkheads_layout = 10
			}
		}
	}
	#9%
	coastal_battleship = {
		max_strength = 12.6
		sea_attack = 2.475
		convoy_attack = 0.45
		maximum_speed = 0.075
		range = 50
		sea_defence = 2.025
		air_defence = 1.17
		hull = 0.135
		build_cost_ic = -0.25
		positioning = 0.018
	}
	battleship = {
		max_strength = 31.5
		sea_attack = 8.1
		convoy_attack = 3.06
		maximum_speed = 1
		range = 300
		sea_defence = 3.6
		air_defence = 3.78
		hull = 0.495
		build_cost_ic = -0.35
		positioning = 0.03
	}
	command_battleship = {
		max_strength = 31.5
		sea_attack = 8.1
		convoy_attack = 3.06
		maximum_speed = 1
		range = 300
		sea_defence = 3.6
		air_defence = 3.78
		hull = 0.495
		build_cost_ic = -0.35
		positioning = 0.03
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion =naval_engineering

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 6
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

battlecruiser_technology = {

	activate_unit = battlecruiser

	allow = {
		heavycruiser_technology = 1
		num_of_ports  = 1
		OR = {
			AND = {
				NOT = { battlecruiser_technology = 1 }	#1918
				capitalship_armament = 1
				capitalship_secondary = 1
				capital_ship_engine = 1
				capital_ship_boilers = 1
				capital_ship_turbines = 1
				capital_ship_screws_optimalisation = 1
				capital_ship_rudder_optimalisation = 1
				capital_ship_hull_shape_optimalisation = 1
				battlecruiser_armour_thickness = 1
				capital_ship_vertical_protection = 1
				capital_ship_horizontal_protection = 1
				capital_ship_torpedo_protection = 1
				capital_ship_bulkheads_layout = 1
			}
			AND = {
				NOT = { battlecruiser_technology = 2 }	# 1932
				capitalship_armament = 1
				capitalship_secondary = 1
				capital_ship_engine = 2
				capital_ship_boilers = 2
				capital_ship_turbines = 2
				capital_ship_screws_optimalisation = 2
				capital_ship_rudder_optimalisation = 2
				capital_ship_hull_shape_optimalisation = 2
				battlecruiser_armour_thickness = 1
				capital_ship_vertical_protection = 1
				capital_ship_horizontal_protection = 1
				capital_ship_torpedo_protection = 1
				capital_ship_bulkheads_layout = 1
			}
			AND = {
				NOT = { battlecruiser_technology = 3 }	# 1934
				capitalship_armament = 2
				capitalship_secondary = 2
				capital_ship_engine = 3
				capital_ship_boilers = 3
				capital_ship_turbines = 3
				capital_ship_screws_optimalisation = 3
				capital_ship_rudder_optimalisation = 3
				capital_ship_hull_shape_optimalisation = 3
				battlecruiser_armour_thickness = 2
				capital_ship_vertical_protection = 2
				capital_ship_horizontal_protection = 2
				capital_ship_torpedo_protection = 2
				capital_ship_bulkheads_layout = 2
			}
		}
	}

	battlecruiser = {
		max_strength = 13.95
		sea_attack = 3.6
		convoy_attack = 1.62
		maximum_speed = 1
		range = 300
		sea_defence = 2.025
		air_defence = 2.025
		hull = 0.213
		build_cost_ic = -0.35
		positioning = 0.015
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 3
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

battlecruiser_class = {

	allow = {
		battlecruiser_technology = 3
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				NOT = { battlecruiser_class = 1 }	# 1936
				capitalship_armament = 3
				capitalship_secondary = 3
				capital_ship_engine = 4
				capital_ship_boilers = 4
				capital_ship_turbines = 4
				capital_ship_screws_optimalisation = 4
				capital_ship_rudder_optimalisation = 4
				capital_ship_hull_shape_optimalisation = 4
				battlecruiser_armour_thickness = 3
				capital_ship_vertical_protection = 3
				capital_ship_horizontal_protection = 3
				capital_ship_torpedo_protection = 3
				capital_ship_bulkheads_layout = 3
			}
			AND = {
				NOT = { battlecruiser_class = 2 }	# 1938
				capitalship_armament = 4
				capitalship_secondary = 4
				capital_ship_engine = 5
				capital_ship_boilers = 5
				capital_ship_turbines = 5
				capital_ship_screws_optimalisation = 5
				capital_ship_rudder_optimalisation = 5
				capital_ship_hull_shape_optimalisation = 5
				battlecruiser_armour_thickness = 4
				capital_ship_vertical_protection = 4
				capital_ship_horizontal_protection = 4
				capital_ship_torpedo_protection = 4
				capital_ship_bulkheads_layout = 4
			}
			AND = {
				NOT = { battlecruiser_class = 3 }	# 1940
				capitalship_armament = 5
				capitalship_secondary = 5
				capital_ship_engine = 6
				capital_ship_boilers = 6
				capital_ship_turbines = 6
				capital_ship_screws_optimalisation = 6
				capital_ship_rudder_optimalisation = 6
				capital_ship_hull_shape_optimalisation = 6
				battlecruiser_armour_thickness = 5
				capital_ship_vertical_protection = 5
				capital_ship_horizontal_protection = 5
				capital_ship_torpedo_protection = 5
				capital_ship_bulkheads_layout = 5
			}
			AND = {
				NOT = { battlecruiser_class = 4 }	# 1942
				capitalship_armament = 6
				capitalship_secondary = 6
				capital_ship_engine = 7
				capital_ship_boilers = 7
				capital_ship_turbines = 7
				capital_ship_screws_optimalisation = 7
				capital_ship_rudder_optimalisation = 7
				capital_ship_hull_shape_optimalisation = 7
				battlecruiser_armour_thickness = 6
				capital_ship_vertical_protection = 6
				capital_ship_horizontal_protection = 6
				capital_ship_torpedo_protection = 6
				capital_ship_bulkheads_layout = 6
			}
			AND = {
				NOT = { battlecruiser_class = 5 }	# 1944
				capitalship_armament = 7
				capitalship_secondary = 7
				capital_ship_engine = 8
				capital_ship_boilers = 8
				capital_ship_turbines = 8
				capital_ship_screws_optimalisation = 8
				capital_ship_rudder_optimalisation = 8
				capital_ship_hull_shape_optimalisation = 8
				battlecruiser_armour_thickness = 7
				capital_ship_vertical_protection = 7
				capital_ship_horizontal_protection = 7
				capital_ship_torpedo_protection = 7
				capital_ship_bulkheads_layout = 7
			}
			AND = {
				NOT = { battlecruiser_class = 6 }	# 1946
				capitalship_armament = 8
				capitalship_secondary = 8
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				capital_ship_screws_optimalisation = 9
				capital_ship_rudder_optimalisation = 9
				capital_ship_hull_shape_optimalisation = 9
				battlecruiser_armour_thickness = 8
				capital_ship_vertical_protection = 8
				capital_ship_horizontal_protection = 8
				capital_ship_torpedo_protection = 8
				capital_ship_bulkheads_layout = 8
			}
			AND = {
				NOT = { battlecruiser_class = 7 }	# 1948
				capitalship_armament = 9
				capitalship_secondary = 9
				capital_ship_engine = 10
				capital_ship_boilers = 10
				capital_ship_turbines = 10
				capital_ship_screws_optimalisation = 10
				capital_ship_rudder_optimalisation = 10
				capital_ship_hull_shape_optimalisation = 10
				battlecruiser_armour_thickness = 9
				capital_ship_vertical_protection = 9
				capital_ship_horizontal_protection = 9
				capital_ship_torpedo_protection = 9
				capital_ship_bulkheads_layout = 9
			}
		}
	}

	### 9%
	battlecruiser = {
		max_strength = 27.9
		sea_attack = 7.2
		convoy_attack = 3.24
		maximum_speed = 1
		range = 300
		sea_defence = 4.05
		air_defence = 4.05
		hull = 0.427
		build_cost_ic = -0.35
		positioning = 0.03
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 6
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

pocket_battleship_activation = {

	activate_unit = pocket_battleship

	allow = {
		OR = {
			has_country_flag = allow_pocket_battleship_doctrine
			AND = {
				battlecruiser_technology = 1
				heavycruiser_technology = 1
				cruiser_warfare = 2
			}
			AND = {
				NOT = { pocket_battleship_activation = 2 }	# 1932
				capitalship_armament = 1
				cruiser_engine_and_boilers = 3
				cruiser_screws_and_rudder_optimalisation = 3
				cruiser_hull_shape_optimalisation = 3
				heavy_cruiser_armour_thickness = 3
				cruiser_bulkheads_layout = 3
				cruiser_horizontal_protection_layout = 3
				cruiser_vertical_protection_layout = 3
			}
			AND = {
				NOT = { pocket_battleship_activation = 3 }	# 1934
				capitalship_armament = 1
				cruiser_engine_and_boilers = 4
				cruiser_screws_and_rudder_optimalisation = 4
				cruiser_hull_shape_optimalisation = 4
				heavy_cruiser_armour_thickness = 4
				cruiser_bulkheads_layout = 4
				cruiser_horizontal_protection_layout = 4
				cruiser_vertical_protection_layout = 4
			}
			AND = {
				NOT = { pocket_battleship_activation = 4 }	# 1936
				capitalship_armament = 2
				cruiser_engine_and_boilers = 5
				cruiser_screws_and_rudder_optimalisation = 5
				cruiser_hull_shape_optimalisation = 5
				heavy_cruiser_armour_thickness = 5
				cruiser_bulkheads_layout = 5
				cruiser_horizontal_protection_layout = 5
				cruiser_vertical_protection_layout = 5
			}
			AND = {
				NOT = { pocket_battleship_activation = 5 }	# 1938
				capitalship_armament = 3
				cruiser_engine_and_boilers = 6
				cruiser_screws_and_rudder_optimalisation = 6
				cruiser_hull_shape_optimalisation = 6
				heavy_cruiser_armour_thickness = 6
				cruiser_bulkheads_layout = 6
				cruiser_horizontal_protection_layout = 6
				cruiser_vertical_protection_layout = 6
			}
			AND = {
				NOT = { pocket_battleship_activation = 6 }	# 1940
				capitalship_armament = 4
				cruiser_engine_and_boilers = 7
				cruiser_screws_and_rudder_optimalisation = 7
				cruiser_hull_shape_optimalisation = 7
				heavy_cruiser_armour_thickness = 7
				cruiser_bulkheads_layout = 7
				cruiser_horizontal_protection_layout = 7
				cruiser_vertical_protection_layout = 7
			}
		}
	}

	pocket_battleship = {
		max_strength = 25.2
		sea_attack = 5.4
		sea_defence = 4.05
		air_defence = 3.15
		convoy_attack = 2.34
		hull = 0.292
		range = 500
		maximum_speed = 0.55
		build_cost_ic = -0.2
		positioning = 0.022
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering


	difficulty = 5
	max_level = 6
	additional_offset = 3
	start_year = 1933
	first_offset = 1936
	folder = capitalship_folder
	stealable = no
	can_upgrade = no
}

capitalship_armament = {

	allow = {
		#or = {
		#	battleship_technology = 1
		#	battlecruiser_technology = 1
		#}

		OR = {
			AND = {
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 1
				}
				or = {
					battleship_technology = 0
					battlecruiser_technology = 0
				}
			}
			AND = {
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 2
				}
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
			}
			AND = {
				or = {
					steel_casting_capability = 1
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 3
				}
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
			}
			AND = {
				or = {
					steel_casting_capability = 3
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 4
				}
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
			}
			AND = {
				or = {
					steel_casting_capability = 4
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 5
				}
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
			}
			AND = {
				or = {
					steel_casting_capability = 6
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 6
				}
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
			}
			AND = {
				or = {
					steel_casting_capability = 7
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 7
				}
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
			}
			AND = {
				or = {
					steel_casting_capability = 9
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 8
				}
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
			}
			AND = {
				or = {
					steel_casting_capability = 10
					not = { has_country_flag = BlackICE }
				}
				NOT =  {
					capitalship_armament = 9
				}
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
			}
		}
	}
	### 8%
	#coastal_battleship = {
	#	max_strength = 22.4
	#	distance = 0.01
	#}
	#battleship = {
	#	max_strength = 28
	#	distance = 0.02
	#}
	#command_battleship = {
	#	max_strength = 28
	#	distance = 0.02
	#}
	#battlecruiser = {
	#	max_strength = 24.8
	#	distance = 0.018
	#}
	#super_heavy_battleship = {
	#	max_strength = 32
	#	distance = 0.02
	#}
	#pocket_battleship = {
	#	max_strength = 22.4
	#	distance = 0.018
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capitalship_armament_AP_ammo = {

	allow = {
		capitalship_armament = 1
	}
	## 1%
	coastal_battleship = {
		max_strength = 2.8
	}
	battleship = {
		max_strength = 3.5
	}
	command_battleship = {
		max_strength = 3.5
	}
	battlecruiser = {
		max_strength = 3.1
	}
	super_heavy_battleship = {
		max_strength = 4
	}
	pocket_battleship = {
		max_strength = 2.8
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1935
	first_offset = 1937
	additional_offset = 2
	max_level = 9
	folder = capitalship_folder
}

capitalship_armament_HE_ammo = {

	allow = {
		capitalship_armament = 1
	}

	### 2%
	coastal_battleship = {
		sea_attack = 1.1
		convoy_attack = 1
		shore_bombardment = 0.1
	}
	battleship = {
		sea_attack = 1.8
		convoy_attack = 5
		shore_bombardment = 0.2
	}
	command_battleship = {
		sea_attack = 1.8
		convoy_attack = 5
		shore_bombardment = 0.2
	}
	battlecruiser = {
		sea_attack = 1.6
		convoy_attack = 5
		shore_bombardment = 0.2
	}
	super_heavy_battleship = {
		sea_attack = 2
		convoy_attack = 5
		shore_bombardment = 0.3
	}
	pocket_battleship = {
		sea_attack = 1.2
		convoy_attack = 4
		shore_bombardment = 0.1
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1935
	first_offset = 1937
	additional_offset = 2
	max_level = 9
	folder = capitalship_folder
}

capitalship_secondary = {

	allow = {
		#OR = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				capitalship_secondary = 0
				not = { capitalship_secondary = 1 }
				or = {
					light_naval_guns = 1
					light_cruiser_naval_guns = 1
				}
			}
			and = {
				capitalship_secondary = 1
				not = { capitalship_secondary = 2 }
				or = {
					light_naval_guns = 2
					light_cruiser_naval_guns = 2
				}
			}
			and = {
				capitalship_secondary = 2
				not = { capitalship_secondary = 3 }
				or = {
					light_naval_guns = 4
					light_cruiser_naval_guns = 3
				}
			}
			and = {
				capitalship_secondary = 3
				not = { capitalship_secondary = 4 }
				or = {
					light_naval_guns = 5
					light_cruiser_naval_guns = 4
				}
			}
			and = {
				capitalship_secondary = 4
				not = { capitalship_secondary = 5 }
				or = {
					light_naval_guns = 7
					light_cruiser_naval_guns = 5
				}
			}
			and = {
				capitalship_secondary = 5
				not = { capitalship_secondary = 6 }
				or = {
					light_naval_guns = 8
					light_cruiser_naval_guns = 6
				}
			}
			and = {
				capitalship_secondary = 6
				not = { capitalship_secondary = 7 }
				or = {
					light_naval_guns = 10
					light_cruiser_naval_guns = 7
				}
			}
			and = {
				capitalship_secondary = 7
				not = { capitalship_secondary = 8 }
				or = {
					light_naval_guns = 11
					light_cruiser_naval_guns = 8
				}
			}
			and = {
				capitalship_secondary = 8
				not = { capitalship_secondary = 9 }
				or = {
					light_naval_guns = 12
					light_cruiser_naval_guns = 9
				}
			}
		}
	}

	###5%
	#coastal_battleship = {
	#	sea_attack = 2.75
	#}
	#battleship = {
	#	sea_attack = 4.5
	#}
	#command_battleship = {
	#	sea_attack = 4.5
	#}
	#battlecruiser = {
	#	sea_attack = 4
	#}
	#super_heavy_battleship = {
	#	sea_attack = 5
	#}
	#pocket_battleship = {
	#	sea_attack = 3
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1930		# 2nd model is from 1934
	additional_offset = 3	# one new every 3 year
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
}
### CAPITAL SHIP PROPULSION ###
capital_ship_engine = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#	carrier_technology = 1
		#}
		or = {
			and = {	#1918
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
					carrier_technology = 0
				}
				not = {
					capital_ship_engine = 1
				}
			}
			and = {	#1928
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
					carrier_technology = 1
				}
				not = {
					capital_ship_engine = 2
				}
			}
			and = {	#1931
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
					carrier_technology = 2
				}
				not = {
					capital_ship_engine = 3
				}
			}
			and = {	#1934
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
					carrier_technology = 3
				}
				not = {
					capital_ship_engine = 4
				}
			}
			and = {	#1937
				or = {
					battlecruiser_class = 1
					battleship_class = 1
					carrier_class = 1
				}
				not = {
					capital_ship_engine = 5
				}
			}
			and = {	#1940
				or = {
					battlecruiser_class = 2
					battleship_class = 2
					carrier_class = 2
				}
				not = {
					capital_ship_engine = 6
				}
			}
			and = {	#1943
				or = {
					battlecruiser_class = 3
					battleship_class = 3
					carrier_class = 3
				}
				not = {
					capital_ship_engine = 7
				}
			}
			and = {	#1946
				or = {
					battlecruiser_class = 4
					battleship_class = 4
					carrier_class = 4
				}
				not = {
					capital_ship_engine = 8
				}
			}
			and = {	#1949
				or = {
					battlecruiser_class = 5
					battleship_class = 5
					carrier_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
						carrier_class = 6
					}
				}
			}
		}
	}

	#battlecruiser = {
	#	maximum_speed = 0.7
	#	range = 100
	#}
	#battleship = {
	#	maximum_speed = 0.6
	#	range = 100
	#}
	#command_battleship = {
	#	maximum_speed = 0.6
	#	range = 100
	#}
	#super_heavy_battleship = {
	#	maximum_speed = 0.3
	#	range = 100
	#}
	#coastal_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#}
	#carrier = {
	#	maximum_speed = 0.6
	#	range = 125
	#}
	#command_carrier = {
	#	maximum_speed = 0.6
	#	range = 125
	#}
	#super_carrier = {
	#	maximum_speed = 0.6
	#	range = 125
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 9
	folder = capitalship_II_folder
	can_upgrade = no
	stealable = no
}
capital_ship_boilers = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#	carrier_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
					carrier_technology = 0
				}
				not = {
					capital_ship_boilers = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
					carrier_technology = 1
				}
				not = {
					capital_ship_boilers = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
					carrier_technology = 2
				}
				not = {
					capital_ship_boilers = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
					carrier_technology = 3
				}
				not = {
					capital_ship_boilers = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
					carrier_class = 1
				}
				not = {
					capital_ship_boilers = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
					carrier_class = 2
				}
				not = {
					capital_ship_boilers = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
					carrier_class = 3
				}
				not = {
					capital_ship_boilers = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
					carrier_class = 4
				}
				not = {
					capital_ship_boilers = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
					carrier_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
						carrier_class = 6
					}
				}
			}
		}
	}

	#battlecruiser = {
	#	maximum_speed = 0.45
	#	range = 50
	#	fuel_consumption = 0.15
	#}
	#battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	fuel_consumption = 0.2
	#}
	#command_battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	fuel_consumption = 0.2
	#}
	#super_heavy_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#	fuel_consumption = 0.35
	#}
	#coastal_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#	fuel_consumption = 0.1
	#}
	#carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	fuel_consumption = 0.15
	#}
	#command_carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	fuel_consumption = 0.15
	#}
	#super_carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	fuel_consumption = 0.3
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 9
	folder = capitalship_II_folder
	can_upgrade = no
	stealable = no
}
capital_ship_turbines = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#	carrier_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
					carrier_technology = 0
				}
				not = {
					capital_ship_turbines = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
					carrier_technology = 1
				}
				not = {
					capital_ship_turbines = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
					carrier_technology = 2
				}
				not = {
					capital_ship_turbines = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
					carrier_technology = 3
				}
				not = {
					capital_ship_turbines = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
					carrier_class = 1
				}
				not = {
					capital_ship_turbines = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
					carrier_class = 2
				}
				not = {
					capital_ship_turbines = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
					carrier_class = 3
				}
				not = {
					capital_ship_turbines = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
					carrier_class = 4
				}
				not = {
					capital_ship_turbines = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
					carrier_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
						carrier_class = 6
					}
				}
			}
		}
	}

	#battlecruiser = {
	#	maximum_speed = 0.45
	#	range = 50
	#	build_cost_ic = 0.125
	#}
	#battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	build_cost_ic = 0.2
	#}
	#command_battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	build_cost_ic = 0.2
	#}
	#super_heavy_battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	build_cost_ic = 0.25
	#}
	#coastal_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#	build_cost_ic = 0.1
	#}
	#carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	build_cost_ic = 0.1
	#}
	#command_carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	build_cost_ic = 0.1
	#}
	#super_carrier = {
	#	maximum_speed = 0.45
	#	range = 60
	#	build_cost_ic = 0.15
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1928
	additional_offset = 3
	max_level = 9
	folder = capitalship_II_folder
	can_upgrade = no
	stealable = no
}

capital_ship_screws_optimalisation = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_screws_optimalisation = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_screws_optimalisation = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_screws_optimalisation = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_screws_optimalisation = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_screws_optimalisation = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_screws_optimalisation = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_screws_optimalisation = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_screws_optimalisation = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}

	###5%
	#battlecruiser = {
	#	maximum_speed = 0.45
	#	sea_defence = 2.25
	#	air_defence = 2.25
	#}
	#battleship = {
	#	maximum_speed = 0.35
	#	sea_defence = 2
	#	air_defence = 2.1
	#}
	#command_battleship = {
	#	maximum_speed = 0.35
	#	sea_defence = 2
	#	air_defence = 2.1
	#}
	#super_heavy_battleship = {
	#	maximum_speed = 0.3
	#	sea_defence = 1.75
	#	air_defence = 2.6
	#}
	#coastal_battleship = {
	#	maximum_speed = 0.3
	#	sea_defence = 2.25
	#	air_defence = 1.3
	#}


	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_rudder_optimalisation = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_rudder_optimalisation = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_rudder_optimalisation = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_rudder_optimalisation = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_rudder_optimalisation = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_rudder_optimalisation = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_rudder_optimalisation = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_rudder_optimalisation = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_rudder_optimalisation = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}
	### 6.5%
	#battlecruiser = {
	#	sea_defence = 2.925
	#	air_defence = 2.925
	#}
	#battleship = {
	#	sea_defence = 2.6
	#	air_defence = 2.73
	#}
	#command_battleship = {
	#	sea_defence = 2.6
	#	air_defence = 2.73
	#}
	#super_heavy_battleship = {
	#	sea_defence = 2.275
	#	air_defence = 3.38
	#}
	#coastal_battleship = {
	#	sea_defence = 2.925
	#	air_defence = 1.69
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_hull_shape_optimalisation = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_hull_shape_optimalisation = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_hull_shape_optimalisation = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_hull_shape_optimalisation = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_hull_shape_optimalisation = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_hull_shape_optimalisation = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_hull_shape_optimalisation = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_hull_shape_optimalisation = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_hull_shape_optimalisation = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}

	#battlecruiser = {
	#	maximum_speed = 0.45
	#	range = 50
	#	fuel_consumption = -0.15
	#}
	#battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	fuel_consumption = -0.2
	#}
	#command_battleship = {
	#	maximum_speed = 0.35
	#	range = 50
	#	fuel_consumption = -0.2
	#}
	#super_heavy_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#	fuel_consumption = -0.35
	#}
	#coastal_battleship = {
	#	maximum_speed = 0.3
	#	range = 50
	#	fuel_consumption = -0.1
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

### CAPITAL SHIP PROTECTION ###
battlecruiser_armour_thickness = {

	allow = {

		OR = {
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 1
				NOT =  {
					battlecruiser_armour_thickness = 1
				}
				battlecruiser_technology = 0
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 1
				NOT =  {
					battlecruiser_armour_thickness = 2
				}
				battlecruiser_technology = 1
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 2
				NOT =  {
					battlecruiser_armour_thickness = 3
				}
				battlecruiser_technology = 2
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 3
				NOT =  {
					battlecruiser_armour_thickness = 4
				}
				battlecruiser_technology = 3
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 4
				NOT =  {
					battlecruiser_armour_thickness = 5
				}
				battlecruiser_class = 1
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 5
				NOT =  {
					battlecruiser_armour_thickness = 6
				}
				battlecruiser_class = 2
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 6
				NOT =  {
					battlecruiser_armour_thickness = 7
				}
				battlecruiser_class = 3
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 7
				NOT =  {
					battlecruiser_armour_thickness = 8
				}
				battlecruiser_class = 4
			}
			AND = {
				#battlecruiser_technology = 1
				heavy_armor_forging = 8
				NOT =  {
					battlecruiser_class = 6
				}
				battlecruiser_class = 5
			}
		}
	}

	###5%
	#battlecruiser = {
	#	hull = 0.237
	#	maximum_speed = -0.6
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

battleship_armour_thickness = {

	allow = {

		OR = {
			AND = {	#1918
				#battleship_technology = 1
				#heavy_armor_forging = 0
				NOT =  {
					battleship_armour_thickness = 1
				}
				battleship_technology = 0
			}
			AND = { #1929
				#battleship_technology = 1
				heavy_armor_forging = 1
				NOT =  {
					battleship_armour_thickness = 2
				}
				battleship_technology = 1
			}
			AND = { #1932
				#battleship_technology = 1
				heavy_armor_forging = 2
				NOT =  {
					battleship_armour_thickness = 3
				}
				battleship_technology = 2
			}
			AND = { #1935
				#battleship_technology = 1
				heavy_armor_forging = 3
				NOT =  {
					battleship_armour_thickness = 4
				}
				battleship_technology = 3
			}
			AND = { #1938
				#battleship_technology = 1
				heavy_armor_forging = 4
				NOT =  {
					battleship_armour_thickness = 5
				}
				battleship_class = 1
			}
			AND = { #1941
				#battleship_technology = 1
				heavy_armor_forging = 5
				NOT =  {
					battleship_armour_thickness = 6
				}
				battleship_class = 2
			}
			AND = {
				#battleship_technology = 1
				heavy_armor_forging = 6
				NOT =  {
					battleship_armour_thickness = 7
				}
				battleship_class = 3
			}
			AND = {
				#battleship_technology = 1
				heavy_armor_forging = 7
				NOT =  {
					battleship_armour_thickness = 8
				}
				battleship_class = 4
			}
			AND = {
				#battleship_technology = 1
				heavy_armor_forging = 8
				NOT =  {
					battleship_class = 6
				}
				battleship_class = 5
			}
		}
	}
	### 5%
	#battleship = {
	#	hull = 0.275
	#	maximum_speed = -0.3
	#}
	#command_battleship = {
	#	hull = 0.275
	#	maximum_speed = -0.3
	#}
	#coastal_battleship = {
	#	hull = 0.15
	#	maximum_speed = -0.275
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

super_heavy_battleship_armour_thickness = {

	allow = {

		or = {
			and = {
				heavy_armor_forging = 4
				super_heavy_battleship_armour_thickness = 0
				not = { super_heavy_battleship_armour_thickness = 1 }
			}
			and = {
				heavy_armor_forging = 5
				super_heavy_battleship_armour_thickness = 1
				not = { super_heavy_battleship_armour_thickness = 2 }
			}
			and = {
				heavy_armor_forging = 6
				super_heavy_battleship_armour_thickness = 2
				not = { super_heavy_battleship_armour_thickness = 3 }
			}
			and = {
				heavy_armor_forging = 7
				super_heavy_battleship_armour_thickness = 3
				not = { super_heavy_battleship_armour_thickness = 4 }
			}
			and = {
				heavy_armor_forging = 8
				super_heavy_battleship_armour_thickness = 4
				not = { super_heavy_battleship_armour_thickness = 5 }
			}
			and = {
				heavy_armor_forging = 9
				super_heavy_battleship_armour_thickness = 5
				not = { super_heavy_battleship_armour_thickness = 6 }
			}
			and = {
				heavy_armor_forging = 10
				super_heavy_battleship_armour_thickness = 6
				not = { super_heavy_battleship_armour_thickness = 7 }
			}
			and = {
				heavy_armor_forging = 11
				super_heavy_battleship_armour_thickness = 7
				not = { super_heavy_battleship_armour_thickness = 8 }
			}
		}
	}
	### 5%
	#super_heavy_battleship = {
	#	hull = 0.3
	#	maximum_speed = -0.3
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1940
	first_offset = 1941
	additional_offset = 3
	max_level = 6
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_vertical_protection = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_vertical_protection = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_vertical_protection = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_vertical_protection = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_vertical_protection = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_vertical_protection = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_vertical_protection = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_vertical_protection = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_vertical_protection = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}

	### 3%
	#battlecruiser = {
	#	max_strength = 9.3
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#battleship = {
	#	max_strength = 10.5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#command_battleship = {
	#	max_strength = 10.5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#super_heavy_battleship = {
	#	max_strength = 12
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#coastal_battleship = {
	#	max_strength = 8.4
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_horizontal_protection = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_horizontal_protection = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_horizontal_protection = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_horizontal_protection = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_horizontal_protection = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_horizontal_protection = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_horizontal_protection = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_horizontal_protection = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_horizontal_protection = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}

	### 5%
	#battlecruiser = {
	#	sea_defence = 2.25
	#	air_defence = 2.25
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#
	#}
	#battleship = {
	#	sea_defence = 2.0
	#	air_defence = 2.1
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#
	#}
	#command_battleship = {
	#	sea_defence = 2.0
	#	air_defence = 2.1
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#super_heavy_battleship = {
	#	sea_defence = 1.75
	#	air_defence = 2.6
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#coastal_battleship = {
	#	sea_defence = 2.25
	#	air_defence = 1.3
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_torpedo_protection = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_torpedo_protection = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_torpedo_protection = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_torpedo_protection = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_torpedo_protection = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_torpedo_protection = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_torpedo_protection = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_torpedo_protection = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_torpedo_protection = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}
	### 3%
	#battlecruiser = {
	#	sea_defence = 1.35
	#	air_defence = 1.35
	#	hull = 0.142
	#}
	#battleship = {
	#	sea_defence = 1.2
	#	air_defence = 1.26
	#	hull = 0.165
	#}
	#command_battleship = {
	#	sea_defence = 1.2
	#	air_defence = 1.26
	#	hull = 0.165
	#}
	#super_heavy_battleship = {
	#	sea_defence = 1.05
	#	air_defence = 1.56
	#	hull = 0.18
	#}
	#coastal_battleship = {
	#	sea_defence = 1.35
	#	air_defence = 0.78
	#	hull = 0.09
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

capital_ship_bulkheads_layout = {

	allow = {
		#or = {
		#	battlecruiser_technology = 1
		#	battleship_technology = 1
		#}
		or = {
			and = {
				or = {
					battlecruiser_technology = 0
					battleship_technology = 0
				}
				not = {
					capital_ship_bulkheads_layout = 1
				}
			}
			and = {
				or = {
					battlecruiser_technology = 1
					battleship_technology = 1
				}
				not = {
					capital_ship_bulkheads_layout = 2
				}
			}
			and = {
				or = {
					battlecruiser_technology = 2
					battleship_technology = 2
				}
				not = {
					capital_ship_bulkheads_layout = 3
				}
			}
			and = {
				or = {
					battlecruiser_technology = 3
					battleship_technology = 3
				}
				not = {
					capital_ship_bulkheads_layout = 4
				}
			}
			and = {
				or = {
					battlecruiser_class = 1
					battleship_class = 1
				}
				not = {
					capital_ship_bulkheads_layout = 5
				}
			}
			and = {
				or = {
					battlecruiser_class = 2
					battleship_class = 2
				}
				not = {
					capital_ship_bulkheads_layout = 6
				}
			}
			and = {
				or = {
					battlecruiser_class = 3
					battleship_class = 3
				}
				not = {
					capital_ship_bulkheads_layout = 7
				}
			}
			and = {
				or = {
					battlecruiser_class = 4
					battleship_class = 4
				}
				not = {
					capital_ship_bulkheads_layout = 8
				}
			}
			and = {
				or = {
					battlecruiser_class = 5
					battleship_class = 5
				}
				not = {
					or = {
						battlecruiser_class = 6
						battleship_class = 6
					}
				}
			}
		}
	}

	### 6%
	#battlecruiser = {
	#	sea_defence = 2.7
	#}
	#battleship = {
	#	sea_defence = 2.4
	#}
	#command_battleship = {
	#	sea_defence = 2.4
	#}
	#super_heavy_battleship = {
	#	sea_defence = 2.1
	#}
	#coastal_battleship = {
	#	sea_defence = 2.7
	#}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

super_heavy_battleship_technology = {

	activate_unit = super_heavy_battleship

	allow = {
		AND = {
			NOT =  { has_country_flag = 2nd_London_Treaty }
			NOT =  { has_country_flag = LondonNavalTreaty }
		}
		OR = {
			AND = {
				capitalship_armament = 4
				capitalship_secondary = 4
				capital_ship_engine = 4
				capital_ship_boilers = 4
				capital_ship_turbines = 4
				capital_ship_screws_optimalisation = 4
				capital_ship_rudder_optimalisation = 4
				capital_ship_hull_shape_optimalisation = 4
				super_heavy_battleship_armour_thickness = 1
				capital_ship_vertical_protection = 4
				capital_ship_horizontal_protection = 4
				capital_ship_torpedo_protection = 4
				capital_ship_bulkheads_layout = 4
				not = { super_heavy_battleship_technology = 1 }
			}
			AND = {
				# Japan '37
				capitalship_armament = 4
				capital_ship_engine = 3
				or = {
					capital_ship_boilers = 3
					capital_ship_turbines = 3
				}
				super_heavy_battleship_armour_thickness = 1
				has_country_flag = allow_early_SHBB
				not = { super_heavy_battleship_technology = 1 }
			}
			AND = {
				capitalship_armament = 5
				capitalship_secondary = 5
				capital_ship_engine = 5
				capital_ship_boilers = 5
				capital_ship_turbines = 5
				capital_ship_screws_optimalisation = 5
				capital_ship_rudder_optimalisation = 5
				capital_ship_hull_shape_optimalisation = 5
				super_heavy_battleship_armour_thickness = 1
				capital_ship_vertical_protection = 5
				capital_ship_horizontal_protection = 5
				capital_ship_torpedo_protection = 5
				capital_ship_bulkheads_layout = 5
				battlefleet_concentration_doctrine = 1
				not = { super_heavy_battleship_technology = 2 }
			}
			AND = {
				capitalship_armament = 6
				capitalship_secondary = 6
				capital_ship_engine = 6
				capital_ship_boilers = 6
				capital_ship_turbines = 6
				capital_ship_screws_optimalisation = 6
				capital_ship_rudder_optimalisation = 6
				capital_ship_hull_shape_optimalisation = 6
				capital_ship_vertical_protection = 6
				capital_ship_horizontal_protection = 6
				capital_ship_torpedo_protection = 6
				capital_ship_bulkheads_layout = 6
				super_heavy_battleship_armour_thickness = 2
				battlefleet_concentration_doctrine = 1
				not = { super_heavy_battleship_technology = 3 }
			}
			AND = {
				capitalship_armament = 7
				capitalship_secondary = 7
				capital_ship_engine = 7
				capital_ship_boilers = 7
				capital_ship_turbines = 7
				capital_ship_screws_optimalisation = 7
				capital_ship_rudder_optimalisation = 7
				capital_ship_hull_shape_optimalisation = 7
				capital_ship_vertical_protection = 7
				capital_ship_horizontal_protection = 7
				capital_ship_torpedo_protection = 7
				capital_ship_bulkheads_layout = 7
				super_heavy_battleship_armour_thickness = 3
				battlefleet_concentration_doctrine = 1
				not = { super_heavy_battleship_technology = 4 }
			}
			AND = {
				capitalship_armament = 8
				capitalship_secondary = 8
				capital_ship_engine = 8
				capital_ship_boilers = 8
				capital_ship_turbines = 8
				capital_ship_screws_optimalisation = 8
				capital_ship_rudder_optimalisation = 8
				capital_ship_hull_shape_optimalisation = 8
				capital_ship_vertical_protection = 8
				capital_ship_horizontal_protection = 8
				capital_ship_torpedo_protection = 8
				capital_ship_bulkheads_layout = 8
				super_heavy_battleship_armour_thickness = 4
				battlefleet_concentration_doctrine = 1
				not = { super_heavy_battleship_technology = 5 }
			}
			AND = {
				capitalship_armament = 9
				capitalship_secondary = 9
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				capital_ship_screws_optimalisation = 9
				capital_ship_rudder_optimalisation = 9
				capital_ship_hull_shape_optimalisation = 9
				capital_ship_vertical_protection = 9
				capital_ship_horizontal_protection = 9
				capital_ship_torpedo_protection = 9
				capital_ship_bulkheads_layout = 9
				super_heavy_battleship_armour_thickness = 5
				battlefleet_concentration_doctrine = 1
				not = { super_heavy_battleship_technology = 6 }
			}
		}
	}

	### 9%
	super_heavy_battleship = {
		max_strength = 36
		sea_attack = 9.0
		convoy_attack = 3.69
		maximum_speed = 1
		range = 400
		sea_defence = 3.15
		air_defence = 4.68
		hull = 0.54
		build_cost_ic = -0.65
		positioning = 0.05
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 10

	start_year = 1940
	first_offset = 1942
	additional_offset = 3
	max_level = 5
	folder = capitalship_folder
	can_upgrade = no
	stealable = no
}

fast_battleship = {

	allow = {
		capital_ship_engine = 2
	}

	### 8%  NO DECAY
	battleship = {
		air_defence = 3.36
		sea_defence = 3.2
		maximum_speed = 3
		build_cost_ic = 2.50 # was 0.75
	}
	command_battleship = {
		air_defence = 3.36
		sea_defence = 3.2
		maximum_speed = 3
		build_cost_ic = 2.50 # was 0.75
	}
	battlecruiser = {
		air_defence = 3.6
		sea_defence = 3.6
		maximum_speed = 3.5
		build_cost_ic = 2.00
	}

	research_bonus_from = {
		naval_engineering = 0.15
		capitalship_practical = 0.15
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 8

	start_year = 1937
	folder = capitalship_folder
	can_upgrade = no
}

largewarship_surface_radar = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			battlecruiser_technology = 1
			battleship_technology = 1
			carrier_technology = 1
		}
		OR = {
			AND = {
				NOT = { largewarship_surface_radar = 1 }
				big_ship_radar = 1
			}
			AND = {
				NOT = { largewarship_surface_radar = 2 }
				big_ship_radar = 2
			}
			AND = {
				big_ship_radar = 3
			}
		}
	}

	battlecruiser = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	battleship = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	command_battleship = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	super_heavy_battleship = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	pocket_battleship  = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	coastal_battleship = {
		surface_detection = 1.5
		night = {
			attack = 0.05
			defence = 0.05
		}
	}
	carrier = {
		surface_detection = 1.50
	}
	command_carrier = {
		surface_detection = 1.50
	}
	light_carrier = {
		surface_detection = 1.50
	}
	#super_carrier= {
	#	surface_detection = 1.50
	#}

	research_bonus_from = {
		capitalship_practical = 0.10
		carrier_practical = 0.10
		electronic_engineering_theory  = 0.35
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	start_year = 1939
	first_offset = 1940
	additional_offset = 3
	max_level = 4
	folder = capitalship_II_folder
}
largewarship_air_detection_radar = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		OR = {
			battlecruiser_technology = 1
			battleship_technology = 1
			carrier_technology = 1
		}
		OR = {
			AND = {
				NOT = { largewarship_air_detection_radar = 1 }
				big_ship_radar = 1
			}
			AND = {
				NOT = { largewarship_air_detection_radar = 2 }
				big_ship_radar = 2
			}
			AND = {
				big_ship_radar = 3
			}
		}
	}

	battlecruiser = {
		air_detection = 1
	}
	battleship = {
		air_detection = 1
	}
	command_battleship = {
		air_detection = 1
	}
	super_heavy_battleship = {
		air_detection = 1
	}
	pocket_battleship  = {
		air_detection = 1
	}
	coastal_battleship = {
		air_detection = 1
	}
	carrier = {
		air_detection = 1
	}
	command_carrier = {
		air_detection = 1
	}
	light_carrier = {
		air_detection = 1
	}
	#super_carrier= {
	#	air_detection = 1
	#}

	research_bonus_from = {
		capitalship_practical = 0.10
		carrier_practical = 0.10
		electronic_engineering_theory  = 0.35
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	start_year = 1939
	first_offset = 1940
	additional_offset = 3
	max_level = 4
	folder = capitalship_II_folder
}

capitalship_damage_control = {

	allow = {
		OR = {
			battlecruiser_technology = 1
			battleship_technology = 1
		}
		OR = {
			AND = {
				NOT = { capitalship_damage_control = 2 }
			}
			AND = {
				NOT = { capitalship_damage_control = 3 }
				battleship_crew_training = 1
			}
			AND = {
				NOT = { capitalship_damage_control = 4 }
				battleship_crew_training = 2
			}
			AND = {
				NOT = { capitalship_damage_control = 5 }
				battleship_crew_training = 3
			}
			AND = {
				battleship_crew_training = 4
			}
		}
	}

	### 1%
	battlecruiser = {
		hull = 0.047
		default_morale = 0.1
	}
	battleship = {
		hull = 0.055
		default_morale = 0.1
	}
	command_battleship = {
		hull = 0.055
		default_morale = 0.1
	}
	super_heavy_battleship = {
		hull = 0.06
		default_morale = 0.1
	}
	pocket_battleship = {
		hull = 0.032
		default_morale = 0.1
	}
	coastal_battleship = {
		hull = 0.03
		default_morale = 0.1
	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
	 	naval_doctrine_practical = 0.45
	}

	difficulty = 6

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = capitalship_II_folder
}

fire_control_computer = {

	allow = {
		OR = {
			battlecruiser_technology = 1
			battleship_technology = 1
		}
		OR = {
			AND = {
				NOT = { fire_control_computer = 2 }
			}
			AND = {
				NOT = { fire_control_computer = 3 }
				largewarship_surface_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 2
			}
			AND = {
				NOT = { fire_control_computer = 4 }
				largewarship_surface_radar = 2
				fire_control_system_training = 2
				electronic_computing_machine = 1
			}
			AND = {
				NOT = { fire_control_computer = 5 }
				largewarship_surface_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 1
			}
			AND = {
				largewarship_surface_radar = 4
				fire_control_system_training = 4
				electronic_computing_machine = 2
			}
		}
	}
	### 3%
	battleship = {
		sea_attack = 2.7
		convoy_attack = 1.02
		positioning = 0.01
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	command_battleship = {
		sea_attack = 2.7
		convoy_attack = 1.02
		positioning = 0.01
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	battlecruiser = {
		sea_attack = 2.4
		convoy_attack = 1.08
		positioning = 0.01
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	super_heavy_battleship = {
		sea_attack = 3
		convoy_attack = 1.23
		positioning = 0.016
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	pocket_battleship = {
		sea_attack = 1.8
		convoy_attack = 0.78
		positioning = 0.007
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}
	coastal_battleship = {
		sea_attack = 1.65
		convoy_attack = 0.3
		positioning = 0.006
		distance = 0.01
		night = {
			attack = 0.05
			defence = 0.05
		}
		north_sea = {
			attack = 0.01
		}
		arctic_sea = {
			attack = 0.01
		}
		fiords_sea = {
			attack = 0.01
		}
		north_atlantic = {
			attack = 0.01
		}
		north_pacific = {
			attack = 0.01
		}
		cold_coast = {
			attack = 0.01
		}
		hot_coast = {
			attack = 0.01
		}
		normal_coast = {
			attack = 0.01
		}

	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_engineering = 0.1
		mechanicalengineering_theory = 0.1
		electronic_engineering_theory = 0.1
		capitalship_practical = 0.1
		naval_doctrine_practical = 0.1
	}

	difficulty = 8

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = capitalship_II_folder
}

AAA_control_computer = {

	allow = {
		OR = {
			battlecruiser_technology = 1
			battleship_technology = 1
		}
		OR = {
			AND = {
				NOT = { AAA_control_computer = 1 }
				largewarship_air_detection_radar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 1
			}
			AND = {
				NOT = { AAA_control_computer = 2 }
				largewarship_air_detection_radar = 2
				fire_control_system_training = 2
				mechnical_computing_machine = 2
			}
			AND = {
				NOT = { AAA_control_computer = 3 }
				largewarship_air_detection_radar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
			AND = {
				largewarship_air_detection_radar = 4
				fire_control_system_training = 4
				electronic_computing_machine = 3
			}
		}
	}

	### 20%
	battleship = {
		air_attack = 0.8
	}
	command_battleship = {
		air_attack = 0.8
	}
	battlecruiser = {
		air_attack = 0.6
	}
	super_heavy_battleship = {
		air_attack = 1
	}
	pocket_battleship = {
		air_attack = 0.4
	}
	coastal_battleship = {
		air_attack = 0.2
	}
	carrier = {
		air_attack = 0.6
	}
	command_carrier = {
		air_attack = 0.6
	}
	#super_carrier = {
	#	air_attack = 0.8
	#}
	light_carrier = {
		air_attack = 0.3
	}
	escort_carrier = {
		air_attack = 0.15
	}

	on_completion = electronic_engineering_theory

	research_bonus_from = {
		naval_engineering = 0.1
		mechanicalengineering_theory = 0.1
		electronic_engineering_theory = 0.1
		capitalship_practical = 0.1
		naval_doctrine_practical = 0.1
	}

	difficulty = 6

	start_year = 1938
	first_offset = 1940
	additional_offset = 2
	max_level = 7
	folder = capitalship_II_folder
}

floatplane_dev_scout = {

	allow = {
		basic_aeroengine = 1
		not = { floatplane_dev_torpedo = 1 }
		not = { floatplane_dev_fighter = 1 }
	}

	light_cruiser = {
		surface_detection = 0.5
		shore_bombardment = 0.25
	}
	heavy_cruiser = {
		surface_detection = 0.5
		shore_bombardment = 0.25
	}
	pocket_battleship = {
		surface_detection = 0.5
		shore_bombardment = 0.25
	}
	battlecruiser = {
		surface_detection = 0.75
		shore_bombardment = 0.50
	}
	battleship = {
		surface_detection = 0.75
		shore_bombardment = 0.50
	}
	command_battleship = {
		surface_detection = 0.75
		shore_bombardment = 0.50
	}
	coastal_battleship = {
		surface_detection = 0.75
		shore_bombardment = 0.50
	}
	super_heavy_battleship = {
		surface_detection = 0.75
		shore_bombardment = 0.50
	}
	seaplane_tender = {
		surface_detection = 1.75
	}
	Convoy_raider_ship = {
		surface_detection = 0.25
		shore_bombardment = 0.25
	}

	research_bonus_from = {
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.25
	}

	on_completion = aeronautic_engineering

	difficulty = 4

	# common for all techs.
	start_year = 1920
	first_offset = 1934
	additional_offset = 4
	max_level = 3
	folder = capitalship_II_folder
}

floatplane_dev_torpedo = {

	allow = {
		basic_aeroengine = 1
		not = { floatplane_dev_scout = 1 }
		not = { floatplane_dev_fighter = 1 }
	}

	### 5%
	light_cruiser = {
		sea_attack = 1.25
	}
	heavy_cruiser = {
		sea_attack = 1.375
	}
	pocket_battleship = {
		sea_attack = 1.5
	}
	battlecruiser = {
		sea_attack = 2
	}
	battleship = {
		sea_attack = 2
	}
	command_battleship = {
		sea_attack = 2
	}
	coastal_battleship = {
		sea_attack = 1.375
	}
	super_heavy_battleship = {
		sea_attack = 2
	}
	research_bonus_from = {
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.25
	}

	on_completion = aeronautic_engineering

	difficulty = 4

	# common for all techs.
	start_year = 1920
	first_offset = 1934
	additional_offset = 4
	max_level = 3
	folder = capitalship_II_folder
}

floatplane_dev_fighter = {

	allow = {
		basic_aeroengine = 1
		not = { floatplane_dev_scout = 1 }
		not = { floatplane_dev_torpedo = 1 }
	}

	### 5%
	light_cruiser = {
		air_attack = 0.125
	}
	heavy_cruiser = {
		air_attack = 0.2
	}
	pocket_battleship = {
		air_attack = 0.2
	}
	battlecruiser = {
		air_attack = 0.3
	}
	battleship = {
		air_attack = 0.4
	}
	command_battleship = {
		air_attack = 0.4
	}
	coastal_battleship = {
		air_attack = 0.1
	}
	super_heavy_battleship = {
		air_attack = 0.5
	}
	research_bonus_from = {
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.25
	}

	on_completion = aeronautic_engineering

	difficulty = 4

	# common for all techs.
	start_year = 1920
	first_offset = 1934
	additional_offset = 4
	max_level = 3
	folder = capitalship_II_folder
}

capital_ship_light_anti_air_artilery = {

	allow = {
		or = {
			battleship_technology = 1
			battlecruiser_technology = 1
		}
	}
	### 6%
	battlecruiser = {
		air_attack = 0.36
	}
	battleship = {
		air_attack = 0.48
	}
	command_battleship = {
		air_attack = 0.48
	}
	super_heavy_battleship = {
		air_attack = 0.6
	}
	coastal_battleship = {
		air_attack = 0.12
	}
	pocket_battleship = {
		air_attack = 0.24
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 4

	start_year = 1934
	first_offset = 1937
	additional_offset = 2
	max_level = 8
	folder = capitalship_folder
}

capital_ship_medium_anti_air_artilery = {

	allow = {
		or = {
			battleship_technology = 1
			battlecruiser_technology = 1
		}
	}

	### 8%
	battlecruiser = {
		air_attack = 0.48
	}
	battleship = {
		air_attack = 0.54
	}
	command_battleship = {
		air_attack = 0.54
	}
	super_heavy_battleship = {
		air_attack = 0.8
	}
	coastal_battleship = {
		air_attack = 0.16
	}
	pocket_battleship = {
		air_attack = 0.32
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 6
	can_upgrade = yes
	start_year = 1936
	first_offset = 1938
	additional_offset = 2
	max_level = 8
	folder = capitalship_folder
}
capital_ship_heavy_anti_air_artilery = {

	allow = {
		or = {
			and = {
				or = {
					battleship_technology = 1
					battlecruiser_technology = 1
				}
				not = { capital_ship_heavy_anti_air_artilery = 2 }
			}
			and = {
				capital_ship_heavy_anti_air_artilery = 2
				not = { capital_ship_heavy_anti_air_artilery = 3 }
				dual_purpose_guns = 3
			}
			and = {
				capital_ship_heavy_anti_air_artilery = 3
				not = { capital_ship_heavy_anti_air_artilery = 4 }
				dual_purpose_guns = 4
			}
			and = {
				capital_ship_heavy_anti_air_artilery = 4
				not = { capital_ship_heavy_anti_air_artilery = 5 }
				dual_purpose_guns = 4
			}
		}
	}

	battlecruiser = {
		air_attack = 0.9
	}
	battleship = {
		air_attack = 1.2
	}
	command_battleship = {
		air_attack = 1.2
	}
	super_heavy_battleship = {
		air_attack = 1.5
	}
	coastal_battleship = {
		air_attack = 0.3
	}
	pocket_battleship = {
		air_attack = 0.6
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		capitalship_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 5
	folder = capitalship_folder
	can_upgrade = yes
}

###########################
###ARMOR METALURGY TECHS###
###########################
Cemented_armor = {
	allow = {
		has_country_flag = cemented_armor
		OR = {
			AND = {
				NOT = { Cemented_armor = 1 }
				Cemented_armor = 0
			}
			AND = {
				NOT = { Cemented_armor = 2 }
				Cemented_armor = 1
			}
			AND = {
				NOT = { Cemented_armor = 3 }
				Cemented_armor = 2
			}
			AND = {
				NOT = { Cemented_armor = 4 }
				Cemented_armor = 3
			}
		}

	}

	### 10%
	pocket_battleship = {
		sea_defence = 3.69
		air_defence = 2.87
	}
	battlecruiser = {
		sea_defence = 3.5
		air_defence = 2.5
	}
	battleship = {
		sea_defence = 3.1
		air_defence = 3.2
	}
	command_battleship = {
		sea_defence = 3.1
		air_defence = 3.2
	}
	super_heavy_battleship = {
		sea_defence = 3.5
		air_defence = 5.2
	}
	carrier = {
		sea_defence = 2.6
		air_defence = 3
	}
	command_carrier = {
		sea_defence = 2.6
		air_defence = 3
	}
	#super_carrier = {
	#	sea_defence = 1.2
	#	air_defence = 1.2
	#}

	research_bonus_from = {
		naval_engineering = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1936
	#first_offset = 1938
	#additional_offset = 3
	max_level = 1
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = yes
	change = no
}


Special_treatment_steel = {
	allow = {
		has_country_flag = special_treatment_steel
		OR = {
			AND = {
				NOT = { Special_treatment_steel = 1 }
				Special_treatment_steel = 0
			}
			AND = {
				NOT = { Special_treatment_steel = 2 }
				Special_treatment_steel = 1
			}
			AND = {
				NOT = { Special_treatment_steel = 3 }
				Special_treatment_steel = 2
			}
			AND = {
				NOT = { Special_treatment_steel = 4 }
				Special_treatment_steel = 3
			}
		}
	}

	### 5% stats  +10% build cost?
	pocket_battleship = {
		hull = 0.133
		max_strength = 11.5
		build_cost_ic = 0.6
	}
	battlecruiser = {
		hull = 0.184
		max_strength = 12
		build_cost_ic = 1.6
	}
	battleship = {
		hull = 0.213
		max_strength = 13.55
		build_cost_ic = 1.8
	}
	command_battleship = {
		hull = 0.213
		max_strength = 13.55
		build_cost_ic = 1.8
	}
	super_heavy_battleship = {
		hull = 0.3
		max_strength = 20
		build_cost_ic = 3
	}
	carrier = {
		hull = 0.129
		max_strength = 10.8
		build_cost_ic = 1.65
	}
	command_carrier = {
		hull = 0.129
		max_strength = 10.8
		build_cost_ic = 1.65
	}
	#super_carrier = {
	#	hull = 0.2
	#	max_strength = 15
	#	build_cost_ic = 2.5
	#}
	light_carrier = {
		hull = 0.073
		max_strength = 7.3
		build_cost_ic = 0.6
	}
	escort_carrier = {
		hull = 0.073
		max_strength = 7.5
		build_cost_ic = 0.5
	}
	light_cruiser = {
		hull = 0.093
		max_strength = 7.75
		build_cost_ic = 0.35
	}
	anti_air_cruiser = {
		hull = 0.093
		max_strength = 10
		build_cost_ic = 0.35
	}
	heavy_cruiser = {
		hull = 0.11
		max_strength = 9.65
		build_cost_ic = 0.5
	}
	destroyer_actual = {
		hull = 0.065
		max_strength = 6.35
		build_cost_ic = 0.275
	}
	frigate = {
		hull = 0.1
		max_strength = 6
		build_cost_ic = 0.15
	}

	research_bonus_from = {
		naval_engineering = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1936
	#first_offset = 1938
	#additional_offset = 1
	max_level = 1
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = yes
}

Vickers_steel = {
	allow = {
		has_country_flag = vickers_steel
		OR = {
			AND = {
				NOT = { Vickers_steel = 1 }
				Vickers_steel = 0
			}
			AND = {
				NOT = { Vickers_steel = 2 }
				Vickers_steel = 1
			}
			AND = {
				NOT = { Vickers_steel = 3 }
				Vickers_steel = 2
			}
			AND = {
				NOT = { Vickers_steel = 4 }
				Vickers_steel = 3
			}
		}
	}

	### -5% build cost -5% str -5% sea def
	pocket_battleship = {
		max_strength = -11.5
		sea_defence = -1.845
		build_cost_ic = -0.3
	}
	battlecruiser = {
		max_strength = -12
		sea_defence = -1.7
		build_cost_ic = -0.8
	}
	battleship = {
		max_strength = -13.55
		sea_defence = -1.55
		build_cost_ic = -0.9
	}
	command_battleship = {
		max_strength = -13.55
		sea_defence = -1.55
		build_cost_ic = -0.9
	}
	super_heavy_battleship = {
		max_strength = -20
		sea_defence = -1.75
		build_cost_ic = -1.5
	}
	carrier = {
		max_strength = -10.8
		sea_defence = -1.297
		build_cost_ic = -0.825
	}
	command_carrier = {
		max_strength = -10.8
		sea_defence = -1.297
		build_cost_ic = -0.825
	}
	#super_carrier = {
	#	max_strength = -15
	#	sea_defence = -2
	#	build_cost_ic = -1.25
	#}
	light_carrier = {
		max_strength = -7.3
		sea_defence = -0.73
		build_cost_ic = -0.3
	}
	escort_carrier = {
		max_strength = -7.5
		sea_defence = -0.75
		build_cost_ic = -0.25
	}
	light_cruiser = {
		max_strength = -7.75
		sea_defence = -5.425
		build_cost_ic = -0.175
	}
	anti_air_cruiser = {
		max_strength = -10
		sea_defence = -7
		build_cost_ic = -0.175
	}
	heavy_cruiser = {
		max_strength = -9.65
		sea_defence = -3.85
		build_cost_ic = -0.25
	}
	destroyer_actual = {
		max_strength = -6.35
		sea_defence = -5.5
		build_cost_ic = -0.137
	}
	frigate = {
		max_strength = -6
		sea_defence = -12.5
		build_cost_ic = -0.075
	}

	research_bonus_from = {
		naval_engineering = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1936
	#first_offset = 1938
	#additional_offset = 3
	max_level = 1
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = yes
}

##################################################################################
############ CARRIERS ############################################################
##################################################################################

# CVL Light Carrier
light_carrier_technology = {

	activate_unit = light_carrier

	allow = {

		NOT =  { has_country_flag = 2nd_London_Treaty }

		OR = {
			AND = {
				NOT = { light_carrier_technology = 1 }	#1918
				carrier_hanger = 1
				capital_ship_engine = 0
				capital_ship_boilers = 0
				capital_ship_turbines = 0
				carrier_screws_optimalisation = 0
				carrier_rudder_optimalisation = 0
				carrier_hull_shape_optimalisation = 0
				light_carrier_armour_thickness = 0
				carrier_vertical_protection = 0
				carrier_horizontal_protection = 0
				carrier_torpedo_protection = 0
				carrier_bulkheads_layout = 0
			}
			AND = {
				NOT = { light_carrier_technology = 2 }	# 1932
				carrier_hanger = 1
				capital_ship_engine = 1
				capital_ship_boilers = 1
				capital_ship_turbines = 1
				carrier_screws_optimalisation = 1
				carrier_rudder_optimalisation = 1
				carrier_hull_shape_optimalisation = 1
				light_carrier_armour_thickness = 1
				carrier_vertical_protection = 1
				carrier_horizontal_protection = 1
				carrier_torpedo_protection = 1
				carrier_bulkheads_layout = 1
			}
			AND = {
				NOT = { light_carrier_technology = 3 }	# 1934
				carrier_hanger = 2
				capital_ship_engine = 2
				capital_ship_boilers = 2
				capital_ship_turbines = 2
				carrier_screws_optimalisation = 2
				carrier_rudder_optimalisation = 2
				carrier_hull_shape_optimalisation = 2
				light_carrier_armour_thickness = 2
				carrier_vertical_protection = 2
				carrier_horizontal_protection = 2
				carrier_torpedo_protection = 2
				carrier_bulkheads_layout = 2
			}
			AND = {
				NOT = { light_carrier_technology = 4 }	# 1936
				carrier_hanger = 3
				capital_ship_engine = 3
				capital_ship_boilers = 3
				capital_ship_turbines = 3
				carrier_screws_optimalisation = 3
				carrier_rudder_optimalisation = 3
				carrier_hull_shape_optimalisation = 3
				light_carrier_armour_thickness = 3
				carrier_vertical_protection = 3
				carrier_horizontal_protection = 3
				carrier_torpedo_protection = 3
				carrier_bulkheads_layout = 3
			}
			AND = {
				NOT = { light_carrier_technology = 5 }	# 1938
				carrier_hanger = 4
				capital_ship_engine = 4
				capital_ship_boilers = 4
				capital_ship_turbines = 4
				carrier_screws_optimalisation = 4
				carrier_rudder_optimalisation = 4
				carrier_hull_shape_optimalisation = 4
				light_carrier_armour_thickness = 4
				carrier_vertical_protection = 4
				carrier_horizontal_protection = 4
				carrier_torpedo_protection = 4
				carrier_bulkheads_layout = 4
			}
			AND = {
				NOT = { light_carrier_technology = 6 }	# 1940
				carrier_hanger = 5
				capital_ship_engine = 5
				capital_ship_boilers = 5
				capital_ship_turbines = 5
				carrier_screws_optimalisation = 5
				carrier_rudder_optimalisation = 5
				carrier_hull_shape_optimalisation = 5
				light_carrier_armour_thickness = 5
				carrier_vertical_protection = 5
				carrier_horizontal_protection = 5
				carrier_torpedo_protection = 5
				carrier_bulkheads_layout = 5
			}
			AND = {
				NOT = { light_carrier_technology = 7 }	# 1942
				carrier_hanger = 6
				capital_ship_engine = 6
				capital_ship_boilers = 6
				capital_ship_turbines = 6
				carrier_screws_optimalisation = 6
				carrier_rudder_optimalisation = 6
				carrier_hull_shape_optimalisation = 6
				light_carrier_armour_thickness = 6
				carrier_vertical_protection = 6
				carrier_horizontal_protection = 6
				carrier_torpedo_protection = 6
				carrier_bulkheads_layout = 6
			}
			AND = {
				NOT = { light_carrier_technology = 8 }	# 1944
				carrier_hanger = 7
				capital_ship_engine = 7
				capital_ship_boilers = 7
				capital_ship_turbines = 7
				carrier_screws_optimalisation = 7
				carrier_rudder_optimalisation = 7
				carrier_hull_shape_optimalisation = 7
				light_carrier_armour_thickness = 7
				carrier_vertical_protection = 7
				carrier_horizontal_protection = 7
				carrier_torpedo_protection = 7
				carrier_bulkheads_layout = 7
			}
			AND = {
				NOT = { light_carrier_technology = 9 }	# 1946
				carrier_hanger = 8
				capital_ship_engine = 8
				capital_ship_boilers = 8
				capital_ship_turbines = 8
				carrier_screws_optimalisation = 8
				carrier_rudder_optimalisation = 8
				carrier_hull_shape_optimalisation = 8
				light_carrier_armour_thickness = 8
				carrier_vertical_protection = 8
				carrier_horizontal_protection = 8
				carrier_torpedo_protection = 8
				carrier_bulkheads_layout = 8
			}
			AND = {
				NOT = { light_carrier_technology = 10 }	# 1948
				carrier_hanger = 9
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				carrier_screws_optimalisation = 9
				carrier_rudder_optimalisation = 9
				carrier_hull_shape_optimalisation = 9
				light_carrier_armour_thickness = 9
				carrier_vertical_protection = 9
				carrier_horizontal_protection = 9
				carrier_torpedo_protection = 9
				carrier_bulkheads_layout = 9
			}
		}
	}

	### 9%
	light_carrier = {
		max_strength = 18
		maximum_speed = 0.5
		range = 300
		sea_defence = 1.8
		air_defence = 2.25
		hull = 0.18
		build_cost_ic = -0.15
		positioning = 0.076
	}
	escort_carrier = {
		max_strength = 13.5
		maximum_speed = 0.5
		range = 300
		sea_defence = 1.35
		air_defence = 1.35
		hull = 0.18
		build_cost_ic = -0.15
		positioning = 0.045
	}

	research_bonus_from = {
		naval_engineering = 0.3
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 4
	start_year = 1930
	first_offset = 1931
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}
carrier_class = {

	allow = {
		carrier_technology = 3

		NOT =  { has_country_flag = 2nd_London_Treaty }

		OR = {
			AND = {
				NOT = { carrier_class = 1 }	# 1936
				carrier_hanger = 4
				capital_ship_engine = 4
				capital_ship_boilers = 4
				capital_ship_turbines = 4
				carrier_screws_optimalisation = 4
				carrier_rudder_optimalisation = 4
				carrier_hull_shape_optimalisation = 4
				carrier_armour_thickness = 4
				carrier_vertical_protection = 4
				carrier_horizontal_protection = 4
				carrier_torpedo_protection = 4
				carrier_bulkheads_layout = 4
			}
			AND = {
				NOT = { carrier_class = 2 }	# 1939
				carrier_hanger = 5
				capital_ship_engine = 5
				capital_ship_boilers = 5
				capital_ship_turbines = 5
				carrier_screws_optimalisation = 5
				carrier_rudder_optimalisation = 5
				carrier_hull_shape_optimalisation = 5
				carrier_armour_thickness = 5
				carrier_vertical_protection = 5
				carrier_horizontal_protection = 5
				carrier_torpedo_protection = 5
				carrier_bulkheads_layout = 5
			}
			AND = {
				NOT = { carrier_class = 3 }	# 1942
				carrier_hanger = 6
				capital_ship_engine = 6
				capital_ship_boilers = 6
				capital_ship_turbines = 6
				carrier_screws_optimalisation = 6
				carrier_rudder_optimalisation = 6
				carrier_hull_shape_optimalisation = 6
				carrier_armour_thickness = 6
				carrier_vertical_protection = 6
				carrier_horizontal_protection = 6
				carrier_torpedo_protection = 6
				carrier_bulkheads_layout = 6
			}
			AND = {
				NOT = { carrier_class = 4 }	# 1945
				carrier_hanger = 7
				capital_ship_engine = 7
				capital_ship_boilers = 7
				capital_ship_turbines = 7
				carrier_screws_optimalisation = 7
				carrier_rudder_optimalisation = 7
				carrier_hull_shape_optimalisation = 7
				carrier_armour_thickness = 7
				carrier_vertical_protection = 7
				carrier_horizontal_protection = 7
				carrier_torpedo_protection = 7
				carrier_bulkheads_layout = 7
			}
			AND = {
				NOT = { carrier_class = 5 }	# 1948
				carrier_hanger = 8
				capital_ship_engine = 8
				capital_ship_boilers = 8
				capital_ship_turbines = 8
				carrier_screws_optimalisation = 8
				carrier_rudder_optimalisation = 8
				carrier_hull_shape_optimalisation = 8
				carrier_armour_thickness = 8
				carrier_vertical_protection = 8
				carrier_horizontal_protection = 8
				carrier_torpedo_protection = 8
				carrier_bulkheads_layout = 8
			}
			AND = {
				NOT = { carrier_class = 6 }	# 1951
				carrier_hanger = 9
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				carrier_screws_optimalisation = 9
				carrier_rudder_optimalisation = 9
				carrier_hull_shape_optimalisation = 9
				carrier_armour_thickness = 9
				carrier_vertical_protection = 9
				carrier_horizontal_protection = 9
				carrier_torpedo_protection = 9
				carrier_bulkheads_layout = 9
			}
			AND = {
				NOT = { carrier_class = 7 }	# 1954
				carrier_hanger = 9
				capital_ship_engine = 9
				capital_ship_boilers = 9
				capital_ship_turbines = 9
				carrier_screws_optimalisation = 9
				carrier_rudder_optimalisation = 9
				carrier_hull_shape_optimalisation = 9
				carrier_armour_thickness = 9
				carrier_vertical_protection = 9
				carrier_horizontal_protection = 9
				carrier_torpedo_protection = 9
				carrier_bulkheads_layout = 9
			}
		}
	}
	### 9%
	carrier = {
		max_strength = 22.5
		maximum_speed = 1
		range = 500
		sea_defence = 2.7
		air_defence = 3.15
		hull = 0.27
		build_cost_ic = -0.45
		positioning = 0.09
	}
	command_carrier = {
		max_strength = 22.5
		maximum_speed = 1
		range = 500
		sea_defence = 2.7
		air_defence = 3.15
		hull = 0.27
		build_cost_ic = -0.45
		positioning = 0.09
	}

	research_bonus_from = {
		naval_engineering = 0.2
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 6
	folder = carrier_folder
	can_upgrade = no
}
carrier_technology = {

	activate_unit = carrier
	activate_unit = command_carrier

	allow = {
		num_of_ports = 1
		lightcruiser_technology = 1
		aeroengine = 1
		small_fueltank = 1
		single_engine_airframe = 1
		OR = {
			AND = {
				NOT = { carrier_technology = 1 }	#1918
				carrier_hanger = 1
				capital_ship_engine = 1
				capital_ship_boilers = 1
				capital_ship_turbines = 1
				carrier_screws_optimalisation = 1
				carrier_rudder_optimalisation = 1
				carrier_hull_shape_optimalisation = 1
				carrier_armour_thickness = 1
				carrier_vertical_protection = 1
				carrier_horizontal_protection = 1
				carrier_torpedo_protection = 1
				carrier_bulkheads_layout = 1
			}
			AND = {
				NOT = { carrier_technology = 2 }	# 1932
				carrier_hanger = 2
				capital_ship_engine = 2
				capital_ship_boilers = 2
				capital_ship_turbines = 2
				carrier_screws_optimalisation = 2
				carrier_rudder_optimalisation = 2
				carrier_hull_shape_optimalisation = 2
				carrier_armour_thickness = 2
				carrier_vertical_protection = 2
				carrier_horizontal_protection = 2
				carrier_torpedo_protection = 2
				carrier_bulkheads_layout = 2
			}
			AND = {
				NOT = { carrier_technology = 3 }	# 1934
				carrier_hanger = 3
				capital_ship_engine = 3
				capital_ship_boilers = 3
				capital_ship_turbines = 3
				carrier_screws_optimalisation = 3
				carrier_rudder_optimalisation = 3
				carrier_hull_shape_optimalisation = 3
				carrier_armour_thickness = 3
				carrier_vertical_protection = 3
				carrier_horizontal_protection = 3
				carrier_torpedo_protection = 3
				carrier_bulkheads_layout = 3
			}
		}
	}

	carrier = {
		max_strength = 11.25
		maximum_speed = 1
		range = 500
		sea_defence = 1.35
		air_defence = 1.575
		hull = 0.135
		build_cost_ic = -0.45
		positioning = 0.045
	}
	command_carrier = {
		max_strength = 11.25
		maximum_speed = 1
		range = 500
		sea_defence = 1.35
		air_defence = 1.575
		hull = 0.135
		build_cost_ic = -0.45
		positioning = 0.045
	}

	research_bonus_from = {
		naval_engineering = 0.3
		capitalship_practical = 0.3
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 6
	start_year = 1918
	first_offset = 1930
	additional_offset = 3
	max_level = 3
	folder = carrier_folder
	can_upgrade = no
}

#####################################
########### CARRIER AAA #############
#####################################

carrier_light_anti_air_artilery = {

	allow = {
		or = {
			carrier_technology = 1
		}
	}

	### 6%
	carrier = {
		air_attack = 0.36
	}
	command_carrier = {
		air_attack = 0.36
	}
	#super_carrier = {
	#	air_attack = 0.48
	#}
	light_carrier = {
		air_attack = 0.18
	}
	escort_carrier = {
		air_attack = 0.09
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 4

	start_year = 1934
	first_offset = 1937
	additional_offset = 2
	max_level = 8
	folder = carrier_folder
}

carrier_medium_anti_air_artilery = {

	allow = {
		or = {
			carrier_technology = 1
		}
	}

	### 8%
	carrier = {
		air_attack = 0.48
	}
	command_carrier = {
		air_attack = 0.48
	}
	#super_carrier = {
	#	air_attack = 0.64
	#}
	light_carrier = {
		air_attack = 0.24
	}
	escort_carrier = {
		air_attack = 0.12
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 5

	start_year = 1936
	first_offset = 1938
	additional_offset = 2
	max_level = 8
	folder = carrier_folder
	can_upgrade = yes
}
carrier_heavy_anti_air_artilery = {

	allow = {
		carrier_technology = 1
	}

	### 10%
	carrier = {
		air_attack = 0.75
	}
	command_carrier = {
		air_attack = 0.75
	}
	#super_carrier = {
	#	air_attack = 1.2
	#}
	light_carrier = {
		air_attack = 0.25
	}
	escort_carrier = {
		air_attack = 0.1
	}

	on_completion = naval_engineering

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	difficulty = 6

	start_year = 1936
	first_offset = 1939
	additional_offset = 3
	max_level = 6
	folder = carrier_folder
	can_upgrade = yes
}

carrier_screws_optimalisation = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_screws_optimalisation = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_screws_optimalisation = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_screws_optimalisation = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_screws_optimalisation = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_screws_optimalisation = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_screws_optimalisation = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_screws_optimalisation = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_screws_optimalisation = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 5%
	#carrier = {
	#	maximum_speed = 0.2
	#	sea_defence = 1.5
	#	air_defence = 1.75
	#}
	#command_carrier = {
	#	maximum_speed = 0.2
	#	sea_defence = 1.5
	#	air_defence = 1.75
	#}
	#super_carrier = {
	#	maximum_speed = 0.15
	#	sea_defence = 2
	#	air_defence = 2
	#}
	#light_carrier = {
	#	maximum_speed = 0.15
	#	sea_defence = 1
	#	air_defence = 1.25
	#}
	#escort_carrier = {
	#	maximum_speed = 0.1
	#	sea_defence = 0.75
	#	air_defence = 0.75
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}

carrier_rudder_optimalisation = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_rudder_optimalisation = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_rudder_optimalisation = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_rudder_optimalisation = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_rudder_optimalisation = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_rudder_optimalisation = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_rudder_optimalisation = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_rudder_optimalisation = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_rudder_optimalisation = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 6.5%
	#carrier = {
	#	sea_defence = 1.95
	#	air_defence = 2.275
	#}
	#command_carrier = {
	#	sea_defence = 1.95
	#	air_defence = 2.275
	#}
	#super_carrier = {
	#	sea_defence = 2.6
	#	air_defence = 2.6
	#}
	#light_carrier = {
	#	sea_defence = 1.3
	#	air_defence = 1.625
	#}
	#escort_carrier = {
	#	sea_defence = 0.975
	#	air_defence = 0.975
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}

carrier_hull_shape_optimalisation = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_hull_shape_optimalisation = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_hull_shape_optimalisation = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_hull_shape_optimalisation = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_hull_shape_optimalisation = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_hull_shape_optimalisation = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_hull_shape_optimalisation = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_hull_shape_optimalisation = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_hull_shape_optimalisation = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	#carrier = {
	#	maximum_speed = 0.175
	#	range = 50
	#	fuel_consumption = -0.15
	#}
	#command_carrier = {
	#	maximum_speed = 0.175
	#	range = 50
	#	fuel_consumption = -0.15
	#}
	#super_carrier = {
	#	maximum_speed = 0.125
	#	range = 50
	#	fuel_consumption = -0.15
	#}
	#light_carrier = {
	#	maximum_speed = 0.125
	#	range = 50
	#	fuel_consumption = -0.15
	#}
	#escort_carrier = {
	#	maximum_speed = 0.125
	#	range = 50
	#	fuel_consumption = -0.15
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}

carrier_armour_thickness = {

	allow = {
		#carrier_technology = 1
		OR = {
			AND = {
				heavy_armor_forging = 1
				carrier_technology = 0
				NOT =  { carrier_armour_thickness = 1 }
			}
			AND = {
				heavy_armor_forging = 1
				carrier_technology = 1
				NOT =  { carrier_armour_thickness = 2 }
			}
			AND = {
				heavy_armor_forging = 2
				carrier_technology = 2
				NOT =  { carrier_armour_thickness = 3 }
			}
			AND = {
				heavy_armor_forging = 2
				carrier_technology = 3
				NOT =  { carrier_armour_thickness = 4 }
			}
			AND = {
				heavy_armor_forging = 3
				carrier_class = 1
				NOT =  { carrier_armour_thickness = 5 }
			}
			AND = {
				heavy_armor_forging = 4
				carrier_class = 2
				NOT =  { carrier_armour_thickness = 6 }
			}
			AND = {
				heavy_armor_forging = 5
				carrier_class = 3
				NOT =  { carrier_armour_thickness = 7 }
			}
			AND = {
				heavy_armor_forging = 6
				carrier_class = 4
				NOT =  { carrier_armour_thickness = 8 }
			}
			AND = {
				heavy_armor_forging = 7
				carrier_class = 5
				not = { carrier_class = 6 }
			}
		}
	}

	###5%
	#carrier = {
	#	hull = 0.15
	#	maximum_speed = -0.5
	#}
	#command_carrier = {
	#	hull = 0.15
	#	maximum_speed = -0.5
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}

light_carrier_armour_thickness = {

	allow = {
		carrier_technology = 1
	}

	###5%
	#light_carrier = {
	#	hull = 0.1
	#	maximum_speed = -0.3
	#}
	#escort_carrier = {
	#	hull = 0.1
	#	maximum_speed = -0.3
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1931
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}

#super_carrier_armour_thickness = {
#
#	allow = {
#		OR = {
#			AND = {
#				heavy_armor_forging = 5
#				NOT =  { super_carrier_armour_thickness = 1	}
#			}
#			AND = {
#				heavy_armor_forging = 6
#				NOT =  { super_carrier_armour_thickness = 2	}
#			}
#			AND = {
#				heavy_armor_forging = 7
#				NOT =  { super_carrier_armour_thickness = 3	}
#			}
#			AND = {
#				heavy_armor_forging = 8
#				NOT =  { super_carrier_armour_thickness = 4	}
#			}
#			AND = {
#				heavy_armor_forging = 9
#				NOT =  { super_carrier_armour_thickness = 5	}
#			}
#			AND = {
#				heavy_armor_forging = 10
#				NOT =  { super_carrier_armour_thickness = 6	}
#			}
#			AND = {
#				heavy_armor_forging = 11
#				NOT =  { super_carrier_armour_thickness = 7	}
#			}
#			AND = {
#				heavy_armor_forging = 12
#				NOT =  { super_carrier_armour_thickness = 8	}
#			}
#		}
#	}
#
#	###5%
#	#super_carrier = {
#	#	hull = 0.2
#	#	maximum_speed = -0.5
#	#}
#
#	research_bonus_from = {
#		naval_engineering = 0.1
#		carrier_practical = 0.1
#		naval_doctrine_practical = 0.3
#	}
#
#	on_completion = naval_engineering
#
#	difficulty = 5
#
#	start_year = 1943
#	first_offset = 1944
#	additional_offset = 3
#	max_level = 8
#	folder = carrier_folder
#	can_upgrade = no
#	stealable = no
#}
carrier_vertical_protection = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_vertical_protection = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_vertical_protection = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_vertical_protection = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_vertical_protection = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_vertical_protection = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_vertical_protection = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_vertical_protection = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_vertical_protection = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 3%
	#carrier = {
	#	max_strength = 7.5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#command_carrier = {
	#	max_strength = 7.5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#super_carrier = {
	#	max_strength = 9
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#light_carrier = {
	#	max_strength = 6
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}
	#escort_carrier = {
	#	max_strength = 4.5
	#
	#	mediterranean_sea = {
	#		defence = 0.01
	#	}
	#	north_sea = {
	#		defence = 0.01
	#	}
	#	arctic_sea = {
	#		defence = 0.01
	#	}
	#	fiords_sea = {
	#		defence = 0.01
	#	}
	#	north_atlantic = {
	#		defence = 0.01
	#	}
	#	central_atlantic = {
	#		defence = 0.005
	#	}
	#	south_atlantic = {
	#		defence = 0.005
	#	}
	#	equator_sea = {
	#		defence = 0.005
	#	}
	#	south_pacific = {
	#		defence = 0.005
	#	}
	#	north_pacific = {
	#		defence = 0.01
	#	}
	#	indian_ocean = {
	#		defence = 0.005
	#	}
	#	cold_coast = {
	#		defence = 0.01
	#	}
	#	hot_coast = {
	#		defence = 0.01
	#	}
	#	normal_coast = {
	#		defence = 0.01
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}

carrier_horizontal_protection = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_horizontal_protection = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_horizontal_protection = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_horizontal_protection = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_horizontal_protection = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_horizontal_protection = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_horizontal_protection = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_horizontal_protection = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_horizontal_protection = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 5%
	#carrier = {
	#	sea_defence = 1.5
	#	air_defence = 1.75
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#command_carrier = {
	#	sea_defence = 1.5
	#	air_defence = 1.75
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#super_carrier = {
	#	sea_defence = 2.0
	#	air_defence = 2.0
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#light_carrier = {
	#	sea_defence = 1.0
	#	air_defence = 1.25
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}
	#escort_carrier = {
	#	sea_defence = 0.75
	#	air_defence = 0.75
	#
	#	mediterranean_sea = {
	#		defence = -0.005
	#	}
	#	north_sea = {
	#		defence = -0.005
	#	}
	#	arctic_sea = {
	#		defence = -0.005
	#	}
	#	fiords_sea = {
	#		defence = -0.005
	#	}
	#	north_atlantic = {
	#		defence = -0.005
	#	}
	#	central_atlantic = {
	#		defence = 0.01
	#	}
	#	south_atlantic = {
	#		defence = 0.01
	#	}
	#	equator_sea = {
	#		defence = 0.01
	#	}
	#	south_pacific = {
	#		defence = 0.01
	#	}
	#	north_pacific = {
	#		defence = -0.005
	#	}
	#	indian_ocean = {
	#		defence = 0.01
	#	}
	#	cold_coast = {
	#		defence = -0.005
	#	}
	#	hot_coast = {
	#		defence = -0.005
	#	}
	#	normal_coast = {
	#		defence = -0.005
	#	}
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}

carrier_torpedo_protection = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_torpedo_protection = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_torpedo_protection = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_torpedo_protection = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_torpedo_protection = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_torpedo_protection = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_torpedo_protection = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_torpedo_protection = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_torpedo_protection = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 3%
	#carrier = {
	#	sea_defence = 0.9
	#	air_defence = 1.05
	#	hull = 0.09
	#}
	#command_carrier = {
	#	sea_defence = 0.9
	#	air_defence = 1.05
	#	hull = 0.09
	#}
	#super_carrier = {
	#	sea_defence = 1.2
	#	air_defence = 1.2
	#	hull = 0.12
	#}
	#light_carrier = {
	#	sea_defence = 0.6
	#	air_defence = 0.75
	#	hull = 0.06
	#}
	#escort_carrier = {
	#	sea_defence = 0.45
	#	air_defence = 0.45
	#	hull = 0.06
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}

carrier_bulkheads_layout = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_bulkheads_layout = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_bulkheads_layout = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_bulkheads_layout = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_bulkheads_layout = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_bulkheads_layout = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_bulkheads_layout = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_bulkheads_layout = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_bulkheads_layout = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	### 6%
	#carrier = {
	#	sea_defence = 1.8
	#}
	#command_carrier = {
	#	sea_defence = 1.8
	#}
	#super_carrier = {
	#	sea_defence = 2.4
	#}
	#light_carrier = {
	#	sea_defence = 1.2
	#}
	#escort_carrier = {
	#	sea_defence = 0.9
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}


carrier_hanger = {

	allow = {
		#carrier_technology = 1
		or = {
			and = {
				carrier_technology = 0
				not = { carrier_hanger = 1 }
			}
			and = {
				carrier_technology = 1
				not = { carrier_hanger = 2 }
			}
			and = {
				carrier_technology = 2
				not = { carrier_hanger = 3 }
			}
			and = {
				carrier_technology = 3
				not = { carrier_hanger = 4 }
			}
			and = {
				carrier_class = 1
				not = { carrier_hanger = 5 }
			}
			and = {
				carrier_class = 2
				not = { carrier_hanger = 6 }
			}
			and = {
				carrier_class = 3
				not = { carrier_hanger = 7 }
			}
			and = {
				carrier_class = 4
				not = { carrier_hanger = 8 }
			}
			and = {
				carrier_class = 5
				not = { carrier_class = 6 }
			}
			carrier_class = 6
		}
	}

	cag = {
		default_organisation = 3
	}
	### 2%
	#super_carrier = {
	#	max_strength = 6
	#}
	#carrier = {
	#	max_strength = 5
	#}
	#command_carrier = {
	#	max_strength = 5
	#}
	#light_carrier = {
	#	max_strength = 4
	#}

	research_bonus_from = {
		naval_engineering = 0.3
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1929
	additional_offset = 3
	max_level = 9
	folder = carrier_folder
	can_upgrade = no
}

escort_carrier_technology = {

	activate_unit = escort_carrier

	allow = {
		NOT =  { has_country_flag = 2nd_London_Treaty }
		small_navagation_radar = 1
		carrier_hanger = 5
		cruiser_engine_and_boilers = 4
		commerce_defence = 1
	}

	convoy_escort = {
		efficiency = 0.02
	}
	escort_efficiency = 0.02

	research_bonus_from = {
		naval_engineering = 0.3
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1941
	folder = carrier_folder
}
seaplane_tender_technology = {

	activate_unit = seaplane_tender

	allow = {
		Flying_boat_activation = 1
		lightcruiser_technology = 1
	}

	research_bonus_from = {
		naval_engineering = 0.3
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1910
	folder = carrier_folder
}

carrier_deck_armour_optimisation = {

	allow = {
		carrier_technology = 1
		OR ={
			AND ={
				has_country_flag = allow_early_deck_armour
				carrier_armour_thickness = 3
				carrier_hanger = 3
			}
			AND ={
				carrier_armour_thickness = 4
				carrier_hanger = 4
				carrier_task_force = 1
			}
			closed_hangar = 1
			AND = {
				open_hangar = 1
				carrier_class = 3
				heavy_armor_forging = 5
			}
		}
	}

	### 10%
	carrier = {
		sea_defence = 3
		air_defence = 3.5
		max_strength = 35
		#build_time = 25
		#build_cost_ic = 1.50
		#carrier_size = -0.25
	}
	command_carrier = {
		sea_defence = 3
		air_defence = 3.5
		max_strength = 35
		#build_time = 25
		#build_cost_ic = 1.50
		#carrier_size = -0.25
	}
	#super_carrier = {
	#	sea_defence = 4
	#	air_defence = 4
	#	max_strength = 20
	#	#build_time = 30
	#	#build_cost_ic = 1.75
	#	#carrier_size = -0.25
	#}

 	research_bonus_from = {
		naval_engineering = 0.2
		carrier_practical = 0.2
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 8

	start_year = 1940
	folder = carrier_folder
	can_upgrade = no
}

carrier_flight_deck_optimisation = {

	allow = {
		carrier_technology = 1
		carrier_hanger = 4
		fleet_auxiliary_carrier_doctrine = 1
		carrier_group_doctrine = 2
		carrier_crew_training = 2
	}

	carrier = {
		visibility = 25
		#build_cost_ic = 0.5
		#build_time = 50
		default_organisation = 5
		default_morale = 0.1
	}
	command_carrier = {
		visibility = 25
		#build_cost_ic = 0.5
		#build_time = 50
		default_organisation = 5
		default_morale = 0.1
	}

	carrier_protection = {
		efficiency  = 0.1
	}
	cag = {
		default_organisation = 15
	}
	escort_efficiency = 0.1

	research_bonus_from = {
		naval_engineering = 0.3
		carrier_practical = 0.1
		base_strike_doctrine = 0.1
	}

	on_completion = naval_engineering

	difficulty = 9

	start_year = 1944
	folder = carrier_folder
}

#super_carrier_technology = {
#
#	activate_unit = super_carrier
#
#	allow = {
#		carrier_technology = 1
#		NOT =  { has_country_flag = 2nd_London_Treaty }
#		OR = {
#			AND = {
#				NOT = { super_carrier_technology = 1 }	# 1936
#				carrier_hanger = 4
#				capital_ship_engine = 4
#				capital_ship_boilers = 4
#				capital_ship_turbines = 4
#				carrier_screws_optimalisation = 4
#				carrier_rudder_optimalisation = 4
#				carrier_hull_shape_optimalisation = 4
#				super_carrier_armour_thickness = 1
#				carrier_vertical_protection = 4
#				carrier_horizontal_protection = 4
#				carrier_torpedo_protection = 4
#				carrier_bulkheads_layout = 4
#			}
#			AND = {
#				NOT = { super_carrier_technology = 2 }	# 1938
#				carrier_hanger = 5
#				capital_ship_engine = 5
#				capital_ship_boilers = 5
#				capital_ship_turbines = 5
#				carrier_screws_optimalisation = 5
#				carrier_rudder_optimalisation = 5
#				carrier_hull_shape_optimalisation = 5
#				super_carrier_armour_thickness = 2
#				carrier_vertical_protection = 5
#				carrier_horizontal_protection = 5
#				carrier_torpedo_protection = 5
#				carrier_bulkheads_layout = 5
#			}
#			AND = {
#				NOT = { super_carrier_technology = 3 }	# 1940
#				carrier_hanger = 6
#				capital_ship_engine = 6
#				capital_ship_boilers = 6
#				capital_ship_turbines = 6
#				carrier_screws_optimalisation = 6
#				carrier_rudder_optimalisation = 6
#				carrier_hull_shape_optimalisation = 6
#				super_carrier_armour_thickness = 3
#				carrier_vertical_protection = 6
#				carrier_horizontal_protection = 6
#				carrier_torpedo_protection = 6
#				carrier_bulkheads_layout = 6
#			}
#			AND = {
#				NOT = { super_carrier_technology = 4 }	# 1942
#				carrier_hanger = 7
#				capital_ship_engine = 7
#				capital_ship_boilers = 7
#				capital_ship_turbines = 7
#				carrier_screws_optimalisation = 7
#				carrier_rudder_optimalisation = 7
#				carrier_hull_shape_optimalisation = 7
#				super_carrier_armour_thickness = 4
#				carrier_vertical_protection = 7
#				carrier_horizontal_protection = 7
#				carrier_torpedo_protection = 7
#				carrier_bulkheads_layout = 7
#			}
#			AND = {
#				NOT = { super_carrier_technology = 5 }	# 1944
#				carrier_hanger = 8
#				capital_ship_engine = 8
#				capital_ship_boilers = 8
#				capital_ship_turbines = 8
#				carrier_screws_optimalisation = 8
#				carrier_rudder_optimalisation = 8
#				carrier_hull_shape_optimalisation = 8
#				super_carrier_armour_thickness = 5
#				carrier_vertical_protection = 8
#				carrier_horizontal_protection = 8
#				carrier_torpedo_protection = 8
#				carrier_bulkheads_layout = 8
#			}
#			AND = {
#				NOT = { super_carrier_technology = 6 }	# 1946
#				carrier_hanger = 9
#				capital_ship_engine = 9
#				capital_ship_boilers = 9
#				capital_ship_turbines = 9
#				carrier_screws_optimalisation = 9
#				carrier_rudder_optimalisation = 9
#				carrier_hull_shape_optimalisation = 9
#				super_carrier_armour_thickness = 6
#				carrier_vertical_protection = 9
#				carrier_horizontal_protection = 9
#				carrier_torpedo_protection = 9
#				carrier_bulkheads_layout = 9
#			}
#			AND = {
#				NOT = { super_carrier_technology = 7 }	# 1948
#				carrier_hanger = 9
#				capital_ship_engine = 9
#				capital_ship_boilers = 9
#				capital_ship_turbines = 9
#				carrier_screws_optimalisation = 9
#				carrier_rudder_optimalisation = 9
#				carrier_hull_shape_optimalisation = 9
#				super_carrier_armour_thickness = 7
#				carrier_vertical_protection = 9
#				carrier_horizontal_protection = 9
#				carrier_torpedo_protection = 9
#				carrier_bulkheads_layout = 9
#			}
#		}
#	}
#
#	### 9%
#	super_carrier = {
#		max_strength = 27
#		maximum_speed = 0.29
#		sea_defence = 3.6
#		air_defence = 3.6
#		range = 150
#		air_attack = 0.72
#		hull = 0.36
#		#build_cost_ic = -0.65
#		positioning = 0.09
#	}
#
#	research_bonus_from = {
#		naval_engineering = 0.1
#		carrier_practical = 0.1
#		base_strike_doctrine = 0.1
#	}
#
#	on_completion = naval_engineering
#
#	difficulty = 9
#
#	start_year = 1943
#	first_offset = 1945
#	max_level = 4
#	additional_offset = 3
#	folder = carrier_folder
#	can_upgrade = no
#}

carrier_damage_control = {

	allow = {
		carrier_class = 1
		#naval_battles_fought = 50
		OR = {
			AND = {
				NOT = { carrier_damage_control = 1 }
			}
			AND = {
				NOT = { carrier_damage_control = 2 }
				carrier_crew_training = 1
			}
			AND = {
				NOT = { carrier_damage_control = 3 }
				carrier_crew_training = 2
			}
			AND = {
				NOT = { carrier_damage_control = 4 }
				carrier_crew_training = 3
			}
			AND = {
				NOT = { carrier_damage_control = 5 }
				carrier_crew_training = 4
			}
			AND = {
				carrier_crew_training = 5
			}
		}
	}

	### 1%
	carrier = {
		hull = 0.03
		default_morale = 0.1
	}
	command_carrier = {
		hull = 0.03
		default_morale = 0.1
	}
	#super_carrier = {
	#	hull = 0.04
	#	default_morale = 0.1
	#}
	light_carrier = {
		hull = 0.024
		default_morale = 0.1
	}
	escort_carrier = {
		hull = 0.02
		default_morale = 0.1
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	start_year = 1918
	first_offset = 1934
	additional_offset = 3
	max_level = 7
	folder = capitalship_II_folder
}

cag_fighter = {

	allow = {
		cag_design = 1
	}

	cag = {
		air_attack = 4.5
		air_defence = 4
		air_detection = 1.00
	}

	research_bonus_from = {
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.3
		fighter_focus = 0.1
		nav_focus = 0.1
	}

	on_completion = aeronautic_engineering

	difficulty = 2

	start_year = 1936
	max_level = 6
	first_offset = 1938
	additional_offset = 3
	folder = carrier_folder
}
cag_bomber = {

	allow = {
		cag_design = 1
	}

	cag = {
		surface_defence = 1
		soft_attack = 3.5
		hard_attack = 3.5
		sea_attack = 1
		air_detection = 0.50
	}
	escort_carrier = {
		sub_attack = 5
	}

	carrier_protection = { 
		efficiency = 0.025
	}

	research_bonus_from = {
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.3
		cas_focus = 0.3
		nav_focus = 0.1
	}

	on_completion = aeronautic_engineering

	difficulty = 2

	start_year = 1936
	max_level = 6
	first_offset = 1938
	additional_offset = 3
	folder = carrier_folder
}
cag_torpedo = {

	allow = {
		cag_design = 1
		air_launched_torpedoes = 1
	}

	cag = {
		surface_defence = 0.05
		sea_attack = 2
	}

	research_bonus_from = {
		submarine_engineering = 0.15
		aeronautic_engineering = 0.3
		single_engine_aircraft_practical = 0.3
		cas_focus = 0.3
		nav_focus = 0.1
	}

	on_completion = aeronautic_engineering

	difficulty = 2

	start_year = 1936
	max_level = 6
	first_offset = 1938
	additional_offset = 3
	folder = carrier_folder
}
off_center_elevators = {

	allow = {
		carrier_class = 1
		folding_wings = 2
		open_hangar = 1
	}

	cag = {
		soft_attack = 4
		hard_attack = 4
		sea_attack = 3
		air_attack = 5
		default_morale = 0.15
	}

	carrier = {
		max_strength = 15
	}
	command_carrier = {
		max_strength = 15
	}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 8

	start_year = 1939
	#max_level = 1
	#first_offset = 1940
	#additional_offset = 2
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}
carrier_catapults = {

	allow = {
		carrier_technology = 3
	}

	cag = {
		default_morale = 0.1
		default_organisation = 2.5
	}
	carrier = {
		default_morale = 0.1
		default_organisation = 5
	}
	command_carrier = {
		default_morale = 0.1
		default_organisation = 5
	}
	#super_carrier = {
	#	default_morale = 0.1
	#	default_organisation = 5
	#}
	light_carrier = {
		default_morale = 0.1
		default_organisation = 5
	}


	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 7

	start_year = 1936
	max_level = 3
	first_offset = 1940
	additional_offset = 4
	folder = carrier_folder
	can_upgrade = no
}
open_hangar = {

	allow = {
		carrier_technology = 1
		not = { closed_hangar = 1 }
		has_country_flag = impossible
	}

	cag = {
		default_morale = 0.1
	}

	carrier = {
		default_morale = 0.2
		#carrier_size = 1
	}
	command_carrier = {
		default_morale = 0.2
		#carrier_size = 1
	}
	#super_carrier = {
	#	default_morale = 0.2
	#	#carrier_size = 1
	#}
	light_carrier = {
		default_morale = 0.2
		#carrier_size = 1
	}
	escort_carrier = {
		default_morale = 0.2
	}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1930
	max_level = 1
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}
closed_hangar = {

	allow = {
		carrier_technology = 1
		not = { open_hangar = 1 }
		has_country_flag = impossible
	}

	cag = {
		default_morale = -0.2
	}
	carrier = {
		max_strength = 30
		carrier_size = -1
		build_cost_ic = 2.2
	}
	command_carrier = {
		max_strength = 30
		carrier_size = -1
		build_cost_ic = 2.2
	}
	#super_carrier = {
	#	max_strength = 70
	#	carrier_size = -1
	#	#build_cost_ic = 3
	#}
	light_carrier = {
		max_strength = 15
		#build_cost_ic = 1.25
	}
	escort_carrier = {
		#carrier_size = -0.25
		max_strength = 5
		#build_cost_ic = 1
	}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 4

	start_year = 1930
	max_level = 1
	folder = carrier_folder
	can_upgrade = no
	stealable = no
	change = no
}
closed_hangar_safety_procedures = {

	allow = {
		closed_hangar = 1
	}

	### 1%
	carrier = {
		hull = 0.03
		default_morale = 0.05
	}
	command_carrier = {
		hull = 0.03
		default_morale = 0.05
	}
	#super_carrier = {
	#	hull = 0.04
	#	default_morale = 0.05
	#}
	light_carrier = {
		hull = 0.024
		default_morale = 0.05
	}
	escort_carrier = {
		hull = 0.02
		default_morale = 0.05
	}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1936
	max_level = 4
	first_offset = 1940
	additional_offset = 4
	folder = carrier_folder
	stealable = no
}
double_hangar = { #not USA

	allow = {
		closed_hangar = 1
	}

	carrier = {
		carrier_size = 1
	}
	command_carrier = {
		carrier_size = 1
	}
	#super_carrier = {
	#	carrier_size = 1
	#}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_engineering

	start_year = 1932
	max_level = 1
	difficulty = 5
	folder = carrier_folder
	can_upgrade = no
	stealable = no
}
deck_park = { #not USA

	allow = {
		carrier_technology = 1
		nav_groundcrew_training = 9
		carrier_group_doctrine = 4
	}

	cag = {
		air_attack = 5
		default_morale = 0.15
	}
	carrier = {
		#max_strength = -10
		default_morale = 0.15
		air_attack = 3
	}
	command_carrier = {
		#max_strength = -10
		default_morale = 0.15
		air_attack = 3
	}
	#super_carrier = {
	#	max_strength = -12
	#	default_morale = 0.15
	#}
	light_carrier = {
		#max_strength = -5
		default_morale = 0.15
		air_attack = 3
	}
	carrier_protection = { 
		efficiency = 0.05
	}

	research_bonus_from = {
		naval_engineering = 0.1
		carrier_practical = 0.1
		naval_doctrine_practical = 0.3
	}

	on_completion = naval_doctrine_practical

	difficulty = 5

	start_year = 1942
	folder = carrier_folder
}

########################################################################
############ SUBMARINES ################################################
########################################################################

# SUBMARINE SECTION BICE 8.6
submarine_technology = {

	allow = {
		num_of_ports = 1
	}

	research_bonus_from = {
		submarine_engineering = 1
	}

	on_completion = submarine_engineering

	difficulty = 4

	start_year = 1918
	folder = submarine_folder
}
#### Coastal Submarine ####
coastal_submarine_class = {

	activate_unit = coastal_submarine

	allow = {
		submarine_technology = 1
		OR = {
			AND = {
				NOT = { coastal_submarine_class = 1 }	#1918
				submarine_hull = 1
				submarine_engine = 1
				submarine_crew_berthing = 1
				submarine_torpedo_tubes = 1
				submarine_periscope = 1
				submarine_battery = 1
			}
			AND = {
				NOT = { coastal_submarine_class = 2 }	# 1934
				submarine_hull = 2
				submarine_engine = 2
				submarine_crew_berthing = 2
				submarine_torpedo_tubes = 2
				submarine_periscope = 2
				submarine_battery = 2
			}
			AND = {
				NOT = { coastal_submarine_class = 3 }	# 1936
				submarine_hull = 3
				submarine_engine = 3
				submarine_crew_berthing = 3
				submarine_torpedo_tubes = 2
				submarine_periscope = 2
				submarine_battery = 3
				OR = {
					NOT =  { has_country_flag = LondonNavalTreaty }
					NOT =  { has_country_flag = 2nd_London_Treaty }
				}
			}
			AND = {
				NOT = { coastal_submarine_class = 4 }	# 1938
				submarine_hull = 4
				submarine_engine = 4
				submarine_crew_berthing = 4
				submarine_torpedo_tubes = 3
				submarine_periscope = 3
				submarine_battery = 3
				OR = {
					NOT =  { has_country_flag = LondonNavalTreaty }
					NOT =  { has_country_flag = 2nd_London_Treaty }
				}
			}
			AND = {
				NOT = { coastal_submarine_class = 5 }	# 1940
				submarine_hull = 5
				submarine_engine = 5
				submarine_crew_berthing = 5
				submarine_torpedo_tubes = 4
				submarine_periscope = 4
				submarine_battery = 4
				OR = {
					NOT =  { has_country_flag = LondonNavalTreaty }
					NOT =  { has_country_flag = 2nd_London_Treaty }
				}
			}
			AND = {
				NOT = { coastal_submarine_class = 6 }	# 1942
				submarine_hull = 6
				submarine_engine = 6
				submarine_crew_berthing = 6
				submarine_torpedo_tubes = 4
				submarine_periscope = 4
				submarine_battery = 4
				OR = {
					NOT =  { has_country_flag = LondonNavalTreaty }
					NOT =  { has_country_flag = 2nd_London_Treaty }
				}
			}
			AND = {
				NOT = { coastal_submarine_class = 7 }	# 1944
				submarine_hull = 7
				submarine_engine = 7
				submarine_crew_berthing = 7
				submarine_torpedo_tubes = 5
				submarine_periscope = 5
				submarine_battery = 5
				OR = {
					NOT =  { has_country_flag = LondonNavalTreaty }
					NOT =  { has_country_flag = 2nd_London_Treaty }
				}
			}
		}
	}

	### 6%
	coastal_submarine = {
		max_strength = 7.5
		sea_attack = 0.6
		convoy_attack = 0.18
		sea_defence = 2.7
		positioning = 0.027
		range = 50
		maximum_speed = 0.75
		visibility = -0.2
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1933		# 2nd model is from 1934
	additional_offset = 2	# one new every 2 year
	max_level = 7
	folder = submarine_folder
	can_upgrade = no
}
#### Submarine ####
submarine_class = {

	activate_unit = submarine

	allow = {
		submarine_technology = 1

		OR = {
			AND = {
				NOT = { submarine_class = 1 }	#1918
				submarine_hull = 1
				submarine_engine = 1
				submarine_crew_berthing = 1
				submarine_torpedo_tubes = 1
				submarine_periscope = 1
				submarine_battery = 1
			}
			AND = {
				NOT = { submarine_class = 2 }	# 1934
				submarine_hull = 2
				submarine_engine = 2
				submarine_crew_berthing = 2
				submarine_torpedo_tubes = 2
				submarine_periscope = 2
				submarine_battery = 2
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 3 }	# 1936
				submarine_hull = 3
				submarine_engine = 3
				submarine_crew_berthing = 3
				submarine_torpedo_tubes = 3
				submarine_periscope = 3
				submarine_battery = 3
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 4 }	# 1938
				submarine_hull = 4
				submarine_engine = 4
				submarine_crew_berthing = 4
				submarine_torpedo_tubes = 3
				submarine_periscope = 3
				submarine_battery = 3
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 5 }	# 1940
				submarine_hull = 5
				submarine_engine = 5
				submarine_crew_berthing = 5
				submarine_torpedo_tubes = 4
				submarine_periscope = 4
				submarine_battery = 4
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 6 }	# 1942
				submarine_thick_pressure_hull = 1
				submarine_hull = 6
				submarine_engine = 6
				submarine_crew_berthing = 6
				submarine_torpedo_tubes = 5
				submarine_periscope = 5
				submarine_battery = 5
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 7 }	# 1944
				submarine_thick_pressure_hull = 1
				submarine_hull = 7
				submarine_engine = 7
				submarine_crew_berthing = 7
				submarine_torpedo_tubes = 5
				submarine_periscope = 5
				submarine_battery = 5
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 8 }	# 1946
				submarine_thick_pressure_hull = 1
				submarine_hull = 8
				submarine_engine = 8
				submarine_crew_berthing = 8
				submarine_torpedo_tubes = 6
				submarine_periscope = 6
				submarine_battery = 6
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 9 }	# 1948
				submarine_thick_pressure_hull = 1
				submarine_hull = 9
				submarine_engine = 9
				submarine_crew_berthing = 9
				submarine_torpedo_tubes = 7
				submarine_periscope = 7
				submarine_battery = 7
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 10 }	# 1950
				submarine_thick_pressure_hull = 1
				submarine_hull = 10
				submarine_engine = 10
				submarine_crew_berthing = 10
				submarine_torpedo_tubes = 8
				submarine_periscope = 8
				submarine_battery = 8
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 11 }	# 1950
				submarine_thick_pressure_hull = 1
				submarine_hull = 11
				submarine_engine = 11
				submarine_crew_berthing = 11
				submarine_torpedo_tubes = 9
				submarine_periscope = 9
				submarine_battery = 9
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { submarine_class = 12 }	# 1950
				submarine_thick_pressure_hull = 1
				submarine_hull = 12
				submarine_engine = 12
				submarine_crew_berthing = 12
				submarine_torpedo_tubes = 9
				submarine_periscope = 9
				submarine_battery = 9
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
		}
	}
	### 6%
	submarine = {
		max_strength = 9
		sea_attack = 1
		convoy_attack = 0.24
		sea_defence = 3.3
		positioning = 0.027
		range = 200
		maximum_speed = 1.0
		visibility = -0.2
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1933		# 2nd model is from 1934
	additional_offset = 2	# one new every 2 year
	max_level = 11
	folder = submarine_folder
	can_upgrade = no
}
#### Long Range Submarine ####
long_range_submarine_class = {

	activate_unit = long_range_submarine

	allow = {
		submarine_technology = 1
		#not = { has_country_flag = no_lr_sub }

		OR = {
			AND = {
				NOT = { long_range_submarine_class = 1 }	#1935
				submarine_hull = 2
				submarine_engine = 2
				submarine_crew_berthing = 2
				submarine_torpedo_tubes = 2
				submarine_periscope = 2
				submarine_battery = 2
			}
			AND = {
				NOT = { long_range_submarine_class = 2 }	#1937
				submarine_hull = 3
				submarine_engine = 3
				submarine_crew_berthing = 3
				submarine_torpedo_tubes = 3
				submarine_periscope = 3
				submarine_battery = 3
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 3 }	#1939
				submarine_hull = 5
				submarine_engine = 5
				submarine_crew_berthing = 5
				submarine_torpedo_tubes = 4
				submarine_periscope = 4
				submarine_battery = 4
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 4 }	#1941
				submarine_hull = 6
				submarine_engine = 6
				submarine_crew_berthing = 6
				submarine_torpedo_tubes = 4
				submarine_periscope = 4
				submarine_battery = 4
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 5 }	#1943
				submarine_thick_pressure_hull = 1
				submarine_hull = 7
				submarine_engine = 7
				submarine_crew_berthing = 7
				submarine_torpedo_tubes = 5
				submarine_periscope = 5
				submarine_battery = 5
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 6 }	#1945
				submarine_thick_pressure_hull = 1
				submarine_hull = 8
				submarine_engine = 8
				submarine_crew_berthing = 8
				submarine_torpedo_tubes = 6
				submarine_periscope = 6
				submarine_battery = 6
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 7 }	#1945
				submarine_thick_pressure_hull = 1
				submarine_hull = 9
				submarine_engine = 9
				submarine_crew_berthing = 9
				submarine_torpedo_tubes = 7
				submarine_periscope = 7
				submarine_battery = 7
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
			AND = {
				NOT = { long_range_submarine_class = 8 }	#1945
				submarine_thick_pressure_hull = 1
				submarine_hull = 10
				submarine_engine = 10
				submarine_crew_berthing = 10
				submarine_torpedo_tubes = 8
				submarine_periscope = 8
				submarine_battery = 8
				NOT =  { has_country_flag = LondonNavalTreaty }
				NOT =  { has_country_flag = 2nd_London_Treaty }
			}
		}
	}

	### 9%
	long_range_submarine = {
		max_strength = 14.85
		sea_attack = 1.1
		convoy_attack = 0.315
		sea_defence = 4.05
		positioning = 0.049
		range = 200
		maximum_speed = 1.0
		visibility = -0.2
}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1933		# 2nd model is from 1935
	additional_offset = 3	# one new every 2 year
	max_level = 8
	folder = submarine_folder
	can_upgrade = no
}
#### Electro Submarine ####
electro_submarine_class = {

	activate_unit = electro_submarine

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = submarine_specialist_flag
		}
		submarine_technology = 1

		OR = {
			AND = {
				NOT = { electro_submarine_class = 1 }	#1942
				submarine_thick_pressure_hull = 1
				submarine_hull = 6
				submarine_engine = 6
				submarine_crew_berthing = 6
				submarine_torpedo_tubes = 5
				submarine_periscope = 5
				submarine_battery = 5
				submarine_electroboat = 1
			}
			AND = {
				NOT = { electro_submarine_class = 2 }	#1945
				submarine_thick_pressure_hull = 1
				streamlined_hull = 1
				submarine_hull = 8
				submarine_engine = 8
				submarine_crew_berthing = 8
				submarine_torpedo_tubes = 6
				submarine_periscope = 6
				submarine_battery = 6
				submarine_electroboat = 2
			}
			AND = {
				NOT = { electro_submarine_class = 3 }	#1948
				submarine_thick_pressure_hull = 1
				streamlined_hull = 1
				submarine_hull = 9
				submarine_engine = 9
				submarine_crew_berthing = 9
				submarine_torpedo_tubes = 7
				submarine_periscope = 7
				submarine_battery = 7
				submarine_electroboat = 3
			}
			AND = {
				NOT = { electro_submarine_class = 4 }	#1951
				submarine_thick_pressure_hull = 1
				streamlined_hull = 1
				submarine_hull = 11
				submarine_engine = 11
				submarine_crew_berthing = 11
				submarine_torpedo_tubes = 8
				submarine_periscope = 8
				submarine_battery = 8
				submarine_electroboat = 4
			}
		}
	}
	### 9%
	electro_submarine = {
		max_strength = 14.4
		sea_attack = 1.15
		convoy_attack = 0.675
		sea_defence = 10.8
		positioning = 0.049
		range = 125
		maximum_speed = 2.0
		visibility = -0.5
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 8

	start_year = 1942
	first_offset = 1944		# 2nd model is from 1945
	additional_offset = 3	# one new every 3 year
	max_level = 4
	folder = submarine_folder
	can_upgrade = no
}
#### Nuclear Submarine ####
nuclear_submarine_design = {

	activate_unit = nuclear_submarine

	allow = {
		or = {
			has_country_flag = big_education_investment_flag
			has_country_flag = submarine_specialist_flag
		}
		submarine_electroboat = 3
		submarine_construction_technolgies = 1
		civil_nuclear_research = 4
	}

	### 15% NOT DONE
	nuclear_submarine = {
		max_strength = 10
		range = 500
		maximum_speed = 2
		sea_attack = 12
		convoy_attack = 5
		sea_defence = 10
		positioning = 0.5
	}

	research_bonus_from = {
		electronic_engineering_theory  = 0.3
		submarine_practical = 0.15
	}

	on_completion = electronic_engineering_theory

	difficulty = 10

	start_year = 1952
	first_offset = 1954
	additional_offset = 5
	max_level = 4
	folder = submarine_folder
}
#### Engine ####
submarine_engine = {

	allow = {
		submarine_technology = 1
	}

	#coastal_submarine = {
	#	maximum_speed = 0.5
	#	range = 50
	#}
	#submarine = {
	#	maximum_speed = 0.5
	#	range = 100
	#}
	#long_range_submarine = {
	#	maximum_speed = 0.5
	#	range = 150
	#}
	#electro_submarine = {
	#	maximum_speed = 0.5
	#	range = 100
	#}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1932	# 2nd model is from 1933
	additional_offset = 2	# one new every 3 year
	max_level = 12
	folder = submarine_folder
	can_upgrade = no
}
#### hull ####
submarine_hull = {

	allow = {
		submarine_technology = 1
	}

	### 3%
	#coastal_submarine = {
	#	hull = 0.09
	#}
	#submarine = {
	#	hull = 0.12
	#}
	#long_range_submarine = {
	#	hull = 0.12
	#}
	#electro_submarine = {
	#	hull = 0.12
	#}
	#nuclear_submarine = {
	#	hull = 0.3
	#}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 6

	start_year = 1918
	first_offset = 1932
	additional_offset = 2	# one new every 3 year
	max_level = 12
	folder = submarine_folder
	can_upgrade = no
}
#### Crew Berthing ####
submarine_crew_berthing = {

	allow = {
		submarine_technology = 1
	}

	#coastal_submarine = {
	#	default_morale = 0.025
	#}
	#submarine = {
	#	default_morale = 0.025
	#}
	#long_range_submarine = {
	#	default_morale = 0.025
	#}
	#electro_submarine = {
	#	default_morale = 0.025
	#}
	#nuclear_submarine = {
	#	default_morale = 0.025
	#}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1932		# 2nd model is from 1936
	additional_offset = 2	# one new every 2 years
	max_level = 12 # 1955
	folder = submarine_folder
}

submarine_torpedo_tubes = {

	allow = {
		submarine_technology = 1
	}

	### %5
	#coastal_submarine = {
	#	convoy_attack = 0.15
	#	sea_attack = 2.5
	#}
	#submarine = {
	#	convoy_attack = 0.2
	#	sea_attack = 3.25
	#
	#}
	#long_range_submarine = {
	#	convoy_attack = 0.2
	#	sea_attack = 3.25
	#}
	#electro_submarine = {
	#	convoy_attack = 0.2
	#	sea_attack = 3.25
	#}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1932		# 2nd model is from 1934
	additional_offset = 3	# one new every 2 years
	max_level = 8 # 1954
	folder = submarine_folder
}
#### Periscope ####
submarine_periscope = {

	allow = {
		submarine_technology = 1
	}

	coastal_submarine = {
		air_detection = 0.2
		surface_detection = 0.2
	}
	submarine = {
		air_detection = 0.2
		surface_detection = 0.2
	}
	long_range_submarine = {
		air_detection = 0.2
		surface_detection = 0.2
	}
	electro_submarine = {
		air_detection = 0.2
		surface_detection = 0.2
	}

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 7

	start_year = 1918
	first_offset = 1932		# 2nd model is from 1936
	additional_offset = 3	# one new every 2 years
	max_level = 8 # 1954
	folder = submarine_folder
}
#### Battery ####
submarine_battery = {

	allow = {
		submarine_technology = 1
	}

	#coastal_submarine = {
	#	visibility = -0.5
	#}
	#submarine = {
	#	visibility = -0.65
	#}
	#long_range_submarine = {
	#	visibility = -0.75
	#}
	#electro_submarine = {
	#	visibility = -0.75
	#}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 5

	can_upgrade = no

	start_year = 1918
	first_offset = 1932
	additional_offset = 3	# one new every 3 year
	max_level = 8
	folder = submarine_folder
}

submarine_antiaircraft = {

	allow = {
		submarine_technology = 1
	}

	coastal_submarine = {
		air_attack =  0.200
	}
	submarine = {
		air_attack =  0.200
	}
	long_range_submarine = {
		air_attack =  0.200
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 4

	start_year = 1918
	first_offset = 1934		# 2nd model is from 1936
	additional_offset = 3	# one new every 3 year
	max_level = 8
	folder = submarine_folder
	can_upgrade = yes
}
#### Streamlined hull ####
streamlined_hull = {

	allow = {
		submarine_technology = 1
		submarine_hull = 7
	}

	### 10%
	coastal_submarine = {
		#sea_defence = 0.8
		maximum_speed = 1
	}
	submarine = {
		#sea_defence = 1.5
		maximum_speed = 1
	}
	long_range_submarine = {
		#sea_defence = 1
		maximum_speed = 1
	}
	electro_submarine = {
		#sea_defence = 35
		maximum_speed = 1
	}
	nuclear_submarine = {
		#sea_defence = 10
		maximum_speed = 1
	}

	research_bonus_from = {
		submarine_engineering = 0.4
		submarine_practical = 0.5
	}

	on_completion = submarine_engineering

	difficulty = 10

	start_year = 1944
	folder = submarine_folder
	can_upgrade = no
}
#### Air Independent Propulsion ####
air_independent_propulsion = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = submarine_specialist_flag
		}
		submarine_technology = 1
		submarine_hull = 7
		submarine_engine = 7
	}

	coastal_submarine = {
		visibility = -0.75
		range = -350
	}
	submarine = {
		visibility = -1
		range = -500
	}
	long_range_submarine = {
		visibility = -1
		range = -1000
	}
	electro_submarine = {
		visibility = -1
		range = -500
	}

	research_bonus_from = {
		submarine_engineering = 0.4
		submarine_practical = 0.5
	}

	on_completion = submarine_engineering

	difficulty = 10
	can_upgrade = no

	start_year = 1946
	folder = submarine_folder
}
#### Sonar ####
submarine_sonar = {

	allow = {
		submarine_technology = 1
		OR = {
			AND = {
				NOT = { submarine_sonar = 1 }
				hydrophone_dev = 1
			}
			AND = {
				NOT = { submarine_sonar = 2 }
				hydrophone_dev = 2
			}
			AND = {
				NOT = { submarine_sonar = 3 }
				hydrophone_dev = 3
			}
			AND = {
				NOT = { submarine_sonar = 4 }
				hydrophone_dev = 3
			}
			AND = {
				NOT = { submarine_sonar = 5 }
				hydrophone_dev = 4
			}
			AND = {
				hydrophone_dev = 5
			}
		}
	}

	coastal_submarine = {
		surface_detection = 2.000
		sub_detection = 0.500
	}
	submarine = {
		surface_detection = 2.000
		sub_detection = 0.500
	}
	long_range_submarine = {
		surface_detection = 2.000
		sub_detection = 0.500
	}
	electro_submarine = {
		surface_detection = 2.000
		sub_detection = 0.500
	}
	nuclear_submarine = {
		surface_detection = 2.000
		sub_detection = 0.500
	}

	research_bonus_from = {
		electronic_engineering_theory = 0.3
		submarine_practical = 0.15
	}

	on_completion = electronic_engineering_theory

	difficulty = 6

	start_year = 1924
	first_offset = 1937
	additional_offset = 3
	max_level = 6
	folder = submarine_folder
}
#### SMALL SHIP COMMON TORPEDO TECHS ####
torpedo_upgrade = {

	allow = {
		or = {
			and = {
				not = { torpedo_upgrade = 1 }
				torpedo_warhead = 1
				torpedo_targeting = 1
				torpedo_propulsion = 1
			}
			and = {
				not = { torpedo_upgrade = 2 }
				torpedo_warhead = 2
				torpedo_targeting = 2
				torpedo_propulsion = 2
			}
			and = {
				not = { torpedo_upgrade = 3 }
				torpedo_warhead = 3
				torpedo_targeting = 3
				torpedo_propulsion = 3
			}
			and = {
				not = { torpedo_upgrade = 4 }
				torpedo_warhead = 4
				torpedo_targeting = 4
				torpedo_propulsion = 4
			}
			and = {
				not = { torpedo_upgrade = 5 }
				torpedo_warhead = 5
				torpedo_targeting = 5
				torpedo_propulsion = 5
			}
			and = {
				not = { torpedo_upgrade = 6 }
				torpedo_warhead = 6
				torpedo_targeting = 6
				torpedo_propulsion = 6
			}
			and = {
				not = { torpedo_upgrade = 7 }
				torpedo_warhead = 7
				torpedo_targeting = 7
				torpedo_propulsion = 7
			}
			and = {
				not = { torpedo_upgrade = 8 }
				torpedo_warhead = 8
				torpedo_targeting = 8
				torpedo_propulsion = 8
			}
			and = {
				not = { torpedo_upgrade = 9 }
				torpedo_warhead = 9
				torpedo_targeting = 9
				torpedo_propulsion = 9
			}
			and = {
				not = { torpedo_upgrade = 10 }
				torpedo_warhead = 10
				torpedo_targeting = 10
				torpedo_propulsion = 10
			}
			and = {
				not = { torpedo_upgrade = 11 }
				torpedo_warhead = 11
				torpedo_targeting = 11
				torpedo_propulsion = 11
			}
			and = {
				not = { torpedo_upgrade = 12 }
				torpedo_warhead = 12
				torpedo_targeting = 12
				torpedo_propulsion = 12
			}
		}
	}

	### 4%
	destroyer_actual = {
		sea_attack = 2.0
		convoy_attack = 0.5
		max_strength = 1.5
		positioning = 0.002
		distance = 0.005
	}
	torpedo_boat = {
		sea_attack = 2.0
		convoy_attack = 0.5
		max_strength = 2
		positioning = 0.01
		distance = 0.005
	}
	motor_torpedo_boat = {
		sea_attack = 1.2
		convoy_attack = 0.3
		max_strength = 1.5
		positioning = 0.01
		distance = 0.005
	}
	light_cruiser = {
		sea_attack = 2.0
		convoy_attack = 0.5
	}
	heavy_cruiser = {
		sea_attack = 2.2
		convoy_attack = 0.5
	}

	research_bonus_from = {
		submarine_engineering = 0.1
		naval_engineering = 0.4
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1934
	additional_offset = 4
	max_level = 6
	folder = submarine_folder
}
#### Torpedo ####
submarine_torpedo = {

	allow = {
		or = {
			and = {
				not = { submarine_torpedo = 1 }
				torpedo_warhead = 1
				torpedo_targeting = 1
				torpedo_propulsion = 1
			}
			and = {
				not = { submarine_torpedo = 2 }
				torpedo_warhead = 2
				torpedo_targeting = 2
				torpedo_propulsion = 2
			}
			and = {
				not = { submarine_torpedo = 3 }
				torpedo_warhead = 3
				torpedo_targeting = 3
				torpedo_propulsion = 3
			}
			and = {
				not = { submarine_torpedo = 4 }
				torpedo_warhead = 4
				torpedo_targeting = 4
				torpedo_propulsion = 4
			}
			and = {
				not = { submarine_torpedo = 5 }
				torpedo_warhead = 5
				torpedo_targeting = 5
				torpedo_propulsion = 5
			}
			and = {
				not = { submarine_torpedo = 6 }
				torpedo_warhead = 6
				torpedo_targeting = 6
				torpedo_propulsion = 6
			}
			and = {
				not = { submarine_torpedo = 7 }
				torpedo_warhead = 7
				torpedo_targeting = 7
				torpedo_propulsion = 7
			}
			and = {
				not = { submarine_torpedo = 8 }
				torpedo_warhead = 8
				torpedo_targeting = 8
				torpedo_propulsion = 8
			}
			and = {
				not = { submarine_torpedo = 9 }
				torpedo_warhead = 9
				torpedo_targeting = 9
				torpedo_propulsion = 9
			}
			and = {
				not = { submarine_torpedo = 10 }
				torpedo_warhead = 10
				torpedo_targeting = 10
				torpedo_propulsion = 10
			}
			and = {
				not = { submarine_torpedo = 11 }
				torpedo_warhead = 11
				torpedo_targeting = 11
				torpedo_propulsion = 11
			}
			and = {
				not = { submarine_torpedo = 12 }
				torpedo_warhead = 12
				torpedo_targeting = 12
				torpedo_propulsion = 12
			}
		}
	}

	### 4%
	coastal_submarine = {
		sea_attack = 0.4
		convoy_attack = 0.18
		positioning = 0.018
		max_strength = 1.25
		distance = 0.01
	}
	submarine = {
		sea_attack = 0.5
		convoy_attack = 0.3
		positioning = 0.018
		max_strength = 1.5
		distance = 0.01
	}
	long_range_submarine = {
		sea_attack = 0.5
		convoy_attack = 0.3
		positioning = 0.018
		max_strength = 1.65
		distance = 0.01
	}
	electro_submarine = {
		sea_attack = 0.5
		convoy_attack = 0.45
		positioning = 0.018
		max_strength = 1.6
		distance = 0.01
	}
	nuclear_submarine = {
		sea_attack = 0.5
		convoy_attack = 0.5
		positioning = 0.018
		max_strength = 5
		distance = 0.01
	}

	research_bonus_from = {
		naval_engineering = 0.9
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1918
	first_offset = 1934
	additional_offset = 4
	max_level = 6
	folder = submarine_folder
}
#### Torpedo Warhead ####
torpedo_warhead = {

	allow = {
		#or = {
		#	torpedo_upgrade = 1
		#	submarine_torpedo = 1
		#}
		#OR = {
		#	AND = {
		#		NOT = { torpedo_warhead = 3 }
		#		submarine_torpedo = 2
		#	}
		#	AND = {
		#		NOT = { torpedo_warhead = 5 }
		#		submarine_torpedo = 4
		#	}
		#	AND = {
		#		NOT = { torpedo_warhead = 7 }
		#		submarine_torpedo = 6
		#	}
		#	AND = {
		#		NOT = { torpedo_warhead = 9 }
		#		submarine_torpedo = 8
		#	}
		#	AND = {
		#		NOT = { torpedo_warhead = 11 }
		#		submarine_torpedo = 10
		#	}
		#	AND = {
		#		submarine_torpedo = 11
		#	}
		#}
	}

	### 1%
	#coastal_submarine = {
	#	max_strength = 1.25
	#}
	#submarine = {
	#	max_strength = 1.5
	#}
	#long_range_submarine = {
	#	max_strength = 1.65
	#}
	#electro_submarine = {
	#	max_strength = 1.6
	#}
	#nuclear_submarine = {
	#	max_strength = 5
	#}
	#torpedo_boat = {
	#	max_strength = 2
	#}
	#motor_torpedo_boat = {
	#	max_strength = 1.5
	#}
	#destroyer_actual = {
	#	max_strength = 1.5
	#}

	research_bonus_from = {
		submarine_engineering = 0.4
		submarine_practical = 0.5
	}

	on_completion = naval_engineering

	difficulty = 3

	start_year = 1918
	first_offset = 1934
	additional_offset = 4
	max_level = 12
	folder = submarine_folder
}
#### Torpedo Targeting ####
torpedo_targeting = {

	allow = {
		#submarine_torpedo = 1
		#OR = {
		#	AND = {
		#		NOT = { torpedo_targeting = 3 }
		#		submarine_torpedo = 2
		#	}
		#	AND = {
		#		NOT = { torpedo_targeting = 5 }
		#		submarine_torpedo = 4
		#	}
		#	AND = {
		#		NOT = { torpedo_targeting = 7 }
		#		submarine_torpedo = 6
		#	}
		#	AND = {
		#		NOT = { torpedo_targeting = 9 }
		#		submarine_torpedo = 8
		#	}
		#	AND = {
		#		NOT = { torpedo_targeting = 11 }
		#		submarine_torpedo = 10
		#	}
		#	AND = {
		#		submarine_torpedo = 11
		#	}
		#}
	}

	### 1%
	#coastal_submarine = {
	#	positioning = 0.004
	#}
	#submarine = {
	#	positioning = 0.004
	#}
	#long_range_submarine = {
	#	positioning = 0.004
	#}
	#electro_submarine = {
	#	positioning = 0.004
	#}
	#nuclear_submarine = {
	#	positioning = 0.004
	#}
	#torpedo_boat = {
	#	positioning = 0.01
	#}
	#motor_torpedo_boat = {
	#	positioning = 0.01
	#}
	#destroyer_actual = {
	#	positioning = 0.002
	#}


	research_bonus_from = {
		submarine_engineering = 0.4
		submarine_practical = 0.5
	}

	on_completion = submarine_engineering

	difficulty = 3

	start_year = 1918
	first_offset = 1934
	additional_offset = 4
	max_level = 12
	folder = submarine_folder
}
#### Torpedo Propulsion ####
torpedo_propulsion = {

	allow = {
		#submarine_torpedo = 1
		#OR = {
		#	AND = {
		#		NOT = { torpedo_propulsion = 3 }
		#		submarine_torpedo = 2
		#	}
		#	AND = {
		#		NOT = { torpedo_propulsion = 5 }
		#		submarine_torpedo = 4
		#	}
		#	AND = {
		#		NOT = { torpedo_propulsion = 7 }
		#		submarine_torpedo = 6
		#	}
		#	AND = {
		#		NOT = { torpedo_propulsion = 9 }
		#		submarine_torpedo = 8
		#	}
		#	AND = {
		#		NOT = { torpedo_propulsion = 11 }
		#		submarine_torpedo = 10
		#	}
		#	AND = {
		#		submarine_torpedo = 11
		#	}
		#}
	}

	#coastal_submarine = {
	#	distance = 0.01
	#}
	#submarine = {
	#	distance = 0.01
	#}
	#long_range_submarine = {
	#	distance = 0.01
	#}
	#electro_submarine = {
	#	distance = 0.01
	#}
	#nuclear_submarine = {
	#	distance = 0.01
	#}
	#torpedo_boat = {
	#	distance = 0.01
	#}
	#motor_torpedo_boat = {
	#	distance = 0.01
	#}
	#destroyer = {
	#	distance = 0.01
	#}
	#destroyer_actual = {
	#	distance = 0.01
	#}

	research_bonus_from = {
		submarine_engineering = 0.4
		submarine_practical = 0.5
	}

	on_completion = submarine_engineering

	difficulty = 3
	start_year = 1918
	first_offset = 1934
	additional_offset = 4
	max_level = 12
	folder = submarine_folder
}
#### Fire Control ####
submarine_fire_control = {

	allow = {
		submarine_technology = 1
		submarine_battery = 2
		OR = {
			AND = {
				NOT = { submarine_fire_control = 3 }
				submarine_battery = 3
			}
			AND = {
				NOT = { submarine_fire_control = 4 }
				submarine_sonar = 1
				fire_control_system_training = 1
				mechnical_computing_machine = 2
			}
			AND = {
				NOT = { submarine_fire_control = 5 }
				submarine_sonar = 2
				fire_control_system_training = 2
				electronic_computing_machine = 1
			}
			AND = {
				submarine_sonar = 3
				fire_control_system_training = 3
				electronic_computing_machine = 2
			}
		}
	}

	### 4%
	coastal_submarine = {
		convoy_attack = 0.5
		sea_attack = 0.4
	}
	submarine = {
		convoy_attack = 0.5
		sea_attack = 0.5
	}
	long_range_submarine = {
		convoy_attack = 0.5
		sea_attack = 0.5
	}
	electro_submarine = {
		convoy_attack = 0.5
		sea_attack = 0.5
	}
	nuclear_submarine = {
		convoy_attack = 1
		sea_attack = 2
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.3
		naval_engineering = 0.3
	}

	on_completion = naval_engineering

	difficulty = 5

	start_year = 1935
	first_offset = 1936
	additional_offset = 4
	max_level = 6
	folder = submarine_folder
}
#### Damage Control ####
submarine_damage_control = {

	allow = {
		OR = {
			AND = {
				NOT = { submarine_damage_control = 1 }
			}
			AND = {
				NOT = { submarine_damage_control = 2 }
				submarine_crew_training = 1
			}
			AND = {
				NOT = { submarine_damage_control = 3 }
				submarine_crew_training = 2
			}
			AND = {
				NOT = { submarine_damage_control = 4 }
				submarine_crew_training = 3
			}
			AND = {
				NOT = { submarine_damage_control = 5 }
				submarine_crew_training = 4
			}
			AND = {
				submarine_crew_training = 5
			}
		}
	}

	### 1%
	coastal_submarine = {
		hull = 0.03
		default_morale = 0.1
	}
	submarine = {
		hull = 0.04
		default_morale = 0.1
	}
	long_range_submarine = {
		hull = 0.04
		default_morale = 0.1
	}
	electro_submarine = {
		hull = 0.04
		default_morale = 0.1
	}
	nuclear_submarine = {
		hull = 0.04
		default_morale = 0.1
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.3
		naval_engineering = 0.3
	}

	on_completion = naval_engineering

	difficulty = 2

	start_year = 1930
	first_offset = 1934
	additional_offset = 3
	max_level = 7  #1951
	folder = submarine_folder
}
#### Electric Torpedo ####
electric_powered_torpedo = {

	allow = {
		submarine_torpedo = 3
	}

	### 5%
	coastal_submarine = {
		sea_defence = 4.5
	}
	submarine = {
		sea_defence = 5.5
	}
	long_range_submarine = {
		sea_defence = 4.5
	}
	electro_submarine = {
		sea_defence = 12
	}
	nuclear_submarine = {
		sea_defence = 5
	}
	midget_submarine = {
		sea_defence = 10
	}
	#torpedo_boat = {
	#	sea_defence = 5
	#}
	#motor_torpedo_boat = {
	#	sea_defence = 5
	#}

	surprise_chance = 0.1
	

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.6
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 7

	start_year = 1943
	folder = submarine_folder
}
#### Snorkel ####
submarine_snorkel = {

	allow = {
		submarine_engine = 6
		submarine_hull = 6
	}

	### 8%
	coastal_submarine = {
		visibility = -0.500
		air_defence = 0.64
	}
	submarine = {
		visibility = -0.500
		air_defence = 0.8
	}
	long_range_submarine = {
		visibility = -0.500
		air_defence = 0.8
	}
	electro_submarine = {
		visibility = -0.500
		air_defence = 2.4
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 5

	start_year = 1941
	first_offset = 1945
	additional_offset = 4
	max_level = 3
	folder = submarine_folder
	can_upgrade = yes
}

submarine_torpedo_auto_loading_system = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = submarine_specialist_flag
		}
		submarine_technology = 1
		submarine_class = 5
		submarine_torpedo_tubes = 4
	}

	### 10%
	submarine = {
		build_cost_manpower = -0.025
		#build_cost_ic = 1
		convoy_attack = 0.4
		sea_attack = 4
	}
	long_range_submarine = {
		build_cost_manpower = -0.025
		#build_cost_ic = 1
		convoy_attack = 0.4
		sea_attack = 4
	}
	electro_submarine = {
		build_cost_manpower = -0.025
		#build_cost_ic = 1
		convoy_attack = 0.75
		sea_attack = 4
	}
	#nuclear_submarine = {
	#	build_cost_manpower = -0.025
	#	#build_cost_ic = 1
	#	convoy_attack = 1
	#	sea_attack = 8.0
	#}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 6

	start_year = 1943
	folder = submarine_folder
}
#### SUBMARINE LARGE BATTERY CAPACITY ####
submarine_large_battery_capacity = {

	allow = {
		submarine_technology = 1
		submarine_class = 4
		long_range_submarine_class = 3
		submarine_battery = 4
	}

	### 4%
	submarine = {
		positioning = 0.018
		visibility = -1
		sea_defence = 2.75
		air_defence = 0.4
	}
	long_range_submarine = {
		positioning = 0.018
		visibility = -1
		sea_defence = 2.25
		air_defence = 0.4
	}
	electro_submarine = {
		positioning = 0.018
		visibility = -1
		sea_defence = 6
		air_defence = 1.2
	}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 6

	start_year = 1940
	folder = submarine_folder
}
################################################################################
# SUBMARINE THICK PRESSURE hull
################################################################################
submarine_thick_pressure_hull = {

	allow = {
		submarine_technology = 1
		submarine_class = 5
		long_range_submarine_class = 3
		submarine_hull = 5
	}

	### 7.5%
	#coastal_submarine = {
	#	sea_defence = 0.4
	#	air_defence = 0.4
	#}
	submarine = {
		sea_defence = 4.125
		air_defence = 0.5
	}
	long_range_submarine = {
		sea_defence = 3.375
		air_defence = 0.5
	}
	electro_submarine = {
		sea_defence = 9
		air_defence = 1.5
	}
	nuclear_submarine = {
		sea_defence = 18
		air_defence = 3
	}


	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 8

	start_year = 1941
	folder = submarine_folder
}
################################################################################
# SUBMARINE AIR CONDITIONING
################################################################################
submarine_air_conditioning = {

	allow = {
		submarine_technology = 1
		submarine_hull = 5
		submarine_class = 5
		long_range_submarine_class = 4
	}

	submarine = {
		default_morale = 0.150
		range = -200
	}
	long_range_submarine = {
		default_morale = 0.150
		range = -200
	}
	electro_submarine = {
		default_morale = 0.150
		range = -200
	}
	nuclear_submarine = {
		default_morale = 0.150
		range = -200
	}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 5

	start_year = 1942
	folder = submarine_folder
}
################################################################################
# SUBMARINE SILENT RUNNING DRIVE
################################################################################
submarine_silent_running_drive = {

	allow = {
		submarine_technology = 1
		submarine_class = 5
		long_range_submarine_class = 4
		submarine_engine = 6

	}

	coastal_submarine = {
		visibility = -1
		maximum_speed = -0.5
	}
	submarine = {
		visibility = -1
		maximum_speed = -0.5
	}
	long_range_submarine = {
		visibility = -1
		maximum_speed = -0.5
	}
	electro_submarine = {
		visibility = -1
		maximum_speed = -0.5
	}
	nuclear_submarine = {
		visibility = -1
		maximum_speed = -0.5
	}

	can_upgrade = no

	research_bonus_from = {
		submarine_engineering = 0.50
		submarine_practical = 0.20
	}

	on_completion = submarine_engineering

	difficulty = 8

	start_year = 1942
	folder = submarine_folder
}
submarine_electroboat = {

	allow = {
		or = {
			has_country_flag = medium_large_education_investment_flag
			has_country_flag = big_education_investment_flag
			has_country_flag = submarine_specialist_flag
		}
		or = {
			and = {
				submarine_snorkel = 1
				submarine_engine = 7
				submarine_hull = 7
			}
			and = {
				submarine_snorkel = 1
				submarine_engine = 6
				submarine_hull = 6
				has_country_flag = allow_early_electro
			}
		}
	}

	#coastal_submarine = {
	#	maximum_speed = -1
	#	visibility = -1.5
	#}
	#submarine = {
	#	maximum_speed = -1
	#	visibility = -1.5
	#}
	#long_range_submarine = {
	#	maximum_speed = -1
	#	visibility = -1.5
	#}
	#electro_submarine = {
	#	maximum_speed = -1
	#	visibility = -1.5
	#}

	research_bonus_from = {
		electronic_engineering_theory  = 0.3
		submarine_practical = 0.15
	}

	on_completion = electronic_engineering_theory

	difficulty = 10
	can_upgrade = no

	start_year = 1942
	first_offset = 1944
	additional_offset = 2
	max_level = 4
	folder = submarine_folder
}

milch_submarine = {

	allow = {
		submarine_engine= 3
		submarine_hull= 3
		submarine_battery = 3
	}

	submarine = {
		range = 600
		air_defence = -5.000
		visibility = 2.000
	}
	long_range_submarine = {
		range = 1000
		air_defence = -5.000
		visibility = 2.000
	}
	electro_submarine = {
		range = 800
		air_defence = -5.000
		visibility = 2.000
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
		sealane_interdiction_doctrine = 0.1
	}

	on_completion = submarine_engineering

	difficulty = 12

	start_year = 1940

	folder = submarine_folder
	can_upgrade = yes
}

midget_submarine_activation = {

	#activate_unit = midget_submarine

	allow = {
		num_of_ports  = 1
		commando_brigade_activation = 1
		submarine_battery = 4
		submarine_engine = 6
	}

	air_commando_brigade = {
		sea_attack = 800
	}

	research_bonus_from = {
		submarine_engineering = 0.3
		submarine_practical = 0.15
	}

	on_completion = naval_engineering

	difficulty = 12
	start_year = 1940
	folder = special_forces_folder
}

submarine_radar = {

	allow = {
		or = {
			has_country_flag = big_education_investment_flag
			has_country_flag = electronics_specialist_flag
		}
		small_ship_radar = 2
	}

	submarine = {
		sub_detection = 0.1
		surface_detection = 1.50
		air_detection = 0.50
		visibility = -0.3
	}
	long_range_submarine = {
		sub_detection = 0.1
		surface_detection = 1.50
		air_detection = 0.50
		visibility = -0.3
	}
	electro_submarine = {
		sub_detection = 0.1
		surface_detection = 1.50
		air_detection = 0.50
		visibility = -0.3
	}

	research_bonus_from = {
		electronic_engineering_theory  = 0.2
		electronic_engineering_practical = 0.2
		mechanicalengineering_theory = 0.2
	}

	on_completion = electronic_engineering_theory

	difficulty = 7

	start_year = 1942
	first_offset = 1943
	additional_offset = 2
	max_level = 5
	folder = submarine_folder
}


dual_purpose_guns = { #TODO: STATS

	allow = {
		or = {
			light_naval_guns = 3
			capitalship_secondary = 2
			cruiser_heavy_anti_air_artilery = 1
		}
	}

	research_bonus_from = {
	}

	on_completion = naval_engineering

	difficulty = 6
	start_year = 1933
	first_offset = 1936	# 2nd model is from 1936
	additional_offset = 3	# one new every 2 year
	max_level = 5
	folder = capitalship_II_folder
	can_upgrade = no
}

#########################################################
################## TURRETS LAYOUT #######################
#########################################################

three_three = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				four_two = 0
				four_two_reverse = 0
				not = {
					four_two = 1
					four_two_reverse = 1
				}
			}
			and = {
				four_two = 1
				four_two_reverse = 1
				not = {
					four_two = 2
					four_two_reverse = 2
				}
			}
			and = {
				four_two = 2
				four_two_reverse = 2
				not = {
					four_two = 3
					four_two_reverse = 3
				}
			}
			and = {
				four_two = 3
				four_two_reverse = 3
				not = {
					four_two = 4
					four_two_reverse = 4
				}
			}
			and = {
				four_two = 4
				four_two_reverse = 4
				not = {
					four_two = 5
					four_two_reverse = 5
				}
			}
			and = {
				four_two = 5
				four_two_reverse = 5
			}
		}
		or = {
			and = {
				four_three = 0
				four_three_reverse = 0
				not = {
					four_three = 1
					four_three_reverse = 1
				}
			}
			and = {
				four_three = 1
				four_three_reverse = 1
				not = {
					four_three = 2
					four_three_reverse = 2
				}
			}
			and = {
				four_three = 2
				four_three_reverse = 2
				not = {
					four_three = 3
					four_three_reverse = 3
				}
			}
			and = {
				four_three = 3
				four_three_reverse = 3
				not = {
					four_three = 4
					four_three_reverse = 4
				}
			}
			and = {
				four_three = 4
				four_three_reverse = 4
				not = {
					four_three = 5
					four_three_reverse = 5
				}
			}
			and = {
				four_three = 5
				four_three_reverse = 5
			}
		}
		or = {
			and = {
				three_four = 0
				three_four_reverse = 0
				not = {
					three_four = 1
					three_four_reverse = 1
				}
			}
			and = {
				three_four = 1
				three_four_reverse = 1
				not = {
					three_four = 2
					three_four_reverse = 2
				}
			}
			and = {
				three_four = 2
				three_four_reverse = 2
				not = {
					three_four = 3
					three_four_reverse = 3
				}
			}
			and = {
				three_four = 3
				three_four_reverse = 3
				not = {
					three_four = 4
					three_four_reverse = 4
				}
			}
			and = {
				three_four = 4
				three_four_reverse = 4
				not = {
					three_four = 5
					three_four_reverse = 5
				}
			}
			and = {
				three_four = 5
				three_four_reverse = 5
			}
		}
		or = {
			and = {
				five_two = 0
				five_two_reverse = 0
				not = {
					five_two = 1
					five_two_reverse = 1
				}
			}
			and = {
				five_two = 1
				five_two_reverse = 1
				not = {
					five_two = 2
					five_two_reverse = 2
				}
			}
			and = {
				five_two = 2
				five_two_reverse = 2
				not = {
					five_two = 3
					five_two_reverse = 3
				}
			}
			and = {
				five_two = 3
				five_two_reverse = 3
				not = {
					five_two = 4
					five_two_reverse = 4
				}
			}
			and = {
				five_two = 4
				five_two_reverse = 4
				not = {
					five_two = 5
					five_two_reverse = 5
				}
			}
			and = {
				five_two = 5
				five_two_reverse = 5
			}
		}

		or = {
			and = {
				three_three = 0
				three_three_reverse = 0
				not = { three_three = 1 }
			}
			and = {
				three_three = 1
				three_three_reverse = 1
				not = { three_three = 2 }
			}
			and = {
				three_three = 2
				three_three_reverse = 2
				not = { three_three = 3 }
			}
			and = {
				three_three = 3
				three_three_reverse = 3
				not = { three_three = 4 }
			}
			and = {
				three_three = 4
				three_three_reverse = 4
				not = { three_three = 5 }
			}
		}
	}

	battleship = {
		positioning = 0.04
		sea_attack = 5
	}
	command_battleship = {
		positioning = 0.04
		sea_attack = 5
	}
	battlecruiser = {
		positioning = 0.04
		sea_attack = 5
	}
	super_heavy_battleship = {
		positioning = 0.04
		sea_attack = 5
	}

	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}


three_three_reverse = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_three = 1
				three_three_reverse = 0
				not = { three_three_reverse = 1 }
			}
			and = {
				three_three = 2
				three_three_reverse = 1
				not = { three_three_reverse = 2 }
			}
			and = {
				three_three = 3
				three_three_reverse = 2
				not = { three_three_reverse = 3 }
			}
			and = {
				three_three = 4
				three_three_reverse = 3
				not = { three_three_reverse = 4 }
			}
			and = {
				three_three = 5
				three_three_reverse = 4
				not = { three_three_reverse = 5 }
			}
		}
	}

	battleship = {
		positioning = -0.04
		sea_attack = -5
	}
	command_battleship = {
		positioning = -0.04
		sea_attack = -5
	}
	battlecruiser = {
		positioning = -0.04
		sea_attack = -5
	}
	super_heavy_battleship = {
		positioning = -0.04
		sea_attack = -5
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

four_two = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_three = 0
				three_three_reverse = 0
				not = {
					three_three = 1
					three_three_reverse = 1
				}
			}
			and = {
				three_three = 1
				three_three_reverse = 1
				not = {
					three_three = 2
					three_three_reverse = 2
				}
			}
			and = {
				three_three = 2
				three_three_reverse = 2
				not = {
					three_three = 3
					three_three_reverse = 3
				}
			}
			and = {
				three_three = 3
				three_three_reverse = 3
				not = {
					three_three = 4
					three_three_reverse = 4
				}
			}
			and = {
				three_three = 4
				three_three_reverse = 4
				not = {
					three_three = 5
					three_three_reverse = 5
				}
			}
			and = {
				three_three = 5
				three_three_reverse = 5
			}
		}
		or = {
			and = {
				four_three = 0
				four_three_reverse = 0
				not = {
					four_three = 1
					four_three_reverse = 1
				}
			}
			and = {
				four_three = 1
				four_three_reverse = 1
				not = {
					four_three = 2
					four_three_reverse = 2
				}
			}
			and = {
				four_three = 2
				four_three_reverse = 2
				not = {
					four_three = 3
					four_three_reverse = 3
				}
			}
			and = {
				four_three = 3
				four_three_reverse = 3
				not = {
					four_three = 4
					four_three_reverse = 4
				}
			}
			and = {
				four_three = 4
				four_three_reverse = 4
				not = {
					four_three = 5
					four_three_reverse = 5
				}
			}
			and = {
				four_three = 5
				four_three_reverse = 5
			}
		}
		or = {
			and = {
				three_four = 0
				three_four_reverse = 0
				not = {
					three_four = 1
					three_four_reverse = 1
				}
			}
			and = {
				three_four = 1
				three_four_reverse = 1
				not = {
					three_four = 2
					three_four_reverse = 2
				}
			}
			and = {
				three_four = 2
				three_four_reverse = 2
				not = {
					three_four = 3
					three_four_reverse = 3
				}
			}
			and = {
				three_four = 3
				three_four_reverse = 3
				not = {
					three_four = 4
					three_four_reverse = 4
				}
			}
			and = {
				three_four = 4
				three_four_reverse = 4
				not = {
					three_four = 5
					three_four_reverse = 5
				}
			}
			and = {
				three_four = 5
				three_four_reverse = 5
			}
		}
		or = {
			and = {
				five_two = 0
				five_two_reverse = 0
				not = {
					five_two = 1
					five_two_reverse = 1
				}
			}
			and = {
				five_two = 1
				five_two_reverse = 1
				not = {
					five_two = 2
					five_two_reverse = 2
				}
			}
			and = {
				five_two = 2
				five_two_reverse = 2
				not = {
					five_two = 3
					five_two_reverse = 3
				}
			}
			and = {
				five_two = 3
				five_two_reverse = 3
				not = {
					five_two = 4
					five_two_reverse = 4
				}
			}
			and = {
				five_two = 4
				five_two_reverse = 4
				not = {
					five_two = 5
					five_two_reverse = 5
				}
			}
			and = {
				five_two = 5
				five_two_reverse = 5
			}
		}

		or = {
			and = {
				four_two = 0
				four_two_reverse = 0
				not = { four_two = 1 }
			}
			and = {
				four_two = 1
				four_two_reverse = 1
				not = { four_two = 2 }
			}
			and = {
				four_two = 2
				four_two_reverse = 2
				not = { four_two = 3 }
			}
			and = {
				four_two = 3
				four_two_reverse = 3
				not = { four_two = 4 }
			}
			and = {
				four_two = 4
				four_two_reverse = 4
				not = { four_two = 5 }
			}
		}
	}

	battleship = {
		positioning = 0.08
		sea_attack = 2.5
	}
	command_battleship = {
		positioning = 0.08
		sea_attack = 2.5
	}
	battlecruiser = {
		positioning = 0.08
		sea_attack = 2.5
	}
	super_heavy_battleship = {
		positioning = 0.08
		sea_attack = 2.5
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

four_two_reverse = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				four_two = 1
				four_two_reverse = 0
				not = { four_two_reverse = 1 }
			}
			and = {
				four_two = 2
				four_two_reverse = 1
				not = { four_two_reverse = 2 }
			}
			and = {
				four_two = 3
				four_two_reverse = 2
				not = { four_two_reverse = 3 }
			}
			and = {
				four_two = 4
				four_two_reverse = 3
				not = { four_two_reverse = 4 }
			}
		}
	}

	battleship = {
		positioning = -0.08
		sea_attack = -2.5
	}
	command_battleship = {
		positioning = -0.08
		sea_attack = -2.5
	}
	battlecruiser = {
		positioning = -0.08
		sea_attack = -2.5
	}
	super_heavy_battleship = {
		positioning = -0.08
		sea_attack = -2.5
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}



four_three = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_three = 0
				three_three_reverse = 0
				not = {
					three_three = 1
					three_three_reverse = 1
				}
			}
			and = {
				three_three = 1
				three_three_reverse = 1
				not = {
					three_three = 2
					three_three_reverse = 2
				}
			}
			and = {
				three_three = 2
				three_three_reverse = 2
				not = {
					three_three = 3
					three_three_reverse = 3
				}
			}
			and = {
				three_three = 3
				three_three_reverse = 3
				not = {
					three_three = 4
					three_three_reverse = 4
				}
			}
			and = {
				three_three = 4
				three_three_reverse = 4
				not = {
					three_three = 5
					three_three_reverse = 5
				}
			}
			and = {
				three_three = 5
				three_three_reverse = 5
			}
		}
		or = {
			and = {
				four_two = 0
				four_two_reverse = 0
				not = {
					four_two = 1
					four_two_reverse = 1
				}
			}
			and = {
				four_two = 1
				four_two_reverse = 1
				not = {
					four_two = 2
					four_two_reverse = 2
				}
			}
			and = {
				four_two = 2
				four_two_reverse = 2
				not = {
					four_two = 3
					four_two_reverse = 3
				}
			}
			and = {
				four_two = 3
				four_two_reverse = 3
				not = {
					four_two = 4
					four_two_reverse = 4
				}
			}
			and = {
				four_two = 4
				four_two_reverse = 4
				not = {
					four_two = 5
					four_two_reverse = 5
				}
			}
			and = {
				four_two = 5
				four_two_reverse = 5
			}
		}
		or = {
			and = {
				three_four = 0
				three_four_reverse = 0
				not = {
					three_four = 1
					three_four_reverse = 1
				}
			}
			and = {
				three_four = 1
				three_four_reverse = 1
				not = {
					three_four = 2
					three_four_reverse = 2
				}
			}
			and = {
				three_four = 2
				three_four_reverse = 2
				not = {
					three_four = 3
					three_four_reverse = 3
				}
			}
			and = {
				three_four = 3
				three_four_reverse = 3
				not = {
					three_four = 4
					three_four_reverse = 4
				}
			}
			and = {
				three_four = 4
				three_four_reverse = 4
				not = {
					three_four = 5
					three_four_reverse = 5
				}
			}
			and = {
				three_four = 5
				three_four_reverse = 5
			}
		}
		or = {
			and = {
				five_two = 0
				five_two_reverse = 0
				not = {
					five_two = 1
					five_two_reverse = 1
				}
			}
			and = {
				five_two = 1
				five_two_reverse = 1
				not = {
					five_two = 2
					five_two_reverse = 2
				}
			}
			and = {
				five_two = 2
				five_two_reverse = 2
				not = {
					five_two = 3
					five_two_reverse = 3
				}
			}
			and = {
				five_two = 3
				five_two_reverse = 3
				not = {
					five_two = 4
					five_two_reverse = 4
				}
			}
			and = {
				five_two = 4
				five_two_reverse = 4
				not = {
					five_two = 5
					five_two_reverse = 5
				}
			}
			and = {
				five_two = 5
				five_two_reverse = 5
			}
		}

		or = {
			and = {
				four_three = 0
				four_three_reverse = 0
				not = { four_three = 1 }
			}
			and = {
				four_three = 1
				four_three_reverse = 1
				not = { four_three = 2 }
			}
			and = {
				four_three = 2
				four_three_reverse = 2
				not = { four_three = 3 }
			}
			and = {
				four_three = 3
				four_three_reverse = 3
				not = { four_three = 4 }
			}
			and = {
				four_three = 4
				four_three_reverse = 4
				not = { four_three = 5 }
			}
		}
	}

	battleship = {
		positioning = 0.08
		sea_attack = 6.5
		sea_defence = -2.5
		hull = -0.25
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	command_battleship = {
		positioning = 0.08
		sea_attack = 6.5
		sea_defence = -2.5
		hull = -0.25
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	battlecruiser = {
		positioning = 0.08
		sea_attack = 6.5
		sea_defence = -3.75
		hull = -0.25
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	super_heavy_battleship = {
		positioning = 0.08
		sea_attack = 6.5
		supply_consumption = 0.25
		#build_cost_ic = 3
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

four_three_reverse = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				four_three = 1
				four_three_reverse = 0
				not = { four_three_reverse = 1 }
			}
			and = {
				four_three = 2
				four_three_reverse = 1
				not = { four_three_reverse = 2 }
			}
			and = {
				four_three = 3
				four_three_reverse = 2
				not = { four_three_reverse = 3 }
			}
			and = {
				four_three = 4
				four_three_reverse = 3
				not = { four_three_reverse = 4 }
			}
			and = {
				four_three = 5
				four_three_reverse = 4
				not = { four_three_reverse = 5 }
			}
		}
	}

	battleship = {
		positioning = -0.08
		sea_attack = -6.5
		sea_defence = 2.5
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	command_battleship = {
		positioning = -0.08
		sea_attack = -6.5
		sea_defence = 2.5
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	battlecruiser = {
		positioning = -0.08
		sea_attack = -6.5
		sea_defence = 3.75
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	super_heavy_battleship = {
		positioning = -0.08
		sea_attack = -6.5
		supply_consumption = -0.25
		#build_cost_ic = -3
	}

	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

three_four = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_three = 0
				three_three_reverse = 0
				not = {
					three_three = 1
					three_three_reverse = 1
				}
			}
			and = {
				three_three = 1
				three_three_reverse = 1
				not = {
					three_three = 2
					three_three_reverse = 2
				}
			}
			and = {
				three_three = 2
				three_three_reverse = 2
				not = {
					three_three = 3
					three_three_reverse = 3
				}
			}
			and = {
				three_three = 3
				three_three_reverse = 3
				not = {
					three_three = 4
					three_three_reverse = 4
				}
			}
			and = {
				three_three = 4
				three_three_reverse = 4
				not = {
					three_three = 5
					three_three_reverse = 5
				}
			}
			and = {
				three_three = 5
				three_three_reverse = 5
			}
		}
		or = {
			and = {
				four_two = 0
				four_two_reverse = 0
				not = {
					four_two = 1
					four_two_reverse = 1
				}
			}
			and = {
				four_two = 1
				four_two_reverse = 1
				not = {
					four_two = 2
					four_two_reverse = 2
				}
			}
			and = {
				four_two = 2
				four_two_reverse = 2
				not = {
					four_two = 3
					four_two_reverse = 3
				}
			}
			and = {
				four_two = 3
				four_two_reverse = 3
				not = {
					four_two = 4
					four_two_reverse = 4
				}
			}
			and = {
				four_two = 4
				four_two_reverse = 4
				not = {
					four_two = 5
					four_two_reverse = 5
				}
			}
			and = {
				four_two = 5
				four_two_reverse = 5
			}
		}
		or = {
			and = {
				four_three = 0
				four_three_reverse = 0
				not = {
					four_three = 1
					four_three_reverse = 1
				}
			}
			and = {
				four_three = 1
				four_three_reverse = 1
				not = {
					four_three = 2
					four_three_reverse = 2
				}
			}
			and = {
				four_three = 2
				four_three_reverse = 2
				not = {
					four_three = 3
					four_three_reverse = 3
				}
			}
			and = {
				four_three = 3
				four_three_reverse = 3
				not = {
					four_three = 4
					four_three_reverse = 4
				}
			}
			and = {
				four_three = 4
				four_three_reverse = 4
				not = {
					four_three = 5
					four_three_reverse = 5
				}
			}
			and = {
				four_three = 5
				four_three_reverse = 5
			}
		}
		or = {
			and = {
				five_two = 0
				five_two_reverse = 0
				not = {
					five_two = 1
					five_two_reverse = 1
				}
			}
			and = {
				five_two = 1
				five_two_reverse = 1
				not = {
					five_two = 2
					five_two_reverse = 2
				}
			}
			and = {
				five_two = 2
				five_two_reverse = 2
				not = {
					five_two = 3
					five_two_reverse = 3
				}
			}
			and = {
				five_two = 3
				five_two_reverse = 3
				not = {
					five_two = 4
					five_two_reverse = 4
				}
			}
			and = {
				five_two = 4
				five_two_reverse = 4
				not = {
					five_two = 5
					five_two_reverse = 5
				}
			}
			and = {
				five_two = 5
				five_two_reverse = 5
			}
		}

		or = {
			and = {
				three_four = 0
				three_four_reverse = 0
				not = { three_four = 1 }
			}
			and = {
				three_four = 1
				three_four_reverse = 1
				not = { three_four = 2 }
			}
			and = {
				three_four = 2
				three_four_reverse = 2
				not = { three_four = 3 }
			}
			and = {
				three_four = 3
				three_four_reverse = 3
				not = { three_four = 4 }
			}
			and = {
				three_four = 4
				three_four_reverse = 4
				not = { three_four = 5 }
			}
		}
	}

	battleship = {
		positioning = 0.04
		sea_attack = 6.5
		hull = -0.5
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	command_battleship = {
		positioning = 0.04
		sea_attack = 6.5
		hull = -0.5
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	battlecruiser = {
		positioning = 0.04
		sea_attack = 6.5
		hull = -0.5
		supply_consumption = 0.25
		#build_cost_ic = 2
	}
	super_heavy_battleship = {
		positioning = 0.04
		sea_attack = 6.5
		supply_consumption = 0.25
		#build_cost_ic = 3
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

three_four_reverse = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_four = 1
				three_four_reverse = 0
				not = { three_four_reverse = 1 }
			}
			and = {
				three_four = 2
				three_four_reverse = 1
				not = { three_four_reverse = 2 }
			}
			and = {
				three_four = 3
				three_four_reverse = 2
				not = { three_four_reverse = 3 }
			}
			and = {
				three_four = 4
				three_four_reverse = 3
				not = { three_four_reverse = 4 }
			}
			and = {
				three_four = 5
				three_four_reverse = 4
				not = { three_four_reverse = 5 }
			}
		}
	}

	battleship = {
		positioning = -0.04
		sea_attack = -6.5
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	command_battleship = {
		positioning = -0.04
		sea_attack = -6.5
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	battlecruiser = {
		positioning = -0.04
		sea_attack = -6.5
		hull = 0.5
		supply_consumption = -0.25
		#build_cost_ic = -2
	}
	super_heavy_battleship = {
		positioning = -0.04
		sea_attack = -6.5
		supply_consumption = -0.25
		#build_cost_ic = -3
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}


five_two = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				three_three = 0
				three_three_reverse = 0
				not = {
					three_three = 1
					three_three_reverse = 1
				}
			}
			and = {
				three_three = 1
				three_three_reverse = 1
				not = {
					three_three = 2
					three_three_reverse = 2
				}
			}
			and = {
				three_three = 2
				three_three_reverse = 2
				not = {
					three_three = 3
					three_three_reverse = 3
				}
			}
			and = {
				three_three = 3
				three_three_reverse = 3
				not = {
					three_three = 4
					three_three_reverse = 4
				}
			}
			and = {
				three_three = 4
				three_three_reverse = 4
				not = {
					three_three = 5
					three_three_reverse = 5
				}
			}
			and = {
				three_three = 5
				three_three_reverse = 5
			}
		}
		or = {
			and = {
				four_two = 0
				four_two_reverse = 0
				not = {
					four_two = 1
					four_two_reverse = 1
				}
			}
			and = {
				four_two = 1
				four_two_reverse = 1
				not = {
					four_two = 2
					four_two_reverse = 2
				}
			}
			and = {
				four_two = 2
				four_two_reverse = 2
				not = {
					four_two = 3
					four_two_reverse = 3
				}
			}
			and = {
				four_two = 3
				four_two_reverse = 3
				not = {
					four_two = 4
					four_two_reverse = 4
				}
			}
			and = {
				four_two = 4
				four_two_reverse = 4
				not = {
					four_two = 5
					four_two_reverse = 5
				}
			}
			and = {
				four_two = 5
				four_two_reverse = 5
			}
		}
		or = {
			and = {
				four_three = 0
				four_three_reverse = 0
				not = {
					four_three = 1
					four_three_reverse = 1
				}
			}
			and = {
				four_three = 1
				four_three_reverse = 1
				not = {
					four_three = 2
					four_three_reverse = 2
				}
			}
			and = {
				four_three = 2
				four_three_reverse = 2
				not = {
					four_three = 3
					four_three_reverse = 3
				}
			}
			and = {
				four_three = 3
				four_three_reverse = 3
				not = {
					four_three = 4
					four_three_reverse = 4
				}
			}
			and = {
				four_three = 4
				four_three_reverse = 4
				not = {
					four_three = 5
					four_three_reverse = 5
				}
			}
			and = {
				four_three = 5
				four_three_reverse = 5
			}
		}
		or = {
			and = {
				three_four = 0
				three_four_reverse = 0
				not = {
					three_four = 1
					three_four_reverse = 1
				}
			}
			and = {
				three_four = 1
				three_four_reverse = 1
				not = {
					three_four = 2
					three_four_reverse = 2
				}
			}
			and = {
				three_four = 2
				three_four_reverse = 2
				not = {
					three_four = 3
					three_four_reverse = 3
				}
			}
			and = {
				three_four = 3
				three_four_reverse = 3
				not = {
					three_four = 4
					three_four_reverse = 4
				}
			}
			and = {
				three_four = 4
				three_four_reverse = 4
				not = {
					three_four = 5
					three_four_reverse = 5
				}
			}
			and = {
				three_four = 5
				three_four_reverse = 5
			}
		}

		or = {
			and = {
				five_two = 0
				five_two_reverse = 0
				not = { five_two = 1 }
			}
			and = {
				five_two = 1
				five_two_reverse = 1
				not = { five_two = 2 }
			}
			and = {
				five_two = 2
				five_two_reverse = 2
				not = { five_two = 3 }
			}
			and = {
				five_two = 3
				five_two_reverse = 3
				not = { five_two = 4 }
			}
			and = {
				five_two = 4
				five_two_reverse = 4
				not = { five_two = 5 }
			}
		}
	}

	battleship = {
		positioning = 0.1
		sea_attack = 5
		sea_defence = -2.5
		supply_consumption = 0.25
	}
	command_battleship = {
		positioning = 0.1
		sea_attack = 5
		sea_defence = -2.5
		supply_consumption = 0.25
	}
	battlecruiser = {
		positioning = 0.1
		sea_attack = 5
		sea_defence = -2.5
		supply_consumption = 0.25
	}
	super_heavy_battleship = {
		positioning = 0.1
		sea_attack = 5
		sea_defence = -2.5
		supply_consumption = 0.25
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

five_two_reverse = {

	allow = {
		has_country_flag = turret_choice
		or = {
			and = {
				five_two = 1
				five_two_reverse = 0
				not = { five_two_reverse = 1 }
			}
			and = {
				five_two = 2
				five_two_reverse = 1
				not = { five_two_reverse = 2 }
			}
			and = {
				five_two = 3
				five_two_reverse = 2
				not = { five_two_reverse = 3 }
			}
			and = {
				five_two = 4
				five_two_reverse = 3
				not = { five_two_reverse = 4 }
			}
			and = {
				five_two = 5
				five_two_reverse = 4
				not = { five_two_reverse = 5 }
			}
		}
	}

	battleship = {
		positioning = -0.1
		sea_attack = -5
		sea_defence = 2.5
		supply_consumption = -0.25
	}
	command_battleship = {
		positioning = -0.1
		sea_attack = -5
		sea_defence = 2.5
		supply_consumption = -0.25
	}
	battlecruiser = {
		positioning = -0.1
		sea_attack = -5
		sea_defence = 2.5
		supply_consumption = -0.25
	}
	super_heavy_battleship = {
		positioning = -0.1
		sea_attack = -5
		sea_defence = 2.5
		supply_consumption = -0.25
	}


	difficulty = 1

	change = no
	start_year = 1918
	first_offset = 1919
	additional_offset = 1
	max_level = 5
	folder = capitalship_II_folder
	stealable = no
	can_upgrade = no
}

proximity_fuze_ships = {

	allow = {
		has_country_flag = impossible
    }

	destroyer_actual = {
		air_attack = 0.5
	}
	frigate = {
		air_attack = 0.35
	}
	light_cruiser = {
		air_attack = 0.8
	}
	anti_air_cruiser = {
		air_attack = 2.3
	}
	heavy_cruiser = {
		air_attack = 2.0
	}
	pocket_battleship  ={
		air_attack = 1.3
	}
	battlecruiser = {
		air_attack = 2.0
	}
	battleship = {
		air_attack = 3.3
	}
	command_battleship = {
		air_attack = 3.3
	}
	super_heavy_battleship = {
		air_attack = 4.0
	}
	light_carrier = {
		air_attack = 0.7
	}
	escort_carrier = {
		air_attack = 0.5
	}
	carrier = {
		air_attack = 2.0
	}
	command_carrier = {
		air_attack = 2.0
	}

    research_bonus_from = {
    }

    on_completion = artillery_theory

    difficulty = 1

    start_year = 1944
    max_level = 1
	folder = capitalship_II_folder
	stealable = no
}



